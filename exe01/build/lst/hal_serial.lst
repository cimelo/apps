   1               		.file	"hal_serial.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   7               		.text
   8               	.Ltext0:
   9               		.cfi_sections	.debug_frame
  10               		.file 1 "../../os/hal/src/hal_serial.c"
  11               		.section	.text._readt,"ax",@progbits
  13               	_readt:
  14               	.LVL0:
  15               	.LFB153:
   1:../../os/hal/src/hal_serial.c **** /*
   2:../../os/hal/src/hal_serial.c ****     ChibiOS - Copyright (C) 2006..2018 Giovanni Di Sirio
   3:../../os/hal/src/hal_serial.c **** 
   4:../../os/hal/src/hal_serial.c ****     Licensed under the Apache License, Version 2.0 (the "License");
   5:../../os/hal/src/hal_serial.c ****     you may not use this file except in compliance with the License.
   6:../../os/hal/src/hal_serial.c ****     You may obtain a copy of the License at
   7:../../os/hal/src/hal_serial.c **** 
   8:../../os/hal/src/hal_serial.c ****         http://www.apache.org/licenses/LICENSE-2.0
   9:../../os/hal/src/hal_serial.c **** 
  10:../../os/hal/src/hal_serial.c ****     Unless required by applicable law or agreed to in writing, software
  11:../../os/hal/src/hal_serial.c ****     distributed under the License is distributed on an "AS IS" BASIS,
  12:../../os/hal/src/hal_serial.c ****     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  13:../../os/hal/src/hal_serial.c ****     See the License for the specific language governing permissions and
  14:../../os/hal/src/hal_serial.c ****     limitations under the License.
  15:../../os/hal/src/hal_serial.c **** */
  16:../../os/hal/src/hal_serial.c **** 
  17:../../os/hal/src/hal_serial.c **** /**
  18:../../os/hal/src/hal_serial.c ****  * @file    hal_serial.c
  19:../../os/hal/src/hal_serial.c ****  * @brief   Serial Driver code.
  20:../../os/hal/src/hal_serial.c ****  *
  21:../../os/hal/src/hal_serial.c ****  * @addtogroup SERIAL
  22:../../os/hal/src/hal_serial.c ****  * @{
  23:../../os/hal/src/hal_serial.c ****  */
  24:../../os/hal/src/hal_serial.c **** 
  25:../../os/hal/src/hal_serial.c **** #include "hal.h"
  26:../../os/hal/src/hal_serial.c **** 
  27:../../os/hal/src/hal_serial.c **** #if (HAL_USE_SERIAL == TRUE) || defined(__DOXYGEN__)
  28:../../os/hal/src/hal_serial.c **** 
  29:../../os/hal/src/hal_serial.c **** /*===========================================================================*/
  30:../../os/hal/src/hal_serial.c **** /* Driver local definitions.                                                 */
  31:../../os/hal/src/hal_serial.c **** /*===========================================================================*/
  32:../../os/hal/src/hal_serial.c **** 
  33:../../os/hal/src/hal_serial.c **** /*===========================================================================*/
  34:../../os/hal/src/hal_serial.c **** /* Driver exported variables.                                                */
  35:../../os/hal/src/hal_serial.c **** /*===========================================================================*/
  36:../../os/hal/src/hal_serial.c **** 
  37:../../os/hal/src/hal_serial.c **** /*===========================================================================*/
  38:../../os/hal/src/hal_serial.c **** /* Driver local variables and types.                                         */
  39:../../os/hal/src/hal_serial.c **** /*===========================================================================*/
  40:../../os/hal/src/hal_serial.c **** 
  41:../../os/hal/src/hal_serial.c **** /*===========================================================================*/
  42:../../os/hal/src/hal_serial.c **** /* Driver local functions.                                                   */
  43:../../os/hal/src/hal_serial.c **** /*===========================================================================*/
  44:../../os/hal/src/hal_serial.c **** 
  45:../../os/hal/src/hal_serial.c **** /*
  46:../../os/hal/src/hal_serial.c ****  * Interface implementation, the following functions just invoke the equivalent
  47:../../os/hal/src/hal_serial.c ****  * queue-level function or macro.
  48:../../os/hal/src/hal_serial.c ****  */
  49:../../os/hal/src/hal_serial.c **** 
  50:../../os/hal/src/hal_serial.c **** static size_t _write(void *ip, const uint8_t *bp, size_t n) {
  51:../../os/hal/src/hal_serial.c **** 
  52:../../os/hal/src/hal_serial.c ****   return oqWriteTimeout(&((SerialDriver *)ip)->oqueue, bp,
  53:../../os/hal/src/hal_serial.c ****                         n, TIME_INFINITE);
  54:../../os/hal/src/hal_serial.c **** }
  55:../../os/hal/src/hal_serial.c **** 
  56:../../os/hal/src/hal_serial.c **** static size_t _read(void *ip, uint8_t *bp, size_t n) {
  57:../../os/hal/src/hal_serial.c **** 
  58:../../os/hal/src/hal_serial.c ****   return iqReadTimeout(&((SerialDriver *)ip)->iqueue, bp,
  59:../../os/hal/src/hal_serial.c ****                        n, TIME_INFINITE);
  60:../../os/hal/src/hal_serial.c **** }
  61:../../os/hal/src/hal_serial.c **** 
  62:../../os/hal/src/hal_serial.c **** static msg_t _put(void *ip, uint8_t b) {
  63:../../os/hal/src/hal_serial.c **** 
  64:../../os/hal/src/hal_serial.c ****   return oqPutTimeout(&((SerialDriver *)ip)->oqueue, b, TIME_INFINITE);
  65:../../os/hal/src/hal_serial.c **** }
  66:../../os/hal/src/hal_serial.c **** 
  67:../../os/hal/src/hal_serial.c **** static msg_t _get(void *ip) {
  68:../../os/hal/src/hal_serial.c **** 
  69:../../os/hal/src/hal_serial.c ****   return iqGetTimeout(&((SerialDriver *)ip)->iqueue, TIME_INFINITE);
  70:../../os/hal/src/hal_serial.c **** }
  71:../../os/hal/src/hal_serial.c **** 
  72:../../os/hal/src/hal_serial.c **** static msg_t _putt(void *ip, uint8_t b, sysinterval_t timeout) {
  73:../../os/hal/src/hal_serial.c **** 
  74:../../os/hal/src/hal_serial.c ****   return oqPutTimeout(&((SerialDriver *)ip)->oqueue, b, timeout);
  75:../../os/hal/src/hal_serial.c **** }
  76:../../os/hal/src/hal_serial.c **** 
  77:../../os/hal/src/hal_serial.c **** static msg_t _gett(void *ip, sysinterval_t timeout) {
  78:../../os/hal/src/hal_serial.c **** 
  79:../../os/hal/src/hal_serial.c ****   return iqGetTimeout(&((SerialDriver *)ip)->iqueue, timeout);
  80:../../os/hal/src/hal_serial.c **** }
  81:../../os/hal/src/hal_serial.c **** 
  82:../../os/hal/src/hal_serial.c **** static size_t _writet(void *ip, const uint8_t *bp, size_t n,
  83:../../os/hal/src/hal_serial.c ****                       sysinterval_t timeout) {
  84:../../os/hal/src/hal_serial.c **** 
  85:../../os/hal/src/hal_serial.c ****   return oqWriteTimeout(&((SerialDriver *)ip)->oqueue, bp, n, timeout);
  86:../../os/hal/src/hal_serial.c **** }
  87:../../os/hal/src/hal_serial.c **** 
  88:../../os/hal/src/hal_serial.c **** static size_t _readt(void *ip, uint8_t *bp, size_t n,
  89:../../os/hal/src/hal_serial.c ****                      sysinterval_t timeout) {
  16               		.loc 1 89 45 view -0
  17               		.cfi_startproc
  18               	/* prologue: function */
  19               	/* frame size = 0 */
  20               	/* stack size = 0 */
  21               	.L__stack_usage = 0
  90:../../os/hal/src/hal_serial.c **** 
  91:../../os/hal/src/hal_serial.c ****   return iqReadTimeout(&((SerialDriver *)ip)->iqueue, bp, n, timeout);
  22               		.loc 1 91 3 view .LVU1
  23               		.loc 1 91 10 is_stmt 0 view .LVU2
  24 0000 0596      		adiw r24,5
  25               	.LVL1:
  26               		.loc 1 91 10 view .LVU3
  27 0002 0C94 0000 		jmp iqReadTimeout
  28               	.LVL2:
  29               		.loc 1 91 10 view .LVU4
  30               		.cfi_endproc
  31               	.LFE153:
  33               		.section	.text._read,"ax",@progbits
  35               	_read:
  36               	.LVL3:
  37               	.LFB147:
  56:../../os/hal/src/hal_serial.c **** 
  38               		.loc 1 56 54 is_stmt 1 view -0
  39               		.cfi_startproc
  40               	/* prologue: function */
  41               	/* frame size = 0 */
  42               	/* stack size = 0 */
  43               	.L__stack_usage = 0
  58:../../os/hal/src/hal_serial.c ****                        n, TIME_INFINITE);
  44               		.loc 1 58 3 view .LVU6
  58:../../os/hal/src/hal_serial.c ****                        n, TIME_INFINITE);
  45               		.loc 1 58 10 is_stmt 0 view .LVU7
  46 0000 20E0      		ldi r18,0
  47 0002 30E0      		ldi r19,0
  48 0004 0596      		adiw r24,5
  49               	.LVL4:
  58:../../os/hal/src/hal_serial.c ****                        n, TIME_INFINITE);
  50               		.loc 1 58 10 view .LVU8
  51 0006 0C94 0000 		jmp iqReadTimeout
  52               	.LVL5:
  58:../../os/hal/src/hal_serial.c ****                        n, TIME_INFINITE);
  53               		.loc 1 58 10 view .LVU9
  54               		.cfi_endproc
  55               	.LFE147:
  57               		.section	.text._writet,"ax",@progbits
  59               	_writet:
  60               	.LVL6:
  61               	.LFB152:
  83:../../os/hal/src/hal_serial.c **** 
  62               		.loc 1 83 46 is_stmt 1 view -0
  63               		.cfi_startproc
  64               	/* prologue: function */
  65               	/* frame size = 0 */
  66               	/* stack size = 0 */
  67               	.L__stack_usage = 0
  85:../../os/hal/src/hal_serial.c **** }
  68               		.loc 1 85 3 view .LVU11
  85:../../os/hal/src/hal_serial.c **** }
  69               		.loc 1 85 10 is_stmt 0 view .LVU12
  70 0000 4496      		adiw r24,20
  71               	.LVL7:
  85:../../os/hal/src/hal_serial.c **** }
  72               		.loc 1 85 10 view .LVU13
  73 0002 0C94 0000 		jmp oqWriteTimeout
  74               	.LVL8:
  85:../../os/hal/src/hal_serial.c **** }
  75               		.loc 1 85 10 view .LVU14
  76               		.cfi_endproc
  77               	.LFE152:
  79               		.section	.text._write,"ax",@progbits
  81               	_write:
  82               	.LVL9:
  83               	.LFB146:
  50:../../os/hal/src/hal_serial.c **** 
  84               		.loc 1 50 61 is_stmt 1 view -0
  85               		.cfi_startproc
  86               	/* prologue: function */
  87               	/* frame size = 0 */
  88               	/* stack size = 0 */
  89               	.L__stack_usage = 0
  52:../../os/hal/src/hal_serial.c ****                         n, TIME_INFINITE);
  90               		.loc 1 52 3 view .LVU16
  52:../../os/hal/src/hal_serial.c ****                         n, TIME_INFINITE);
  91               		.loc 1 52 10 is_stmt 0 view .LVU17
  92 0000 20E0      		ldi r18,0
  93 0002 30E0      		ldi r19,0
  94 0004 4496      		adiw r24,20
  95               	.LVL10:
  52:../../os/hal/src/hal_serial.c ****                         n, TIME_INFINITE);
  96               		.loc 1 52 10 view .LVU18
  97 0006 0C94 0000 		jmp oqWriteTimeout
  98               	.LVL11:
  52:../../os/hal/src/hal_serial.c ****                         n, TIME_INFINITE);
  99               		.loc 1 52 10 view .LVU19
 100               		.cfi_endproc
 101               	.LFE146:
 103               		.section	.text._gett,"ax",@progbits
 105               	_gett:
 106               	.LVL12:
 107               	.LFB151:
  77:../../os/hal/src/hal_serial.c **** 
 108               		.loc 1 77 53 is_stmt 1 view -0
 109               		.cfi_startproc
 110               	/* prologue: function */
 111               	/* frame size = 0 */
 112               	/* stack size = 0 */
 113               	.L__stack_usage = 0
  79:../../os/hal/src/hal_serial.c **** }
 114               		.loc 1 79 3 view .LVU21
  79:../../os/hal/src/hal_serial.c **** }
 115               		.loc 1 79 10 is_stmt 0 view .LVU22
 116 0000 0596      		adiw r24,5
 117               	.LVL13:
  79:../../os/hal/src/hal_serial.c **** }
 118               		.loc 1 79 10 view .LVU23
 119 0002 0C94 0000 		jmp iqGetTimeout
 120               	.LVL14:
  79:../../os/hal/src/hal_serial.c **** }
 121               		.loc 1 79 10 view .LVU24
 122               		.cfi_endproc
 123               	.LFE151:
 125               		.section	.text._get,"ax",@progbits
 127               	_get:
 128               	.LVL15:
 129               	.LFB149:
  67:../../os/hal/src/hal_serial.c **** 
 130               		.loc 1 67 29 is_stmt 1 view -0
 131               		.cfi_startproc
 132               	/* prologue: function */
 133               	/* frame size = 0 */
 134               	/* stack size = 0 */
 135               	.L__stack_usage = 0
  69:../../os/hal/src/hal_serial.c **** }
 136               		.loc 1 69 3 view .LVU26
  69:../../os/hal/src/hal_serial.c **** }
 137               		.loc 1 69 10 is_stmt 0 view .LVU27
 138 0000 60E0      		ldi r22,0
 139 0002 70E0      		ldi r23,0
 140 0004 0596      		adiw r24,5
 141               	.LVL16:
  69:../../os/hal/src/hal_serial.c **** }
 142               		.loc 1 69 10 view .LVU28
 143 0006 0C94 0000 		jmp iqGetTimeout
 144               	.LVL17:
  69:../../os/hal/src/hal_serial.c **** }
 145               		.loc 1 69 10 view .LVU29
 146               		.cfi_endproc
 147               	.LFE149:
 149               		.section	.text._putt,"ax",@progbits
 151               	_putt:
 152               	.LVL18:
 153               	.LFB150:
  72:../../os/hal/src/hal_serial.c **** 
 154               		.loc 1 72 64 is_stmt 1 view -0
 155               		.cfi_startproc
 156               	/* prologue: function */
 157               	/* frame size = 0 */
 158               	/* stack size = 0 */
 159               	.L__stack_usage = 0
  74:../../os/hal/src/hal_serial.c **** }
 160               		.loc 1 74 3 view .LVU31
  74:../../os/hal/src/hal_serial.c **** }
 161               		.loc 1 74 10 is_stmt 0 view .LVU32
 162 0000 4496      		adiw r24,20
 163               	.LVL19:
  74:../../os/hal/src/hal_serial.c **** }
 164               		.loc 1 74 10 view .LVU33
 165 0002 0C94 0000 		jmp oqPutTimeout
 166               	.LVL20:
  74:../../os/hal/src/hal_serial.c **** }
 167               		.loc 1 74 10 view .LVU34
 168               		.cfi_endproc
 169               	.LFE150:
 171               		.section	.text._put,"ax",@progbits
 173               	_put:
 174               	.LVL21:
 175               	.LFB148:
  62:../../os/hal/src/hal_serial.c **** 
 176               		.loc 1 62 40 is_stmt 1 view -0
 177               		.cfi_startproc
 178               	/* prologue: function */
 179               	/* frame size = 0 */
 180               	/* stack size = 0 */
 181               	.L__stack_usage = 0
  64:../../os/hal/src/hal_serial.c **** }
 182               		.loc 1 64 3 view .LVU36
  64:../../os/hal/src/hal_serial.c **** }
 183               		.loc 1 64 10 is_stmt 0 view .LVU37
 184 0000 40E0      		ldi r20,0
 185 0002 50E0      		ldi r21,0
 186 0004 4496      		adiw r24,20
 187               	.LVL22:
  64:../../os/hal/src/hal_serial.c **** }
 188               		.loc 1 64 10 view .LVU38
 189 0006 0C94 0000 		jmp oqPutTimeout
 190               	.LVL23:
  64:../../os/hal/src/hal_serial.c **** }
 191               		.loc 1 64 10 view .LVU39
 192               		.cfi_endproc
 193               	.LFE148:
 195               		.section	.text._ctl,"ax",@progbits
 197               	_ctl:
 198               	.LFB165:
 199               		.cfi_startproc
  92:../../os/hal/src/hal_serial.c **** }
  93:../../os/hal/src/hal_serial.c **** 
  94:../../os/hal/src/hal_serial.c **** static msg_t _ctl(void *ip, unsigned int operation, void *arg) {
 200               		.loc 1 94 14 is_stmt 1 view -0
 201               	/* prologue: function */
 202               	/* frame size = 0 */
 203               	/* stack size = 0 */
 204               	.L__stack_usage = 0
 205 0000 6130      		cpi r22,1
 206 0002 7105      		cpc r23,__zero_reg__
 207 0004 01F4      		brne .L13
 208 0006 80E0      		ldi r24,0
 209 0008 90E0      		ldi r25,0
 210               	/* epilogue start */
 211 000a 0895      		ret
 212               	.L13:
 213 000c 8CEE      		ldi r24,lo8(-20)
 214 000e 9FEF      		ldi r25,lo8(-1)
 215 0010 0895      		ret
 216               		.cfi_endproc
 217               	.LFE165:
 219               		.section	.text.sdInit,"ax",@progbits
 220               	.global	sdInit
 222               	sdInit:
 223               	.LFB155:
  95:../../os/hal/src/hal_serial.c ****   SerialDriver *sdp = (SerialDriver *)ip;
  96:../../os/hal/src/hal_serial.c **** 
  97:../../os/hal/src/hal_serial.c ****   osalDbgCheck(sdp != NULL);
  98:../../os/hal/src/hal_serial.c **** 
  99:../../os/hal/src/hal_serial.c ****   switch (operation) {
 100:../../os/hal/src/hal_serial.c ****   case CHN_CTL_NOP:
 101:../../os/hal/src/hal_serial.c ****     osalDbgCheck(arg == NULL);
 102:../../os/hal/src/hal_serial.c ****     break;
 103:../../os/hal/src/hal_serial.c ****   case CHN_CTL_INVALID:
 104:../../os/hal/src/hal_serial.c ****     return HAL_RET_UNKNOWN_CTL;
 105:../../os/hal/src/hal_serial.c ****   default:
 106:../../os/hal/src/hal_serial.c **** #if defined(SD_LLD_IMPLEMENTS_CTL)
 107:../../os/hal/src/hal_serial.c ****     /* Delegating to the LLD if supported.*/
 108:../../os/hal/src/hal_serial.c ****     return sd_lld_control(sdp, operation, arg);
 109:../../os/hal/src/hal_serial.c **** #else
 110:../../os/hal/src/hal_serial.c ****     return HAL_RET_UNKNOWN_CTL;
 111:../../os/hal/src/hal_serial.c **** #endif
 112:../../os/hal/src/hal_serial.c ****   }
 113:../../os/hal/src/hal_serial.c ****   return HAL_RET_SUCCESS;
 114:../../os/hal/src/hal_serial.c **** }
 115:../../os/hal/src/hal_serial.c **** 
 116:../../os/hal/src/hal_serial.c **** static const struct SerialDriverVMT vmt = {
 117:../../os/hal/src/hal_serial.c ****   (size_t)0,
 118:../../os/hal/src/hal_serial.c ****   _write, _read, _put, _get,
 119:../../os/hal/src/hal_serial.c ****   _putt, _gett, _writet, _readt,
 120:../../os/hal/src/hal_serial.c ****   _ctl
 121:../../os/hal/src/hal_serial.c **** };
 122:../../os/hal/src/hal_serial.c **** 
 123:../../os/hal/src/hal_serial.c **** /*===========================================================================*/
 124:../../os/hal/src/hal_serial.c **** /* Driver exported functions.                                                */
 125:../../os/hal/src/hal_serial.c **** /*===========================================================================*/
 126:../../os/hal/src/hal_serial.c **** 
 127:../../os/hal/src/hal_serial.c **** /**
 128:../../os/hal/src/hal_serial.c ****  * @brief   Serial Driver initialization.
 129:../../os/hal/src/hal_serial.c ****  * @note    This function is implicitly invoked by @p halInit(), there is
 130:../../os/hal/src/hal_serial.c ****  *          no need to explicitly initialize the driver.
 131:../../os/hal/src/hal_serial.c ****  *
 132:../../os/hal/src/hal_serial.c ****  * @init
 133:../../os/hal/src/hal_serial.c ****  */
 134:../../os/hal/src/hal_serial.c **** void sdInit(void) {
 224               		.loc 1 134 19 view -0
 225               		.cfi_startproc
 226               	/* prologue: function */
 227               	/* frame size = 0 */
 228               	/* stack size = 0 */
 229               	.L__stack_usage = 0
 135:../../os/hal/src/hal_serial.c **** 
 136:../../os/hal/src/hal_serial.c ****   sd_lld_init();
 230               		.loc 1 136 3 view .LVU42
 231 0000 0C94 0000 		jmp sd_lld_init
 232               	.LVL24:
 233               		.cfi_endproc
 234               	.LFE155:
 236               		.section	.text.sdObjectInit,"ax",@progbits
 237               	.global	sdObjectInit
 239               	sdObjectInit:
 240               	.LVL25:
 241               	.LFB156:
 137:../../os/hal/src/hal_serial.c **** }
 138:../../os/hal/src/hal_serial.c **** 
 139:../../os/hal/src/hal_serial.c **** /**
 140:../../os/hal/src/hal_serial.c ****  * @brief   Initializes a generic serial driver object.
 141:../../os/hal/src/hal_serial.c ****  * @details The HW dependent part of the initialization has to be performed
 142:../../os/hal/src/hal_serial.c ****  *          outside, usually in the hardware initialization code.
 143:../../os/hal/src/hal_serial.c ****  *
 144:../../os/hal/src/hal_serial.c ****  * @param[out] sdp      pointer to a @p SerialDriver structure
 145:../../os/hal/src/hal_serial.c ****  * @param[in] inotify   pointer to a callback function that is invoked when
 146:../../os/hal/src/hal_serial.c ****  *                      some data is read from the Queue. The value can be
 147:../../os/hal/src/hal_serial.c ****  *                      @p NULL.
 148:../../os/hal/src/hal_serial.c ****  * @param[in] onotify   pointer to a callback function that is invoked when
 149:../../os/hal/src/hal_serial.c ****  *                      some data is written in the Queue. The value can be
 150:../../os/hal/src/hal_serial.c ****  *                      @p NULL.
 151:../../os/hal/src/hal_serial.c ****  *
 152:../../os/hal/src/hal_serial.c ****  * @init
 153:../../os/hal/src/hal_serial.c ****  */
 154:../../os/hal/src/hal_serial.c **** #if !defined(SERIAL_ADVANCED_BUFFERING_SUPPORT) ||                          \
 155:../../os/hal/src/hal_serial.c ****     (SERIAL_ADVANCED_BUFFERING_SUPPORT == FALSE) ||                         \
 156:../../os/hal/src/hal_serial.c ****     defined(__DOXYGEN__)
 157:../../os/hal/src/hal_serial.c **** void sdObjectInit(SerialDriver *sdp, qnotify_t inotify, qnotify_t onotify) {
 242               		.loc 1 157 76 view -0
 243               		.cfi_startproc
 244               		.loc 1 157 76 is_stmt 0 view .LVU44
 245 0000 EF92      		push r14
 246               	.LCFI0:
 247               		.cfi_def_cfa_offset 3
 248               		.cfi_offset 14, -2
 249 0002 FF92      		push r15
 250               	.LCFI1:
 251               		.cfi_def_cfa_offset 4
 252               		.cfi_offset 15, -3
 253 0004 0F93      		push r16
 254               	.LCFI2:
 255               		.cfi_def_cfa_offset 5
 256               		.cfi_offset 16, -4
 257 0006 1F93      		push r17
 258               	.LCFI3:
 259               		.cfi_def_cfa_offset 6
 260               		.cfi_offset 17, -5
 261 0008 CF93      		push r28
 262               	.LCFI4:
 263               		.cfi_def_cfa_offset 7
 264               		.cfi_offset 28, -6
 265 000a DF93      		push r29
 266               	.LCFI5:
 267               		.cfi_def_cfa_offset 8
 268               		.cfi_offset 29, -7
 269               	/* prologue: function */
 270               	/* frame size = 0 */
 271               	/* stack size = 6 */
 272               	.L__stack_usage = 6
 273 000c EC01      		movw r28,r24
 274 000e 9B01      		movw r18,r22
 275 0010 7A01      		movw r14,r20
 158:../../os/hal/src/hal_serial.c **** 
 159:../../os/hal/src/hal_serial.c ****   sdp->vmt = &vmt;
 276               		.loc 1 159 3 is_stmt 1 view .LVU45
 277               		.loc 1 159 12 is_stmt 0 view .LVU46
 278 0012 FC01      		movw r30,r24
 279 0014 80E0      		ldi r24,lo8(vmt)
 280 0016 90E0      		ldi r25,hi8(vmt)
 281               	.LVL26:
 282               		.loc 1 159 12 view .LVU47
 283 0018 8193      		st Z+,r24
 284 001a 9193      		st Z+,r25
 160:../../os/hal/src/hal_serial.c ****   osalEventObjectInit(&sdp->event);
 285               		.loc 1 160 3 is_stmt 1 view .LVU48
 286               	.LVL27:
 287               	.LBB50:
 288               	.LBI50:
 289               		.file 2 "../../os/hal/osal/rt-nil/osal.h"
   1:../../os/hal/osal/rt-nil/osal.h **** /*
   2:../../os/hal/osal/rt-nil/osal.h ****     ChibiOS - Copyright (C) 2006..2018 Giovanni Di Sirio
   3:../../os/hal/osal/rt-nil/osal.h **** 
   4:../../os/hal/osal/rt-nil/osal.h ****     Licensed under the Apache License, Version 2.0 (the "License");
   5:../../os/hal/osal/rt-nil/osal.h ****     you may not use this file except in compliance with the License.
   6:../../os/hal/osal/rt-nil/osal.h ****     You may obtain a copy of the License at
   7:../../os/hal/osal/rt-nil/osal.h **** 
   8:../../os/hal/osal/rt-nil/osal.h ****         http://www.apache.org/licenses/LICENSE-2.0
   9:../../os/hal/osal/rt-nil/osal.h **** 
  10:../../os/hal/osal/rt-nil/osal.h ****     Unless required by applicable law or agreed to in writing, software
  11:../../os/hal/osal/rt-nil/osal.h ****     distributed under the License is distributed on an "AS IS" BASIS,
  12:../../os/hal/osal/rt-nil/osal.h ****     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  13:../../os/hal/osal/rt-nil/osal.h ****     See the License for the specific language governing permissions and
  14:../../os/hal/osal/rt-nil/osal.h ****     limitations under the License.
  15:../../os/hal/osal/rt-nil/osal.h **** */
  16:../../os/hal/osal/rt-nil/osal.h **** 
  17:../../os/hal/osal/rt-nil/osal.h **** /**
  18:../../os/hal/osal/rt-nil/osal.h ****  * @file    osal.h
  19:../../os/hal/osal/rt-nil/osal.h ****  * @brief   OSAL module header.
  20:../../os/hal/osal/rt-nil/osal.h ****  *
  21:../../os/hal/osal/rt-nil/osal.h ****  * @addtogroup OSAL
  22:../../os/hal/osal/rt-nil/osal.h ****  * @{
  23:../../os/hal/osal/rt-nil/osal.h ****  */
  24:../../os/hal/osal/rt-nil/osal.h **** 
  25:../../os/hal/osal/rt-nil/osal.h **** #ifndef OSAL_H
  26:../../os/hal/osal/rt-nil/osal.h **** #define OSAL_H
  27:../../os/hal/osal/rt-nil/osal.h **** 
  28:../../os/hal/osal/rt-nil/osal.h **** #include <stddef.h>
  29:../../os/hal/osal/rt-nil/osal.h **** #include <stdint.h>
  30:../../os/hal/osal/rt-nil/osal.h **** #include <stdbool.h>
  31:../../os/hal/osal/rt-nil/osal.h **** 
  32:../../os/hal/osal/rt-nil/osal.h **** #include "ch.h"
  33:../../os/hal/osal/rt-nil/osal.h **** 
  34:../../os/hal/osal/rt-nil/osal.h **** /*===========================================================================*/
  35:../../os/hal/osal/rt-nil/osal.h **** /* Module constants.                                                         */
  36:../../os/hal/osal/rt-nil/osal.h **** /*===========================================================================*/
  37:../../os/hal/osal/rt-nil/osal.h **** 
  38:../../os/hal/osal/rt-nil/osal.h **** /**
  39:../../os/hal/osal/rt-nil/osal.h ****  * @name    Common constants
  40:../../os/hal/osal/rt-nil/osal.h ****  * @{
  41:../../os/hal/osal/rt-nil/osal.h ****  */
  42:../../os/hal/osal/rt-nil/osal.h **** #if !defined(FALSE) || defined(__DOXYGEN__)
  43:../../os/hal/osal/rt-nil/osal.h **** #define FALSE                               0
  44:../../os/hal/osal/rt-nil/osal.h **** #endif
  45:../../os/hal/osal/rt-nil/osal.h **** 
  46:../../os/hal/osal/rt-nil/osal.h **** #if !defined(TRUE) || defined(__DOXYGEN__)
  47:../../os/hal/osal/rt-nil/osal.h **** #define TRUE                                1
  48:../../os/hal/osal/rt-nil/osal.h **** #endif
  49:../../os/hal/osal/rt-nil/osal.h **** 
  50:../../os/hal/osal/rt-nil/osal.h **** #define OSAL_SUCCESS                        false
  51:../../os/hal/osal/rt-nil/osal.h **** #define OSAL_FAILED                         true
  52:../../os/hal/osal/rt-nil/osal.h **** /** @} */
  53:../../os/hal/osal/rt-nil/osal.h **** 
  54:../../os/hal/osal/rt-nil/osal.h **** #if 0
  55:../../os/hal/osal/rt-nil/osal.h **** /**
  56:../../os/hal/osal/rt-nil/osal.h ****  * @name    Messages
  57:../../os/hal/osal/rt-nil/osal.h ****  * @{
  58:../../os/hal/osal/rt-nil/osal.h ****  */
  59:../../os/hal/osal/rt-nil/osal.h **** #define MSG_OK                              (msg_t)0
  60:../../os/hal/osal/rt-nil/osal.h **** #define MSG_TIMEOUT                         (msg_t)-1
  61:../../os/hal/osal/rt-nil/osal.h **** #define MSG_RESET                           (msg_t)-2
  62:../../os/hal/osal/rt-nil/osal.h **** /** @} */
  63:../../os/hal/osal/rt-nil/osal.h **** #endif
  64:../../os/hal/osal/rt-nil/osal.h **** 
  65:../../os/hal/osal/rt-nil/osal.h **** #if 0
  66:../../os/hal/osal/rt-nil/osal.h **** /**
  67:../../os/hal/osal/rt-nil/osal.h ****  * @name    Special time constants
  68:../../os/hal/osal/rt-nil/osal.h ****  * @{
  69:../../os/hal/osal/rt-nil/osal.h ****  */
  70:../../os/hal/osal/rt-nil/osal.h **** #define TIME_IMMEDIATE                      ((sysinterval_t)0)
  71:../../os/hal/osal/rt-nil/osal.h **** #define TIME_INFINITE                       ((sysinterval_t)-1)
  72:../../os/hal/osal/rt-nil/osal.h **** /** @} */
  73:../../os/hal/osal/rt-nil/osal.h **** #endif
  74:../../os/hal/osal/rt-nil/osal.h **** 
  75:../../os/hal/osal/rt-nil/osal.h **** /**
  76:../../os/hal/osal/rt-nil/osal.h ****  * @name    Systick modes.
  77:../../os/hal/osal/rt-nil/osal.h ****  * @{
  78:../../os/hal/osal/rt-nil/osal.h ****  */
  79:../../os/hal/osal/rt-nil/osal.h **** #define OSAL_ST_MODE_NONE                   0
  80:../../os/hal/osal/rt-nil/osal.h **** #define OSAL_ST_MODE_PERIODIC               1
  81:../../os/hal/osal/rt-nil/osal.h **** #define OSAL_ST_MODE_FREERUNNING            2
  82:../../os/hal/osal/rt-nil/osal.h **** /** @} */
  83:../../os/hal/osal/rt-nil/osal.h **** 
  84:../../os/hal/osal/rt-nil/osal.h **** /**
  85:../../os/hal/osal/rt-nil/osal.h ****  * @name    Systick parameters.
  86:../../os/hal/osal/rt-nil/osal.h ****  * @{
  87:../../os/hal/osal/rt-nil/osal.h ****  */
  88:../../os/hal/osal/rt-nil/osal.h **** /**
  89:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Size in bits of the @p systick_t type.
  90:../../os/hal/osal/rt-nil/osal.h ****  */
  91:../../os/hal/osal/rt-nil/osal.h **** #define OSAL_ST_RESOLUTION                  CH_CFG_ST_RESOLUTION
  92:../../os/hal/osal/rt-nil/osal.h **** 
  93:../../os/hal/osal/rt-nil/osal.h **** /**
  94:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Required systick frequency or resolution.
  95:../../os/hal/osal/rt-nil/osal.h ****  */
  96:../../os/hal/osal/rt-nil/osal.h **** #define OSAL_ST_FREQUENCY                   CH_CFG_ST_FREQUENCY
  97:../../os/hal/osal/rt-nil/osal.h **** 
  98:../../os/hal/osal/rt-nil/osal.h **** /**
  99:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Systick mode required by the underlying OS.
 100:../../os/hal/osal/rt-nil/osal.h ****  */
 101:../../os/hal/osal/rt-nil/osal.h **** #if (CH_CFG_ST_TIMEDELTA == 0) || defined(__DOXYGEN__)
 102:../../os/hal/osal/rt-nil/osal.h **** #define OSAL_ST_MODE                        OSAL_ST_MODE_PERIODIC
 103:../../os/hal/osal/rt-nil/osal.h **** #else
 104:../../os/hal/osal/rt-nil/osal.h **** #define OSAL_ST_MODE                        OSAL_ST_MODE_FREERUNNING
 105:../../os/hal/osal/rt-nil/osal.h **** #endif
 106:../../os/hal/osal/rt-nil/osal.h **** /** @} */
 107:../../os/hal/osal/rt-nil/osal.h **** 
 108:../../os/hal/osal/rt-nil/osal.h **** /*===========================================================================*/
 109:../../os/hal/osal/rt-nil/osal.h **** /* Module pre-compile time settings.                                         */
 110:../../os/hal/osal/rt-nil/osal.h **** /*===========================================================================*/
 111:../../os/hal/osal/rt-nil/osal.h **** 
 112:../../os/hal/osal/rt-nil/osal.h **** /*===========================================================================*/
 113:../../os/hal/osal/rt-nil/osal.h **** /* Derived constants and error checks.                                       */
 114:../../os/hal/osal/rt-nil/osal.h **** /*===========================================================================*/
 115:../../os/hal/osal/rt-nil/osal.h **** 
 116:../../os/hal/osal/rt-nil/osal.h **** #if !(OSAL_ST_MODE == OSAL_ST_MODE_NONE) &&                                 \
 117:../../os/hal/osal/rt-nil/osal.h ****     !(OSAL_ST_MODE == OSAL_ST_MODE_PERIODIC) &&                             \
 118:../../os/hal/osal/rt-nil/osal.h ****     !(OSAL_ST_MODE == OSAL_ST_MODE_FREERUNNING)
 119:../../os/hal/osal/rt-nil/osal.h **** #error "invalid OSAL_ST_MODE setting in osal.h"
 120:../../os/hal/osal/rt-nil/osal.h **** #endif
 121:../../os/hal/osal/rt-nil/osal.h **** 
 122:../../os/hal/osal/rt-nil/osal.h **** #if (OSAL_ST_RESOLUTION != 16) && (OSAL_ST_RESOLUTION != 32) &&             \
 123:../../os/hal/osal/rt-nil/osal.h ****     (OSAL_ST_RESOLUTION != 64)
 124:../../os/hal/osal/rt-nil/osal.h **** #error "invalid OSAL_ST_RESOLUTION, must be 16, 32 or 64"
 125:../../os/hal/osal/rt-nil/osal.h **** #endif
 126:../../os/hal/osal/rt-nil/osal.h **** 
 127:../../os/hal/osal/rt-nil/osal.h **** /*===========================================================================*/
 128:../../os/hal/osal/rt-nil/osal.h **** /* Module data structures and types.                                         */
 129:../../os/hal/osal/rt-nil/osal.h **** /*===========================================================================*/
 130:../../os/hal/osal/rt-nil/osal.h **** 
 131:../../os/hal/osal/rt-nil/osal.h **** #if 0
 132:../../os/hal/osal/rt-nil/osal.h **** /**
 133:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Type of a system status word.
 134:../../os/hal/osal/rt-nil/osal.h ****  */
 135:../../os/hal/osal/rt-nil/osal.h **** typedef uint32_t syssts_t;
 136:../../os/hal/osal/rt-nil/osal.h **** #endif
 137:../../os/hal/osal/rt-nil/osal.h **** 
 138:../../os/hal/osal/rt-nil/osal.h **** #if 0
 139:../../os/hal/osal/rt-nil/osal.h **** /**
 140:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Type of a message.
 141:../../os/hal/osal/rt-nil/osal.h ****  */
 142:../../os/hal/osal/rt-nil/osal.h **** typedef int32_t msg_t;
 143:../../os/hal/osal/rt-nil/osal.h **** #endif
 144:../../os/hal/osal/rt-nil/osal.h **** 
 145:../../os/hal/osal/rt-nil/osal.h **** #if 0
 146:../../os/hal/osal/rt-nil/osal.h **** /**
 147:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Type of system time counter.
 148:../../os/hal/osal/rt-nil/osal.h ****  */
 149:../../os/hal/osal/rt-nil/osal.h **** typedef uint32_t systime_t;
 150:../../os/hal/osal/rt-nil/osal.h **** #endif
 151:../../os/hal/osal/rt-nil/osal.h **** 
 152:../../os/hal/osal/rt-nil/osal.h **** #if 0
 153:../../os/hal/osal/rt-nil/osal.h **** /**
 154:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Type of system time interval.
 155:../../os/hal/osal/rt-nil/osal.h ****  */
 156:../../os/hal/osal/rt-nil/osal.h **** typedef uint32_t sysinterval_t;
 157:../../os/hal/osal/rt-nil/osal.h **** #endif
 158:../../os/hal/osal/rt-nil/osal.h **** 
 159:../../os/hal/osal/rt-nil/osal.h **** #if 0
 160:../../os/hal/osal/rt-nil/osal.h **** /**
 161:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Type of time conversion variable.
 162:../../os/hal/osal/rt-nil/osal.h ****  * @note    This type must have double width than other time types, it is
 163:../../os/hal/osal/rt-nil/osal.h ****  *          only used internally for conversions.
 164:../../os/hal/osal/rt-nil/osal.h ****  */
 165:../../os/hal/osal/rt-nil/osal.h **** typedef uint64_t time_conv_t;
 166:../../os/hal/osal/rt-nil/osal.h **** #endif
 167:../../os/hal/osal/rt-nil/osal.h **** 
 168:../../os/hal/osal/rt-nil/osal.h **** #if 0
 169:../../os/hal/osal/rt-nil/osal.h **** /**
 170:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Type of realtime counter.
 171:../../os/hal/osal/rt-nil/osal.h ****  */
 172:../../os/hal/osal/rt-nil/osal.h **** typedef uint32_t rtcnt_t;
 173:../../os/hal/osal/rt-nil/osal.h **** #endif
 174:../../os/hal/osal/rt-nil/osal.h **** 
 175:../../os/hal/osal/rt-nil/osal.h **** #if 0
 176:../../os/hal/osal/rt-nil/osal.h **** /**
 177:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Type of a thread reference.
 178:../../os/hal/osal/rt-nil/osal.h ****  */
 179:../../os/hal/osal/rt-nil/osal.h **** typedef thread_t * thread_reference_t;
 180:../../os/hal/osal/rt-nil/osal.h **** #endif
 181:../../os/hal/osal/rt-nil/osal.h **** 
 182:../../os/hal/osal/rt-nil/osal.h **** #if 0
 183:../../os/hal/osal/rt-nil/osal.h **** /**
 184:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Type of an event flags mask.
 185:../../os/hal/osal/rt-nil/osal.h ****  */
 186:../../os/hal/osal/rt-nil/osal.h **** typedef uint32_t eventflags_t;
 187:../../os/hal/osal/rt-nil/osal.h **** #endif
 188:../../os/hal/osal/rt-nil/osal.h **** 
 189:../../os/hal/osal/rt-nil/osal.h **** #if (CH_CFG_USE_EVENTS == FALSE) || defined(__DOXYGEN__)
 190:../../os/hal/osal/rt-nil/osal.h **** /**
 191:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Type of an event flags object.
 192:../../os/hal/osal/rt-nil/osal.h ****  * @note    The content of this structure is not part of the API and should
 193:../../os/hal/osal/rt-nil/osal.h ****  *          not be relied upon. Implementers may define this structure in
 194:../../os/hal/osal/rt-nil/osal.h ****  *          an entirely different way.
 195:../../os/hal/osal/rt-nil/osal.h ****  * @note    Retrieval and clearing of the flags are not defined in this
 196:../../os/hal/osal/rt-nil/osal.h ****  *          API and are implementation-dependent.
 197:../../os/hal/osal/rt-nil/osal.h ****  */
 198:../../os/hal/osal/rt-nil/osal.h **** typedef struct event_source event_source_t;
 199:../../os/hal/osal/rt-nil/osal.h **** 
 200:../../os/hal/osal/rt-nil/osal.h **** /**
 201:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Type of an event source callback.
 202:../../os/hal/osal/rt-nil/osal.h ****  * @note    This type is not part of the OSAL API and is provided
 203:../../os/hal/osal/rt-nil/osal.h ****  *          exclusively as an example and for convenience.
 204:../../os/hal/osal/rt-nil/osal.h ****  */
 205:../../os/hal/osal/rt-nil/osal.h **** typedef void (*eventcallback_t)(event_source_t *esp);
 206:../../os/hal/osal/rt-nil/osal.h **** 
 207:../../os/hal/osal/rt-nil/osal.h **** /**
 208:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Events source object.
 209:../../os/hal/osal/rt-nil/osal.h ****  * @note    The content of this structure is not part of the API and should
 210:../../os/hal/osal/rt-nil/osal.h ****  *          not be relied upon. Implementers may define this structure in
 211:../../os/hal/osal/rt-nil/osal.h ****  *          an entirely different way.
 212:../../os/hal/osal/rt-nil/osal.h ****  * @note    Retrieval and clearing of the flags are not defined in this
 213:../../os/hal/osal/rt-nil/osal.h ****  *          API and are implementation-dependent.
 214:../../os/hal/osal/rt-nil/osal.h ****  */
 215:../../os/hal/osal/rt-nil/osal.h **** struct event_source {
 216:../../os/hal/osal/rt-nil/osal.h ****   volatile eventflags_t flags;      /**< @brief Stored event flags.         */
 217:../../os/hal/osal/rt-nil/osal.h ****   eventcallback_t       cb;         /**< @brief Event source callback.      */
 218:../../os/hal/osal/rt-nil/osal.h ****   void                  *param;     /**< @brief User defined field.         */
 219:../../os/hal/osal/rt-nil/osal.h **** };
 220:../../os/hal/osal/rt-nil/osal.h **** #endif /* CH_CFG_USE_EVENTS == FALSE */
 221:../../os/hal/osal/rt-nil/osal.h **** 
 222:../../os/hal/osal/rt-nil/osal.h **** /**
 223:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Type of a mutex.
 224:../../os/hal/osal/rt-nil/osal.h ****  * @note    If the OS does not support mutexes or there is no OS then the
 225:../../os/hal/osal/rt-nil/osal.h ****  *          mechanism can be simulated.
 226:../../os/hal/osal/rt-nil/osal.h ****  */
 227:../../os/hal/osal/rt-nil/osal.h **** #if CH_CFG_USE_MUTEXES || defined(__DOXYGEN__)
 228:../../os/hal/osal/rt-nil/osal.h **** #elif CH_CFG_USE_SEMAPHORES
 229:../../os/hal/osal/rt-nil/osal.h **** typedef semaphore_t mutex_t;
 230:../../os/hal/osal/rt-nil/osal.h **** #else
 231:../../os/hal/osal/rt-nil/osal.h **** typedef uint32_t mutex_t;
 232:../../os/hal/osal/rt-nil/osal.h **** #endif
 233:../../os/hal/osal/rt-nil/osal.h **** 
 234:../../os/hal/osal/rt-nil/osal.h **** #if 0
 235:../../os/hal/osal/rt-nil/osal.h **** /**
 236:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Type of a thread queue.
 237:../../os/hal/osal/rt-nil/osal.h ****  * @details A thread queue is a queue of sleeping threads, queued threads
 238:../../os/hal/osal/rt-nil/osal.h ****  *          can be dequeued one at time or all together.
 239:../../os/hal/osal/rt-nil/osal.h ****  * @note    In this implementation it is implemented as a single reference
 240:../../os/hal/osal/rt-nil/osal.h ****  *          because there are no real threads.
 241:../../os/hal/osal/rt-nil/osal.h ****  */
 242:../../os/hal/osal/rt-nil/osal.h **** typedef struct {
 243:../../os/hal/osal/rt-nil/osal.h ****   thread_reference_t    tr;
 244:../../os/hal/osal/rt-nil/osal.h **** } threads_queue_t;
 245:../../os/hal/osal/rt-nil/osal.h **** #endif
 246:../../os/hal/osal/rt-nil/osal.h **** 
 247:../../os/hal/osal/rt-nil/osal.h **** /*===========================================================================*/
 248:../../os/hal/osal/rt-nil/osal.h **** /* Module macros.                                                            */
 249:../../os/hal/osal/rt-nil/osal.h **** /*===========================================================================*/
 250:../../os/hal/osal/rt-nil/osal.h **** 
 251:../../os/hal/osal/rt-nil/osal.h **** /**
 252:../../os/hal/osal/rt-nil/osal.h ****  * @name    Debug related macros
 253:../../os/hal/osal/rt-nil/osal.h ****  * @{
 254:../../os/hal/osal/rt-nil/osal.h ****  */
 255:../../os/hal/osal/rt-nil/osal.h **** /**
 256:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Condition assertion.
 257:../../os/hal/osal/rt-nil/osal.h ****  * @details If the condition check fails then the OSAL panics with a
 258:../../os/hal/osal/rt-nil/osal.h ****  *          message and halts.
 259:../../os/hal/osal/rt-nil/osal.h ****  * @note    The condition is tested only if the @p OSAL_ENABLE_ASSERTIONS
 260:../../os/hal/osal/rt-nil/osal.h ****  *          switch is enabled.
 261:../../os/hal/osal/rt-nil/osal.h ****  * @note    The remark string is not currently used except for putting a
 262:../../os/hal/osal/rt-nil/osal.h ****  *          comment in the code about the assertion.
 263:../../os/hal/osal/rt-nil/osal.h ****  *
 264:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] c         the condition to be verified to be true
 265:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] remark    a remark string
 266:../../os/hal/osal/rt-nil/osal.h ****  *
 267:../../os/hal/osal/rt-nil/osal.h ****  * @api
 268:../../os/hal/osal/rt-nil/osal.h ****  */
 269:../../os/hal/osal/rt-nil/osal.h **** #define osalDbgAssert(c, remark) chDbgAssert(c, remark)
 270:../../os/hal/osal/rt-nil/osal.h **** 
 271:../../os/hal/osal/rt-nil/osal.h **** /**
 272:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Function parameters check.
 273:../../os/hal/osal/rt-nil/osal.h ****  * @details If the condition check fails then the OSAL panics and halts.
 274:../../os/hal/osal/rt-nil/osal.h ****  * @note    The condition is tested only if the @p OSAL_ENABLE_CHECKS switch
 275:../../os/hal/osal/rt-nil/osal.h ****  *          is enabled.
 276:../../os/hal/osal/rt-nil/osal.h ****  *
 277:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] c         the condition to be verified to be true
 278:../../os/hal/osal/rt-nil/osal.h ****  *
 279:../../os/hal/osal/rt-nil/osal.h ****  * @api
 280:../../os/hal/osal/rt-nil/osal.h ****  */
 281:../../os/hal/osal/rt-nil/osal.h **** #define osalDbgCheck(c) chDbgCheck(c)
 282:../../os/hal/osal/rt-nil/osal.h **** 
 283:../../os/hal/osal/rt-nil/osal.h **** /**
 284:../../os/hal/osal/rt-nil/osal.h ****  * @brief   I-Class state check.
 285:../../os/hal/osal/rt-nil/osal.h ****  * @note    Not implemented in this simplified OSAL.
 286:../../os/hal/osal/rt-nil/osal.h ****  */
 287:../../os/hal/osal/rt-nil/osal.h **** #define osalDbgCheckClassI() chDbgCheckClassI()
 288:../../os/hal/osal/rt-nil/osal.h **** 
 289:../../os/hal/osal/rt-nil/osal.h **** /**
 290:../../os/hal/osal/rt-nil/osal.h ****  * @brief   S-Class state check.
 291:../../os/hal/osal/rt-nil/osal.h ****  * @note    Not implemented in this simplified OSAL.
 292:../../os/hal/osal/rt-nil/osal.h ****  */
 293:../../os/hal/osal/rt-nil/osal.h **** #define osalDbgCheckClassS() chDbgCheckClassS()
 294:../../os/hal/osal/rt-nil/osal.h **** /** @} */
 295:../../os/hal/osal/rt-nil/osal.h **** 
 296:../../os/hal/osal/rt-nil/osal.h **** /**
 297:../../os/hal/osal/rt-nil/osal.h ****  * @name    IRQ service routines wrappers
 298:../../os/hal/osal/rt-nil/osal.h ****  * @{
 299:../../os/hal/osal/rt-nil/osal.h ****  */
 300:../../os/hal/osal/rt-nil/osal.h **** /**
 301:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Priority level verification macro.
 302:../../os/hal/osal/rt-nil/osal.h ****  */
 303:../../os/hal/osal/rt-nil/osal.h **** #define OSAL_IRQ_IS_VALID_PRIORITY(n) CH_IRQ_IS_VALID_KERNEL_PRIORITY(n)
 304:../../os/hal/osal/rt-nil/osal.h **** 
 305:../../os/hal/osal/rt-nil/osal.h **** /**
 306:../../os/hal/osal/rt-nil/osal.h ****  * @brief   IRQ prologue code.
 307:../../os/hal/osal/rt-nil/osal.h ****  * @details This macro must be inserted at the start of all IRQ handlers.
 308:../../os/hal/osal/rt-nil/osal.h ****  */
 309:../../os/hal/osal/rt-nil/osal.h **** #define OSAL_IRQ_PROLOGUE() CH_IRQ_PROLOGUE()
 310:../../os/hal/osal/rt-nil/osal.h **** 
 311:../../os/hal/osal/rt-nil/osal.h **** /**
 312:../../os/hal/osal/rt-nil/osal.h ****  * @brief   IRQ epilogue code.
 313:../../os/hal/osal/rt-nil/osal.h ****  * @details This macro must be inserted at the end of all IRQ handlers.
 314:../../os/hal/osal/rt-nil/osal.h ****  */
 315:../../os/hal/osal/rt-nil/osal.h **** #define OSAL_IRQ_EPILOGUE() CH_IRQ_EPILOGUE()
 316:../../os/hal/osal/rt-nil/osal.h **** 
 317:../../os/hal/osal/rt-nil/osal.h **** /**
 318:../../os/hal/osal/rt-nil/osal.h ****  * @brief   IRQ handler function declaration.
 319:../../os/hal/osal/rt-nil/osal.h ****  * @details This macro hides the details of an ISR function declaration.
 320:../../os/hal/osal/rt-nil/osal.h ****  *
 321:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] id        a vector name as defined in @p vectors.s
 322:../../os/hal/osal/rt-nil/osal.h ****  */
 323:../../os/hal/osal/rt-nil/osal.h **** #define OSAL_IRQ_HANDLER(id) CH_IRQ_HANDLER(id)
 324:../../os/hal/osal/rt-nil/osal.h **** /** @} */
 325:../../os/hal/osal/rt-nil/osal.h **** 
 326:../../os/hal/osal/rt-nil/osal.h **** /**
 327:../../os/hal/osal/rt-nil/osal.h ****  * @name    Time conversion utilities
 328:../../os/hal/osal/rt-nil/osal.h ****  * @{
 329:../../os/hal/osal/rt-nil/osal.h ****  */
 330:../../os/hal/osal/rt-nil/osal.h **** /**
 331:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Seconds to time interval.
 332:../../os/hal/osal/rt-nil/osal.h ****  * @details Converts from seconds to system ticks number.
 333:../../os/hal/osal/rt-nil/osal.h ****  * @note    The result is rounded upward to the next tick boundary.
 334:../../os/hal/osal/rt-nil/osal.h ****  * @note    Use of this macro for large values is not secure because
 335:../../os/hal/osal/rt-nil/osal.h ****  *          integer overflows, make sure your value can be correctly
 336:../../os/hal/osal/rt-nil/osal.h ****  *          converted.
 337:../../os/hal/osal/rt-nil/osal.h ****  *
 338:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] secs      number of seconds
 339:../../os/hal/osal/rt-nil/osal.h ****  * @return              The number of ticks.
 340:../../os/hal/osal/rt-nil/osal.h ****  *
 341:../../os/hal/osal/rt-nil/osal.h ****  * @api
 342:../../os/hal/osal/rt-nil/osal.h ****  */
 343:../../os/hal/osal/rt-nil/osal.h **** #define OSAL_S2I(secs) TIME_S2I(secs)
 344:../../os/hal/osal/rt-nil/osal.h **** 
 345:../../os/hal/osal/rt-nil/osal.h **** /**
 346:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Milliseconds to time interval.
 347:../../os/hal/osal/rt-nil/osal.h ****  * @details Converts from milliseconds to system ticks number.
 348:../../os/hal/osal/rt-nil/osal.h ****  * @note    The result is rounded upward to the next tick boundary.
 349:../../os/hal/osal/rt-nil/osal.h ****  * @note    Use of this macro for large values is not secure because
 350:../../os/hal/osal/rt-nil/osal.h ****  *          integer overflows, make sure your value can be correctly
 351:../../os/hal/osal/rt-nil/osal.h ****  *          converted.
 352:../../os/hal/osal/rt-nil/osal.h ****  *
 353:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] msecs     number of milliseconds
 354:../../os/hal/osal/rt-nil/osal.h ****  * @return              The number of ticks.
 355:../../os/hal/osal/rt-nil/osal.h ****  *
 356:../../os/hal/osal/rt-nil/osal.h ****  * @api
 357:../../os/hal/osal/rt-nil/osal.h ****  */
 358:../../os/hal/osal/rt-nil/osal.h **** #define OSAL_MS2I(msecs) TIME_MS2I(msecs)
 359:../../os/hal/osal/rt-nil/osal.h **** 
 360:../../os/hal/osal/rt-nil/osal.h **** /**
 361:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Microseconds to time interval.
 362:../../os/hal/osal/rt-nil/osal.h ****  * @details Converts from microseconds to system ticks number.
 363:../../os/hal/osal/rt-nil/osal.h ****  * @note    The result is rounded upward to the next tick boundary.
 364:../../os/hal/osal/rt-nil/osal.h ****  * @note    Use of this macro for large values is not secure because
 365:../../os/hal/osal/rt-nil/osal.h ****  *          integer overflows, make sure your value can be correctly
 366:../../os/hal/osal/rt-nil/osal.h ****  *          converted.
 367:../../os/hal/osal/rt-nil/osal.h ****  *
 368:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] usecs     number of microseconds
 369:../../os/hal/osal/rt-nil/osal.h ****  * @return              The number of ticks.
 370:../../os/hal/osal/rt-nil/osal.h ****  *
 371:../../os/hal/osal/rt-nil/osal.h ****  * @api
 372:../../os/hal/osal/rt-nil/osal.h ****  */
 373:../../os/hal/osal/rt-nil/osal.h **** #define OSAL_US2I(usecs) TIME_US2I(usecs)
 374:../../os/hal/osal/rt-nil/osal.h **** 
 375:../../os/hal/osal/rt-nil/osal.h **** /**
 376:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Time interval to seconds.
 377:../../os/hal/osal/rt-nil/osal.h ****  * @details Converts from system ticks number to seconds.
 378:../../os/hal/osal/rt-nil/osal.h ****  * @note    The result is rounded up to the next second boundary.
 379:../../os/hal/osal/rt-nil/osal.h ****  * @note    Use of this macro for large values is not secure because
 380:../../os/hal/osal/rt-nil/osal.h ****  *          integer overflows, make sure your value can be correctly
 381:../../os/hal/osal/rt-nil/osal.h ****  *          converted.
 382:../../os/hal/osal/rt-nil/osal.h ****  *
 383:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] interval  interval in ticks
 384:../../os/hal/osal/rt-nil/osal.h ****  * @return              The number of seconds.
 385:../../os/hal/osal/rt-nil/osal.h ****  *
 386:../../os/hal/osal/rt-nil/osal.h ****  * @api
 387:../../os/hal/osal/rt-nil/osal.h ****  */
 388:../../os/hal/osal/rt-nil/osal.h **** #define OSAL_I2S(interval) TIME_I2S(interval)
 389:../../os/hal/osal/rt-nil/osal.h **** 
 390:../../os/hal/osal/rt-nil/osal.h **** /**
 391:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Time interval to milliseconds.
 392:../../os/hal/osal/rt-nil/osal.h ****  * @details Converts from system ticks number to milliseconds.
 393:../../os/hal/osal/rt-nil/osal.h ****  * @note    The result is rounded up to the next millisecond boundary.
 394:../../os/hal/osal/rt-nil/osal.h ****  * @note    Use of this macro for large values is not secure because
 395:../../os/hal/osal/rt-nil/osal.h ****  *          integer overflows, make sure your value can be correctly
 396:../../os/hal/osal/rt-nil/osal.h ****  *          converted.
 397:../../os/hal/osal/rt-nil/osal.h ****  *
 398:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] interval  interval in ticks
 399:../../os/hal/osal/rt-nil/osal.h ****  * @return              The number of milliseconds.
 400:../../os/hal/osal/rt-nil/osal.h ****  *
 401:../../os/hal/osal/rt-nil/osal.h ****  * @api
 402:../../os/hal/osal/rt-nil/osal.h ****  */
 403:../../os/hal/osal/rt-nil/osal.h **** #define OSAL_I2MS(interval) TIME_I2MS(interval)
 404:../../os/hal/osal/rt-nil/osal.h **** 
 405:../../os/hal/osal/rt-nil/osal.h **** /**
 406:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Time interval to microseconds.
 407:../../os/hal/osal/rt-nil/osal.h ****  * @details Converts from system ticks number to microseconds.
 408:../../os/hal/osal/rt-nil/osal.h ****  * @note    The result is rounded up to the next microsecond boundary.
 409:../../os/hal/osal/rt-nil/osal.h ****  * @note    Use of this macro for large values is not secure because
 410:../../os/hal/osal/rt-nil/osal.h ****  *          integer overflows, make sure your value can be correctly
 411:../../os/hal/osal/rt-nil/osal.h ****  *          converted.
 412:../../os/hal/osal/rt-nil/osal.h ****  *
 413:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] interval  interval in ticks
 414:../../os/hal/osal/rt-nil/osal.h ****  * @return              The number of microseconds.
 415:../../os/hal/osal/rt-nil/osal.h ****  *
 416:../../os/hal/osal/rt-nil/osal.h ****  * @api
 417:../../os/hal/osal/rt-nil/osal.h ****  */
 418:../../os/hal/osal/rt-nil/osal.h **** #define OSAL_I2US(interval) TIME_I2US(interval)
 419:../../os/hal/osal/rt-nil/osal.h **** /** @} */
 420:../../os/hal/osal/rt-nil/osal.h **** 
 421:../../os/hal/osal/rt-nil/osal.h **** /**
 422:../../os/hal/osal/rt-nil/osal.h ****  * @name    Time conversion utilities for the realtime counter
 423:../../os/hal/osal/rt-nil/osal.h ****  * @{
 424:../../os/hal/osal/rt-nil/osal.h ****  */
 425:../../os/hal/osal/rt-nil/osal.h **** /**
 426:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Seconds to realtime counter.
 427:../../os/hal/osal/rt-nil/osal.h ****  * @details Converts from seconds to realtime counter cycles.
 428:../../os/hal/osal/rt-nil/osal.h ****  * @note    The macro assumes that @p freq >= @p 1.
 429:../../os/hal/osal/rt-nil/osal.h ****  *
 430:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] freq      clock frequency, in Hz, of the realtime counter
 431:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] sec       number of seconds
 432:../../os/hal/osal/rt-nil/osal.h ****  * @return              The number of cycles.
 433:../../os/hal/osal/rt-nil/osal.h ****  *
 434:../../os/hal/osal/rt-nil/osal.h ****  * @api
 435:../../os/hal/osal/rt-nil/osal.h ****  */
 436:../../os/hal/osal/rt-nil/osal.h **** #define OSAL_S2RTC(freq, sec) S2RTC(freq, sec)
 437:../../os/hal/osal/rt-nil/osal.h **** 
 438:../../os/hal/osal/rt-nil/osal.h **** /**
 439:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Milliseconds to realtime counter.
 440:../../os/hal/osal/rt-nil/osal.h ****  * @details Converts from milliseconds to realtime counter cycles.
 441:../../os/hal/osal/rt-nil/osal.h ****  * @note    The result is rounded upward to the next millisecond boundary.
 442:../../os/hal/osal/rt-nil/osal.h ****  * @note    The macro assumes that @p freq >= @p 1000.
 443:../../os/hal/osal/rt-nil/osal.h ****  *
 444:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] freq      clock frequency, in Hz, of the realtime counter
 445:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] msec      number of milliseconds
 446:../../os/hal/osal/rt-nil/osal.h ****  * @return              The number of cycles.
 447:../../os/hal/osal/rt-nil/osal.h ****  *
 448:../../os/hal/osal/rt-nil/osal.h ****  * @api
 449:../../os/hal/osal/rt-nil/osal.h ****  */
 450:../../os/hal/osal/rt-nil/osal.h **** #define OSAL_MS2RTC(freq, msec) MS2RTC(freq, msec)
 451:../../os/hal/osal/rt-nil/osal.h **** 
 452:../../os/hal/osal/rt-nil/osal.h **** /**
 453:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Microseconds to realtime counter.
 454:../../os/hal/osal/rt-nil/osal.h ****  * @details Converts from microseconds to realtime counter cycles.
 455:../../os/hal/osal/rt-nil/osal.h ****  * @note    The result is rounded upward to the next microsecond boundary.
 456:../../os/hal/osal/rt-nil/osal.h ****  * @note    The macro assumes that @p freq >= @p 1000000.
 457:../../os/hal/osal/rt-nil/osal.h ****  *
 458:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] freq      clock frequency, in Hz, of the realtime counter
 459:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] usec      number of microseconds
 460:../../os/hal/osal/rt-nil/osal.h ****  * @return              The number of cycles.
 461:../../os/hal/osal/rt-nil/osal.h ****  *
 462:../../os/hal/osal/rt-nil/osal.h ****  * @api
 463:../../os/hal/osal/rt-nil/osal.h ****  */
 464:../../os/hal/osal/rt-nil/osal.h **** #define OSAL_US2RTC(freq, usec) US2RTC(freq, usec)
 465:../../os/hal/osal/rt-nil/osal.h **** /** @} */
 466:../../os/hal/osal/rt-nil/osal.h **** 
 467:../../os/hal/osal/rt-nil/osal.h **** /**
 468:../../os/hal/osal/rt-nil/osal.h ****  * @name    Sleep macros using absolute time
 469:../../os/hal/osal/rt-nil/osal.h ****  * @{
 470:../../os/hal/osal/rt-nil/osal.h ****  */
 471:../../os/hal/osal/rt-nil/osal.h **** /**
 472:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Delays the invoking thread for the specified number of seconds.
 473:../../os/hal/osal/rt-nil/osal.h ****  * @note    The specified time is rounded up to a value allowed by the real
 474:../../os/hal/osal/rt-nil/osal.h ****  *          system tick clock.
 475:../../os/hal/osal/rt-nil/osal.h ****  * @note    The maximum specifiable value is implementation dependent.
 476:../../os/hal/osal/rt-nil/osal.h ****  *
 477:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] secs      time in seconds, must be different from zero
 478:../../os/hal/osal/rt-nil/osal.h ****  *
 479:../../os/hal/osal/rt-nil/osal.h ****  * @api
 480:../../os/hal/osal/rt-nil/osal.h ****  */
 481:../../os/hal/osal/rt-nil/osal.h **** #define osalThreadSleepSeconds(secs) osalThreadSleep(OSAL_S2I(secs))
 482:../../os/hal/osal/rt-nil/osal.h **** 
 483:../../os/hal/osal/rt-nil/osal.h **** /**
 484:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Delays the invoking thread for the specified number of
 485:../../os/hal/osal/rt-nil/osal.h ****  *          milliseconds.
 486:../../os/hal/osal/rt-nil/osal.h ****  * @note    The specified time is rounded up to a value allowed by the real
 487:../../os/hal/osal/rt-nil/osal.h ****  *          system tick clock.
 488:../../os/hal/osal/rt-nil/osal.h ****  * @note    The maximum specifiable value is implementation dependent.
 489:../../os/hal/osal/rt-nil/osal.h ****  *
 490:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] msecs     time in milliseconds, must be different from zero
 491:../../os/hal/osal/rt-nil/osal.h ****  *
 492:../../os/hal/osal/rt-nil/osal.h ****  * @api
 493:../../os/hal/osal/rt-nil/osal.h ****  */
 494:../../os/hal/osal/rt-nil/osal.h **** #define osalThreadSleepMilliseconds(msecs) osalThreadSleep(OSAL_MS2I(msecs))
 495:../../os/hal/osal/rt-nil/osal.h **** 
 496:../../os/hal/osal/rt-nil/osal.h **** /**
 497:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Delays the invoking thread for the specified number of
 498:../../os/hal/osal/rt-nil/osal.h ****  *          microseconds.
 499:../../os/hal/osal/rt-nil/osal.h ****  * @note    The specified time is rounded up to a value allowed by the real
 500:../../os/hal/osal/rt-nil/osal.h ****  *          system tick clock.
 501:../../os/hal/osal/rt-nil/osal.h ****  * @note    The maximum specifiable value is implementation dependent.
 502:../../os/hal/osal/rt-nil/osal.h ****  *
 503:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] usecs     time in microseconds, must be different from zero
 504:../../os/hal/osal/rt-nil/osal.h ****  *
 505:../../os/hal/osal/rt-nil/osal.h ****  * @api
 506:../../os/hal/osal/rt-nil/osal.h ****  */
 507:../../os/hal/osal/rt-nil/osal.h **** #define osalThreadSleepMicroseconds(usecs) osalThreadSleep(OSAL_US2I(usecs))
 508:../../os/hal/osal/rt-nil/osal.h **** /** @} */
 509:../../os/hal/osal/rt-nil/osal.h **** 
 510:../../os/hal/osal/rt-nil/osal.h **** /*===========================================================================*/
 511:../../os/hal/osal/rt-nil/osal.h **** /* External declarations.                                                    */
 512:../../os/hal/osal/rt-nil/osal.h **** /*===========================================================================*/
 513:../../os/hal/osal/rt-nil/osal.h **** 
 514:../../os/hal/osal/rt-nil/osal.h **** #ifdef __cplusplus
 515:../../os/hal/osal/rt-nil/osal.h **** extern "C" {
 516:../../os/hal/osal/rt-nil/osal.h **** #endif
 517:../../os/hal/osal/rt-nil/osal.h **** 
 518:../../os/hal/osal/rt-nil/osal.h **** #ifdef __cplusplus
 519:../../os/hal/osal/rt-nil/osal.h **** }
 520:../../os/hal/osal/rt-nil/osal.h **** #endif
 521:../../os/hal/osal/rt-nil/osal.h **** 
 522:../../os/hal/osal/rt-nil/osal.h **** /*===========================================================================*/
 523:../../os/hal/osal/rt-nil/osal.h **** /* Module inline functions.                                                  */
 524:../../os/hal/osal/rt-nil/osal.h **** /*===========================================================================*/
 525:../../os/hal/osal/rt-nil/osal.h **** 
 526:../../os/hal/osal/rt-nil/osal.h **** /**
 527:../../os/hal/osal/rt-nil/osal.h ****  * @brief   OSAL module initialization.
 528:../../os/hal/osal/rt-nil/osal.h ****  *
 529:../../os/hal/osal/rt-nil/osal.h ****  * @api
 530:../../os/hal/osal/rt-nil/osal.h ****  */
 531:../../os/hal/osal/rt-nil/osal.h **** static inline void osalInit(void) {
 532:../../os/hal/osal/rt-nil/osal.h **** 
 533:../../os/hal/osal/rt-nil/osal.h **** }
 534:../../os/hal/osal/rt-nil/osal.h **** 
 535:../../os/hal/osal/rt-nil/osal.h **** /**
 536:../../os/hal/osal/rt-nil/osal.h ****  * @brief   System halt with error message.
 537:../../os/hal/osal/rt-nil/osal.h ****  *
 538:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] reason    the halt message pointer
 539:../../os/hal/osal/rt-nil/osal.h ****  *
 540:../../os/hal/osal/rt-nil/osal.h ****  * @api
 541:../../os/hal/osal/rt-nil/osal.h ****  */
 542:../../os/hal/osal/rt-nil/osal.h **** static inline void osalSysHalt(const char *reason) {
 543:../../os/hal/osal/rt-nil/osal.h **** 
 544:../../os/hal/osal/rt-nil/osal.h ****   chSysHalt(reason);
 545:../../os/hal/osal/rt-nil/osal.h **** }
 546:../../os/hal/osal/rt-nil/osal.h **** 
 547:../../os/hal/osal/rt-nil/osal.h **** /**
 548:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Disables interrupts globally.
 549:../../os/hal/osal/rt-nil/osal.h ****  *
 550:../../os/hal/osal/rt-nil/osal.h ****  * @special
 551:../../os/hal/osal/rt-nil/osal.h ****  */
 552:../../os/hal/osal/rt-nil/osal.h **** static inline void osalSysDisable(void) {
 553:../../os/hal/osal/rt-nil/osal.h **** 
 554:../../os/hal/osal/rt-nil/osal.h ****   chSysDisable();
 555:../../os/hal/osal/rt-nil/osal.h **** }
 556:../../os/hal/osal/rt-nil/osal.h **** 
 557:../../os/hal/osal/rt-nil/osal.h **** /**
 558:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Enables interrupts globally.
 559:../../os/hal/osal/rt-nil/osal.h ****  *
 560:../../os/hal/osal/rt-nil/osal.h ****  * @special
 561:../../os/hal/osal/rt-nil/osal.h ****  */
 562:../../os/hal/osal/rt-nil/osal.h **** static inline void osalSysEnable(void) {
 563:../../os/hal/osal/rt-nil/osal.h **** 
 564:../../os/hal/osal/rt-nil/osal.h ****   chSysEnable();
 565:../../os/hal/osal/rt-nil/osal.h **** }
 566:../../os/hal/osal/rt-nil/osal.h **** 
 567:../../os/hal/osal/rt-nil/osal.h **** /**
 568:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Enters a critical zone from thread context.
 569:../../os/hal/osal/rt-nil/osal.h ****  * @note    This function cannot be used for reentrant critical zones.
 570:../../os/hal/osal/rt-nil/osal.h ****  *
 571:../../os/hal/osal/rt-nil/osal.h ****  * @special
 572:../../os/hal/osal/rt-nil/osal.h ****  */
 573:../../os/hal/osal/rt-nil/osal.h **** static inline void osalSysLock(void) {
 574:../../os/hal/osal/rt-nil/osal.h **** 
 575:../../os/hal/osal/rt-nil/osal.h ****   chSysLock();
 576:../../os/hal/osal/rt-nil/osal.h **** }
 577:../../os/hal/osal/rt-nil/osal.h **** 
 578:../../os/hal/osal/rt-nil/osal.h **** /**
 579:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Leaves a critical zone from thread context.
 580:../../os/hal/osal/rt-nil/osal.h ****  * @note    This function cannot be used for reentrant critical zones.
 581:../../os/hal/osal/rt-nil/osal.h ****  *
 582:../../os/hal/osal/rt-nil/osal.h ****  * @special
 583:../../os/hal/osal/rt-nil/osal.h ****  */
 584:../../os/hal/osal/rt-nil/osal.h **** static inline void osalSysUnlock(void) {
 585:../../os/hal/osal/rt-nil/osal.h **** 
 586:../../os/hal/osal/rt-nil/osal.h ****   chSysUnlock();
 587:../../os/hal/osal/rt-nil/osal.h **** }
 588:../../os/hal/osal/rt-nil/osal.h **** 
 589:../../os/hal/osal/rt-nil/osal.h **** /**
 590:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Enters a critical zone from ISR context.
 591:../../os/hal/osal/rt-nil/osal.h ****  * @note    This function cannot be used for reentrant critical zones.
 592:../../os/hal/osal/rt-nil/osal.h ****  *
 593:../../os/hal/osal/rt-nil/osal.h ****  * @special
 594:../../os/hal/osal/rt-nil/osal.h ****  */
 595:../../os/hal/osal/rt-nil/osal.h **** static inline void osalSysLockFromISR(void) {
 596:../../os/hal/osal/rt-nil/osal.h **** 
 597:../../os/hal/osal/rt-nil/osal.h ****   chSysLockFromISR();
 598:../../os/hal/osal/rt-nil/osal.h **** }
 599:../../os/hal/osal/rt-nil/osal.h **** 
 600:../../os/hal/osal/rt-nil/osal.h **** /**
 601:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Leaves a critical zone from ISR context.
 602:../../os/hal/osal/rt-nil/osal.h ****  * @note    This function cannot be used for reentrant critical zones.
 603:../../os/hal/osal/rt-nil/osal.h ****  *
 604:../../os/hal/osal/rt-nil/osal.h ****  * @special
 605:../../os/hal/osal/rt-nil/osal.h ****  */
 606:../../os/hal/osal/rt-nil/osal.h **** static inline void osalSysUnlockFromISR(void) {
 607:../../os/hal/osal/rt-nil/osal.h **** 
 608:../../os/hal/osal/rt-nil/osal.h ****   chSysUnlockFromISR();
 609:../../os/hal/osal/rt-nil/osal.h **** }
 610:../../os/hal/osal/rt-nil/osal.h **** 
 611:../../os/hal/osal/rt-nil/osal.h **** /**
 612:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Returns the execution status and enters a critical zone.
 613:../../os/hal/osal/rt-nil/osal.h ****  * @details This functions enters into a critical zone and can be called
 614:../../os/hal/osal/rt-nil/osal.h ****  *          from any context. Because its flexibility it is less efficient
 615:../../os/hal/osal/rt-nil/osal.h ****  *          than @p chSysLock() which is preferable when the calling context
 616:../../os/hal/osal/rt-nil/osal.h ****  *          is known.
 617:../../os/hal/osal/rt-nil/osal.h ****  * @post    The system is in a critical zone.
 618:../../os/hal/osal/rt-nil/osal.h ****  *
 619:../../os/hal/osal/rt-nil/osal.h ****  * @return              The previous system status, the encoding of this
 620:../../os/hal/osal/rt-nil/osal.h ****  *                      status word is architecture-dependent and opaque.
 621:../../os/hal/osal/rt-nil/osal.h ****  *
 622:../../os/hal/osal/rt-nil/osal.h ****  * @xclass
 623:../../os/hal/osal/rt-nil/osal.h ****  */
 624:../../os/hal/osal/rt-nil/osal.h **** static inline syssts_t osalSysGetStatusAndLockX(void) {
 625:../../os/hal/osal/rt-nil/osal.h **** 
 626:../../os/hal/osal/rt-nil/osal.h ****   return chSysGetStatusAndLockX();
 627:../../os/hal/osal/rt-nil/osal.h **** }
 628:../../os/hal/osal/rt-nil/osal.h **** 
 629:../../os/hal/osal/rt-nil/osal.h **** /**
 630:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Restores the specified execution status and leaves a critical zone.
 631:../../os/hal/osal/rt-nil/osal.h ****  * @note    A call to @p chSchRescheduleS() is automatically performed
 632:../../os/hal/osal/rt-nil/osal.h ****  *          if exiting the critical zone and if not in ISR context.
 633:../../os/hal/osal/rt-nil/osal.h ****  *
 634:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] sts       the system status to be restored.
 635:../../os/hal/osal/rt-nil/osal.h ****  *
 636:../../os/hal/osal/rt-nil/osal.h ****  * @xclass
 637:../../os/hal/osal/rt-nil/osal.h ****  */
 638:../../os/hal/osal/rt-nil/osal.h **** static inline void osalSysRestoreStatusX(syssts_t sts) {
 639:../../os/hal/osal/rt-nil/osal.h **** 
 640:../../os/hal/osal/rt-nil/osal.h ****   chSysRestoreStatusX(sts);
 641:../../os/hal/osal/rt-nil/osal.h **** }
 642:../../os/hal/osal/rt-nil/osal.h **** 
 643:../../os/hal/osal/rt-nil/osal.h **** /**
 644:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Polled delay.
 645:../../os/hal/osal/rt-nil/osal.h ****  * @note    The real delay is always few cycles in excess of the specified
 646:../../os/hal/osal/rt-nil/osal.h ****  *          value.
 647:../../os/hal/osal/rt-nil/osal.h ****  *
 648:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] cycles    number of cycles
 649:../../os/hal/osal/rt-nil/osal.h ****  *
 650:../../os/hal/osal/rt-nil/osal.h ****  * @xclass
 651:../../os/hal/osal/rt-nil/osal.h ****  */
 652:../../os/hal/osal/rt-nil/osal.h **** #if (PORT_SUPPORTS_RT == TRUE) || defined(__DOXYGEN__)
 653:../../os/hal/osal/rt-nil/osal.h **** static inline void osalSysPolledDelayX(rtcnt_t cycles) {
 654:../../os/hal/osal/rt-nil/osal.h **** 
 655:../../os/hal/osal/rt-nil/osal.h ****   chSysPolledDelayX(cycles);
 656:../../os/hal/osal/rt-nil/osal.h **** }
 657:../../os/hal/osal/rt-nil/osal.h **** #endif
 658:../../os/hal/osal/rt-nil/osal.h **** 
 659:../../os/hal/osal/rt-nil/osal.h **** /**
 660:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Systick callback for the underlying OS.
 661:../../os/hal/osal/rt-nil/osal.h ****  * @note    This callback is only defined if the OSAL requires such a
 662:../../os/hal/osal/rt-nil/osal.h ****  *          service from the HAL.
 663:../../os/hal/osal/rt-nil/osal.h ****  */
 664:../../os/hal/osal/rt-nil/osal.h **** #if (OSAL_ST_MODE != OSAL_ST_MODE_NONE) || defined(__DOXYGEN__)
 665:../../os/hal/osal/rt-nil/osal.h **** static inline void osalOsTimerHandlerI(void) {
 666:../../os/hal/osal/rt-nil/osal.h **** 
 667:../../os/hal/osal/rt-nil/osal.h ****   chSysTimerHandlerI();
 668:../../os/hal/osal/rt-nil/osal.h **** }
 669:../../os/hal/osal/rt-nil/osal.h **** #endif
 670:../../os/hal/osal/rt-nil/osal.h **** 
 671:../../os/hal/osal/rt-nil/osal.h **** /**
 672:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Checks if a reschedule is required and performs it.
 673:../../os/hal/osal/rt-nil/osal.h ****  * @note    I-Class functions invoked from thread context must not reschedule
 674:../../os/hal/osal/rt-nil/osal.h ****  *          by themselves, an explicit reschedule using this function is
 675:../../os/hal/osal/rt-nil/osal.h ****  *          required in this scenario.
 676:../../os/hal/osal/rt-nil/osal.h ****  * @note    Not implemented in this simplified OSAL.
 677:../../os/hal/osal/rt-nil/osal.h ****  *
 678:../../os/hal/osal/rt-nil/osal.h ****  * @sclass
 679:../../os/hal/osal/rt-nil/osal.h ****  */
 680:../../os/hal/osal/rt-nil/osal.h **** static inline void osalOsRescheduleS(void) {
 681:../../os/hal/osal/rt-nil/osal.h **** 
 682:../../os/hal/osal/rt-nil/osal.h ****   chSchRescheduleS();
 683:../../os/hal/osal/rt-nil/osal.h **** }
 684:../../os/hal/osal/rt-nil/osal.h **** 
 685:../../os/hal/osal/rt-nil/osal.h **** /**
 686:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Current system time.
 687:../../os/hal/osal/rt-nil/osal.h ****  * @details Returns the number of system ticks since the @p osalInit()
 688:../../os/hal/osal/rt-nil/osal.h ****  *          invocation.
 689:../../os/hal/osal/rt-nil/osal.h ****  * @note    The counter can reach its maximum and then restart from zero.
 690:../../os/hal/osal/rt-nil/osal.h ****  * @note    This function can be called from any context but its atomicity
 691:../../os/hal/osal/rt-nil/osal.h ****  *          is not guaranteed on architectures whose word size is less than
 692:../../os/hal/osal/rt-nil/osal.h ****  *          @p systime_t size.
 693:../../os/hal/osal/rt-nil/osal.h ****  *
 694:../../os/hal/osal/rt-nil/osal.h ****  * @return              The system time in ticks.
 695:../../os/hal/osal/rt-nil/osal.h ****  *
 696:../../os/hal/osal/rt-nil/osal.h ****  * @xclass
 697:../../os/hal/osal/rt-nil/osal.h ****  */
 698:../../os/hal/osal/rt-nil/osal.h **** static inline systime_t osalOsGetSystemTimeX(void) {
 699:../../os/hal/osal/rt-nil/osal.h **** 
 700:../../os/hal/osal/rt-nil/osal.h ****   return chVTGetSystemTimeX();
 701:../../os/hal/osal/rt-nil/osal.h **** }
 702:../../os/hal/osal/rt-nil/osal.h **** 
 703:../../os/hal/osal/rt-nil/osal.h **** /**
 704:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Adds an interval to a system time returning a system time.
 705:../../os/hal/osal/rt-nil/osal.h ****  *
 706:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] systime   base system time
 707:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] interval  interval to be added
 708:../../os/hal/osal/rt-nil/osal.h ****  * @return              The new system time.
 709:../../os/hal/osal/rt-nil/osal.h ****  *
 710:../../os/hal/osal/rt-nil/osal.h ****  * @xclass
 711:../../os/hal/osal/rt-nil/osal.h ****  */
 712:../../os/hal/osal/rt-nil/osal.h **** static inline systime_t osalTimeAddX(systime_t systime,
 713:../../os/hal/osal/rt-nil/osal.h ****                                      sysinterval_t interval) {
 714:../../os/hal/osal/rt-nil/osal.h **** 
 715:../../os/hal/osal/rt-nil/osal.h ****   return chTimeAddX(systime, interval);
 716:../../os/hal/osal/rt-nil/osal.h **** }
 717:../../os/hal/osal/rt-nil/osal.h **** 
 718:../../os/hal/osal/rt-nil/osal.h **** /**
 719:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Subtracts two system times returning an interval.
 720:../../os/hal/osal/rt-nil/osal.h ****  *
 721:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] start     first system time
 722:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] end       second system time
 723:../../os/hal/osal/rt-nil/osal.h ****  * @return              The interval representing the time difference.
 724:../../os/hal/osal/rt-nil/osal.h ****  *
 725:../../os/hal/osal/rt-nil/osal.h ****  * @xclass
 726:../../os/hal/osal/rt-nil/osal.h ****  */
 727:../../os/hal/osal/rt-nil/osal.h **** static inline sysinterval_t osalTimeDiffX(systime_t start, systime_t end) {
 728:../../os/hal/osal/rt-nil/osal.h **** 
 729:../../os/hal/osal/rt-nil/osal.h ****   return chTimeDiffX(start, end);
 730:../../os/hal/osal/rt-nil/osal.h **** }
 731:../../os/hal/osal/rt-nil/osal.h **** 
 732:../../os/hal/osal/rt-nil/osal.h **** /**
 733:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Checks if the specified time is within the specified time window.
 734:../../os/hal/osal/rt-nil/osal.h ****  * @note    When start==end then the function returns always true because the
 735:../../os/hal/osal/rt-nil/osal.h ****  *          whole time range is specified.
 736:../../os/hal/osal/rt-nil/osal.h ****  * @note    This function can be called from any context.
 737:../../os/hal/osal/rt-nil/osal.h ****  *
 738:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] time      the time to be verified
 739:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] start     the start of the time window (inclusive)
 740:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] end       the end of the time window (non inclusive)
 741:../../os/hal/osal/rt-nil/osal.h ****  * @retval true         current time within the specified time window.
 742:../../os/hal/osal/rt-nil/osal.h ****  * @retval false        current time not within the specified time window.
 743:../../os/hal/osal/rt-nil/osal.h ****  *
 744:../../os/hal/osal/rt-nil/osal.h ****  * @xclass
 745:../../os/hal/osal/rt-nil/osal.h ****  */
 746:../../os/hal/osal/rt-nil/osal.h **** static inline bool osalTimeIsInRangeX(systime_t time,
 747:../../os/hal/osal/rt-nil/osal.h ****                                       systime_t start,
 748:../../os/hal/osal/rt-nil/osal.h ****                                       systime_t end) {
 749:../../os/hal/osal/rt-nil/osal.h **** 
 750:../../os/hal/osal/rt-nil/osal.h ****   return chTimeIsInRangeX(time, start, end);
 751:../../os/hal/osal/rt-nil/osal.h **** }
 752:../../os/hal/osal/rt-nil/osal.h **** 
 753:../../os/hal/osal/rt-nil/osal.h **** /**
 754:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Suspends the invoking thread for the specified time.
 755:../../os/hal/osal/rt-nil/osal.h ****  *
 756:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] delay     the delay in system ticks, the special values are
 757:../../os/hal/osal/rt-nil/osal.h ****  *                      handled as follow:
 758:../../os/hal/osal/rt-nil/osal.h ****  *                      - @a TIME_INFINITE is allowed but interpreted as a
 759:../../os/hal/osal/rt-nil/osal.h ****  *                        normal time specification.
 760:../../os/hal/osal/rt-nil/osal.h ****  *                      - @a TIME_IMMEDIATE this value is not allowed.
 761:../../os/hal/osal/rt-nil/osal.h ****  *                      .
 762:../../os/hal/osal/rt-nil/osal.h ****  *
 763:../../os/hal/osal/rt-nil/osal.h ****  * @sclass
 764:../../os/hal/osal/rt-nil/osal.h ****  */
 765:../../os/hal/osal/rt-nil/osal.h **** static inline void osalThreadSleepS(sysinterval_t delay) {
 766:../../os/hal/osal/rt-nil/osal.h **** 
 767:../../os/hal/osal/rt-nil/osal.h ****   chThdSleepS(delay);
 768:../../os/hal/osal/rt-nil/osal.h **** }
 769:../../os/hal/osal/rt-nil/osal.h **** 
 770:../../os/hal/osal/rt-nil/osal.h **** /**
 771:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Suspends the invoking thread for the specified time.
 772:../../os/hal/osal/rt-nil/osal.h ****  *
 773:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] delay     the delay in system ticks, the special values are
 774:../../os/hal/osal/rt-nil/osal.h ****  *                      handled as follow:
 775:../../os/hal/osal/rt-nil/osal.h ****  *                      - @a TIME_INFINITE is allowed but interpreted as a
 776:../../os/hal/osal/rt-nil/osal.h ****  *                        normal time specification.
 777:../../os/hal/osal/rt-nil/osal.h ****  *                      - @a TIME_IMMEDIATE this value is not allowed.
 778:../../os/hal/osal/rt-nil/osal.h ****  *                      .
 779:../../os/hal/osal/rt-nil/osal.h ****  *
 780:../../os/hal/osal/rt-nil/osal.h ****  * @api
 781:../../os/hal/osal/rt-nil/osal.h ****  */
 782:../../os/hal/osal/rt-nil/osal.h **** static inline void osalThreadSleep(sysinterval_t delay) {
 783:../../os/hal/osal/rt-nil/osal.h **** 
 784:../../os/hal/osal/rt-nil/osal.h ****   chThdSleep(delay);
 785:../../os/hal/osal/rt-nil/osal.h **** }
 786:../../os/hal/osal/rt-nil/osal.h **** 
 787:../../os/hal/osal/rt-nil/osal.h **** /**
 788:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Sends the current thread sleeping and sets a reference variable.
 789:../../os/hal/osal/rt-nil/osal.h ****  * @note    This function must reschedule, it can only be called from thread
 790:../../os/hal/osal/rt-nil/osal.h ****  *          context.
 791:../../os/hal/osal/rt-nil/osal.h ****  *
 792:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] trp       a pointer to a thread reference object
 793:../../os/hal/osal/rt-nil/osal.h ****  * @return              The wake up message.
 794:../../os/hal/osal/rt-nil/osal.h ****  *
 795:../../os/hal/osal/rt-nil/osal.h ****  * @sclass
 796:../../os/hal/osal/rt-nil/osal.h ****  */
 797:../../os/hal/osal/rt-nil/osal.h **** static inline msg_t osalThreadSuspendS(thread_reference_t *trp) {
 798:../../os/hal/osal/rt-nil/osal.h **** 
 799:../../os/hal/osal/rt-nil/osal.h ****   return chThdSuspendTimeoutS(trp, TIME_INFINITE);
 800:../../os/hal/osal/rt-nil/osal.h **** }
 801:../../os/hal/osal/rt-nil/osal.h **** 
 802:../../os/hal/osal/rt-nil/osal.h **** /**
 803:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Sends the current thread sleeping and sets a reference variable.
 804:../../os/hal/osal/rt-nil/osal.h ****  * @note    This function must reschedule, it can only be called from thread
 805:../../os/hal/osal/rt-nil/osal.h ****  *          context.
 806:../../os/hal/osal/rt-nil/osal.h ****  *
 807:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] trp       a pointer to a thread reference object
 808:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] timeout   the timeout in system ticks, the special values are
 809:../../os/hal/osal/rt-nil/osal.h ****  *                      handled as follow:
 810:../../os/hal/osal/rt-nil/osal.h ****  *                      - @a TIME_INFINITE the thread enters an infinite sleep
 811:../../os/hal/osal/rt-nil/osal.h ****  *                        state.
 812:../../os/hal/osal/rt-nil/osal.h ****  *                      - @a TIME_IMMEDIATE the thread is not enqueued and
 813:../../os/hal/osal/rt-nil/osal.h ****  *                        the function returns @p MSG_TIMEOUT as if a timeout
 814:../../os/hal/osal/rt-nil/osal.h ****  *                        occurred.
 815:../../os/hal/osal/rt-nil/osal.h ****  *                      .
 816:../../os/hal/osal/rt-nil/osal.h ****  * @return              The wake up message.
 817:../../os/hal/osal/rt-nil/osal.h ****  * @retval MSG_TIMEOUT  if the operation timed out.
 818:../../os/hal/osal/rt-nil/osal.h ****  *
 819:../../os/hal/osal/rt-nil/osal.h ****  * @sclass
 820:../../os/hal/osal/rt-nil/osal.h ****  */
 821:../../os/hal/osal/rt-nil/osal.h **** static inline msg_t osalThreadSuspendTimeoutS(thread_reference_t *trp,
 822:../../os/hal/osal/rt-nil/osal.h ****                                               sysinterval_t timeout) {
 823:../../os/hal/osal/rt-nil/osal.h **** 
 824:../../os/hal/osal/rt-nil/osal.h ****   return chThdSuspendTimeoutS(trp, timeout);
 825:../../os/hal/osal/rt-nil/osal.h **** }
 826:../../os/hal/osal/rt-nil/osal.h **** 
 827:../../os/hal/osal/rt-nil/osal.h **** /**
 828:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Wakes up a thread waiting on a thread reference object.
 829:../../os/hal/osal/rt-nil/osal.h ****  * @note    This function must not reschedule because it can be called from
 830:../../os/hal/osal/rt-nil/osal.h ****  *          ISR context.
 831:../../os/hal/osal/rt-nil/osal.h ****  *
 832:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] trp       a pointer to a thread reference object
 833:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] msg       the message code
 834:../../os/hal/osal/rt-nil/osal.h ****  *
 835:../../os/hal/osal/rt-nil/osal.h ****  * @iclass
 836:../../os/hal/osal/rt-nil/osal.h ****  */
 837:../../os/hal/osal/rt-nil/osal.h **** static inline void osalThreadResumeI(thread_reference_t *trp, msg_t msg) {
 838:../../os/hal/osal/rt-nil/osal.h **** 
 839:../../os/hal/osal/rt-nil/osal.h ****   chThdResumeI(trp, msg);
 840:../../os/hal/osal/rt-nil/osal.h **** }
 841:../../os/hal/osal/rt-nil/osal.h **** 
 842:../../os/hal/osal/rt-nil/osal.h **** /**
 843:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Wakes up a thread waiting on a thread reference object.
 844:../../os/hal/osal/rt-nil/osal.h ****  * @note    This function must reschedule, it can only be called from thread
 845:../../os/hal/osal/rt-nil/osal.h ****  *          context.
 846:../../os/hal/osal/rt-nil/osal.h ****  *
 847:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] trp       a pointer to a thread reference object
 848:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] msg       the message code
 849:../../os/hal/osal/rt-nil/osal.h ****  *
 850:../../os/hal/osal/rt-nil/osal.h ****  * @iclass
 851:../../os/hal/osal/rt-nil/osal.h ****  */
 852:../../os/hal/osal/rt-nil/osal.h **** static inline void osalThreadResumeS(thread_reference_t *trp, msg_t msg) {
 853:../../os/hal/osal/rt-nil/osal.h **** 
 854:../../os/hal/osal/rt-nil/osal.h ****   chThdResumeS(trp, msg);
 855:../../os/hal/osal/rt-nil/osal.h **** }
 856:../../os/hal/osal/rt-nil/osal.h **** 
 857:../../os/hal/osal/rt-nil/osal.h **** /**
 858:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Initializes a threads queue object.
 859:../../os/hal/osal/rt-nil/osal.h ****  *
 860:../../os/hal/osal/rt-nil/osal.h ****  * @param[out] tqp      pointer to the threads queue object
 861:../../os/hal/osal/rt-nil/osal.h ****  *
 862:../../os/hal/osal/rt-nil/osal.h ****  * @init
 863:../../os/hal/osal/rt-nil/osal.h ****  */
 864:../../os/hal/osal/rt-nil/osal.h **** static inline void osalThreadQueueObjectInit(threads_queue_t *tqp) {
 865:../../os/hal/osal/rt-nil/osal.h **** 
 866:../../os/hal/osal/rt-nil/osal.h ****   chThdQueueObjectInit(tqp);
 867:../../os/hal/osal/rt-nil/osal.h **** }
 868:../../os/hal/osal/rt-nil/osal.h **** 
 869:../../os/hal/osal/rt-nil/osal.h **** /**
 870:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Enqueues the caller thread.
 871:../../os/hal/osal/rt-nil/osal.h ****  * @details The caller thread is enqueued and put to sleep until it is
 872:../../os/hal/osal/rt-nil/osal.h ****  *          dequeued or the specified timeouts expires.
 873:../../os/hal/osal/rt-nil/osal.h ****  *
 874:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] tqp       pointer to the threads queue object
 875:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] timeout   the timeout in system ticks, the special values are
 876:../../os/hal/osal/rt-nil/osal.h ****  *                      handled as follow:
 877:../../os/hal/osal/rt-nil/osal.h ****  *                      - @a TIME_INFINITE the thread enters an infinite sleep
 878:../../os/hal/osal/rt-nil/osal.h ****  *                        state.
 879:../../os/hal/osal/rt-nil/osal.h ****  *                      - @a TIME_IMMEDIATE the thread is not enqueued and
 880:../../os/hal/osal/rt-nil/osal.h ****  *                        the function returns @p MSG_TIMEOUT as if a timeout
 881:../../os/hal/osal/rt-nil/osal.h ****  *                        occurred.
 882:../../os/hal/osal/rt-nil/osal.h ****  *                      .
 883:../../os/hal/osal/rt-nil/osal.h ****  * @return              The message from @p osalQueueWakeupOneI() or
 884:../../os/hal/osal/rt-nil/osal.h ****  *                      @p osalQueueWakeupAllI() functions.
 885:../../os/hal/osal/rt-nil/osal.h ****  * @retval MSG_TIMEOUT  if the thread has not been dequeued within the
 886:../../os/hal/osal/rt-nil/osal.h ****  *                      specified timeout or if the function has been
 887:../../os/hal/osal/rt-nil/osal.h ****  *                      invoked with @p TIME_IMMEDIATE as timeout
 888:../../os/hal/osal/rt-nil/osal.h ****  *                      specification.
 889:../../os/hal/osal/rt-nil/osal.h ****  *
 890:../../os/hal/osal/rt-nil/osal.h ****  * @sclass
 891:../../os/hal/osal/rt-nil/osal.h ****  */
 892:../../os/hal/osal/rt-nil/osal.h **** static inline msg_t osalThreadEnqueueTimeoutS(threads_queue_t *tqp,
 893:../../os/hal/osal/rt-nil/osal.h ****                                               sysinterval_t timeout) {
 894:../../os/hal/osal/rt-nil/osal.h **** 
 895:../../os/hal/osal/rt-nil/osal.h ****   return chThdEnqueueTimeoutS(tqp, timeout);
 896:../../os/hal/osal/rt-nil/osal.h **** }
 897:../../os/hal/osal/rt-nil/osal.h **** 
 898:../../os/hal/osal/rt-nil/osal.h **** /**
 899:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Dequeues and wakes up one thread from the queue, if any.
 900:../../os/hal/osal/rt-nil/osal.h ****  *
 901:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] tqp       pointer to the threads queue object
 902:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] msg       the message code
 903:../../os/hal/osal/rt-nil/osal.h ****  *
 904:../../os/hal/osal/rt-nil/osal.h ****  * @iclass
 905:../../os/hal/osal/rt-nil/osal.h ****  */
 906:../../os/hal/osal/rt-nil/osal.h **** static inline void osalThreadDequeueNextI(threads_queue_t *tqp, msg_t msg) {
 907:../../os/hal/osal/rt-nil/osal.h **** 
 908:../../os/hal/osal/rt-nil/osal.h ****   chThdDequeueNextI(tqp, msg);
 909:../../os/hal/osal/rt-nil/osal.h **** }
 910:../../os/hal/osal/rt-nil/osal.h **** 
 911:../../os/hal/osal/rt-nil/osal.h **** /**
 912:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Dequeues and wakes up all threads from the queue.
 913:../../os/hal/osal/rt-nil/osal.h ****  *
 914:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] tqp       pointer to the threads queue object
 915:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] msg       the message code
 916:../../os/hal/osal/rt-nil/osal.h ****  *
 917:../../os/hal/osal/rt-nil/osal.h ****  * @iclass
 918:../../os/hal/osal/rt-nil/osal.h ****  */
 919:../../os/hal/osal/rt-nil/osal.h **** static inline void osalThreadDequeueAllI(threads_queue_t *tqp, msg_t msg) {
 920:../../os/hal/osal/rt-nil/osal.h **** 
 921:../../os/hal/osal/rt-nil/osal.h ****   chThdDequeueAllI(tqp, msg);
 922:../../os/hal/osal/rt-nil/osal.h **** }
 923:../../os/hal/osal/rt-nil/osal.h **** 
 924:../../os/hal/osal/rt-nil/osal.h **** #if (CH_CFG_USE_EVENTS == TRUE) || defined(__DOXYGEN__)
 925:../../os/hal/osal/rt-nil/osal.h **** /**
 926:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Initializes an event source object.
 927:../../os/hal/osal/rt-nil/osal.h ****  *
 928:../../os/hal/osal/rt-nil/osal.h ****  * @param[out] esp      pointer to the event source object
 929:../../os/hal/osal/rt-nil/osal.h ****  *
 930:../../os/hal/osal/rt-nil/osal.h ****  * @init
 931:../../os/hal/osal/rt-nil/osal.h ****  */
 932:../../os/hal/osal/rt-nil/osal.h **** static inline void osalEventObjectInit(event_source_t *esp) {
 290               		.loc 2 932 20 view .LVU49
 291               	.LBB51:
 933:../../os/hal/osal/rt-nil/osal.h **** 
 934:../../os/hal/osal/rt-nil/osal.h ****   chEvtObjectInit(esp);
 292               		.loc 2 934 3 view .LVU50
 293               		.loc 2 934 3 view .LVU51
 294 001c FB83      		std Y+3,r31
 295 001e EA83      		std Y+2,r30
 296               		.loc 2 934 3 view .LVU52
 297               	.LVL28:
 298               		.loc 2 934 3 is_stmt 0 view .LVU53
 299               	.LBE51:
 300               	.LBE50:
 161:../../os/hal/src/hal_serial.c ****   sdp->state = SD_STOP;
 301               		.loc 1 161 3 is_stmt 1 view .LVU54
 302               		.loc 1 161 14 is_stmt 0 view .LVU55
 303 0020 81E0      		ldi r24,lo8(1)
 304 0022 8C83      		std Y+4,r24
 162:../../os/hal/src/hal_serial.c ****   iqObjectInit(&sdp->iqueue, sdp->ib, SERIAL_BUFFERS_SIZE, inotify, sdp);
 305               		.loc 1 162 3 is_stmt 1 view .LVU56
 306               		.loc 1 162 33 is_stmt 0 view .LVU57
 307 0024 BE01      		movw r22,r28
 308               	.LVL29:
 309               		.loc 1 162 33 view .LVU58
 310 0026 6D5D      		subi r22,-35
 311 0028 7F4F      		sbci r23,-1
 312               		.loc 1 162 3 view .LVU59
 313 002a 8E01      		movw r16,r28
 314 002c 40E1      		ldi r20,lo8(16)
 315 002e 50E0      		ldi r21,0
 316               	.LVL30:
 317               		.loc 1 162 3 view .LVU60
 318 0030 CE01      		movw r24,r28
 319 0032 0596      		adiw r24,5
 320 0034 0E94 0000 		call iqObjectInit
 321               	.LVL31:
 163:../../os/hal/src/hal_serial.c ****   oqObjectInit(&sdp->oqueue, sdp->ob, SERIAL_BUFFERS_SIZE, onotify, sdp);
 322               		.loc 1 163 3 is_stmt 1 view .LVU61
 323               		.loc 1 163 33 is_stmt 0 view .LVU62
 324 0038 BE01      		movw r22,r28
 325 003a 6D5C      		subi r22,-51
 326 003c 7F4F      		sbci r23,-1
 327               		.loc 1 163 3 view .LVU63
 328 003e 9701      		movw r18,r14
 329 0040 40E1      		ldi r20,lo8(16)
 330 0042 50E0      		ldi r21,0
 331 0044 CE01      		movw r24,r28
 332 0046 4496      		adiw r24,20
 333 0048 0E94 0000 		call oqObjectInit
 334               	.LVL32:
 335               	/* epilogue start */
 164:../../os/hal/src/hal_serial.c **** }
 336               		.loc 1 164 1 view .LVU64
 337 004c DF91      		pop r29
 338 004e CF91      		pop r28
 339               	.LVL33:
 340               		.loc 1 164 1 view .LVU65
 341 0050 1F91      		pop r17
 342 0052 0F91      		pop r16
 343               	.LVL34:
 344               		.loc 1 164 1 view .LVU66
 345 0054 FF90      		pop r15
 346 0056 EF90      		pop r14
 347               	.LVL35:
 348               		.loc 1 164 1 view .LVU67
 349 0058 0895      		ret
 350               		.cfi_endproc
 351               	.LFE156:
 353               		.section	.text.sdStart,"ax",@progbits
 354               	.global	sdStart
 356               	sdStart:
 357               	.LVL36:
 358               	.LFB157:
 165:../../os/hal/src/hal_serial.c **** #else
 166:../../os/hal/src/hal_serial.c **** void sdObjectInit(SerialDriver *sdp) {
 167:../../os/hal/src/hal_serial.c **** 
 168:../../os/hal/src/hal_serial.c ****   sdp->vmt = &vmt;
 169:../../os/hal/src/hal_serial.c ****   osalEventObjectInit(&sdp->event);
 170:../../os/hal/src/hal_serial.c ****   sdp->state = SD_STOP;
 171:../../os/hal/src/hal_serial.c **** }
 172:../../os/hal/src/hal_serial.c **** #endif
 173:../../os/hal/src/hal_serial.c **** 
 174:../../os/hal/src/hal_serial.c **** /**
 175:../../os/hal/src/hal_serial.c ****  * @brief   Configures and starts the driver.
 176:../../os/hal/src/hal_serial.c ****  *
 177:../../os/hal/src/hal_serial.c ****  * @param[in] sdp       pointer to a @p SerialDriver object
 178:../../os/hal/src/hal_serial.c ****  * @param[in] config    the architecture-dependent serial driver configuration.
 179:../../os/hal/src/hal_serial.c ****  *                      If this parameter is set to @p NULL then a default
 180:../../os/hal/src/hal_serial.c ****  *                      configuration is used.
 181:../../os/hal/src/hal_serial.c ****  * @return              The operation status.
 182:../../os/hal/src/hal_serial.c ****  *
 183:../../os/hal/src/hal_serial.c ****  * @api
 184:../../os/hal/src/hal_serial.c ****  */
 185:../../os/hal/src/hal_serial.c **** msg_t sdStart(SerialDriver *sdp, const SerialConfig *config) {
 359               		.loc 1 185 62 is_stmt 1 view -0
 360               		.cfi_startproc
 361               		.loc 1 185 62 is_stmt 0 view .LVU69
 362 0000 CF93      		push r28
 363               	.LCFI6:
 364               		.cfi_def_cfa_offset 3
 365               		.cfi_offset 28, -2
 366 0002 DF93      		push r29
 367               	.LCFI7:
 368               		.cfi_def_cfa_offset 4
 369               		.cfi_offset 29, -3
 370               	/* prologue: function */
 371               	/* frame size = 0 */
 372               	/* stack size = 2 */
 373               	.L__stack_usage = 2
 374 0004 EC01      		movw r28,r24
 186:../../os/hal/src/hal_serial.c ****   msg_t msg;
 375               		.loc 1 186 3 is_stmt 1 view .LVU70
 187:../../os/hal/src/hal_serial.c **** 
 188:../../os/hal/src/hal_serial.c ****   osalDbgCheck(sdp != NULL);
 376               		.loc 1 188 3 view .LVU71
 377               		.loc 1 188 3 view .LVU72
 378               		.loc 1 188 3 discriminator 5 view .LVU73
 189:../../os/hal/src/hal_serial.c **** 
 190:../../os/hal/src/hal_serial.c ****   osalSysLock();
 379               		.loc 1 190 3 view .LVU74
 380               	.LBB52:
 381               	.LBI52:
 573:../../os/hal/osal/rt-nil/osal.h **** 
 382               		.loc 2 573 20 view .LVU75
 575:../../os/hal/osal/rt-nil/osal.h **** }
 383               		.loc 2 575 3 view .LVU76
 384               	.LBB53:
 385               	.LBI53:
 386               		.file 3 "../../os/common/ports/AVR/chcore.h"
   1:../../os/common/ports/AVR/chcore.h **** /*
   2:../../os/common/ports/AVR/chcore.h ****     ChibiOS - Copyright (C) 2006,2007,2008,2009,2010,2011,2012,2013,2014,
   3:../../os/common/ports/AVR/chcore.h ****               2015,2016,2017,2018,2019,2020,2021 Giovanni Di Sirio.
   4:../../os/common/ports/AVR/chcore.h **** 
   5:../../os/common/ports/AVR/chcore.h ****     This file is part of ChibiOS.
   6:../../os/common/ports/AVR/chcore.h **** 
   7:../../os/common/ports/AVR/chcore.h ****     ChibiOS is free software; you can redistribute it and/or modify
   8:../../os/common/ports/AVR/chcore.h ****     it under the terms of the GNU General Public License as published by
   9:../../os/common/ports/AVR/chcore.h ****     the Free Software Foundation version 3 of the License.
  10:../../os/common/ports/AVR/chcore.h **** 
  11:../../os/common/ports/AVR/chcore.h ****     ChibiOS is distributed in the hope that it will be useful,
  12:../../os/common/ports/AVR/chcore.h ****     but WITHOUT ANY WARRANTY; without even the implied warranty of
  13:../../os/common/ports/AVR/chcore.h ****     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  14:../../os/common/ports/AVR/chcore.h ****     GNU General Public License for more details.
  15:../../os/common/ports/AVR/chcore.h **** 
  16:../../os/common/ports/AVR/chcore.h ****     You should have received a copy of the GNU General Public License
  17:../../os/common/ports/AVR/chcore.h ****     along with this program.  If not, see <http://www.gnu.org/licenses/>.
  18:../../os/common/ports/AVR/chcore.h **** */
  19:../../os/common/ports/AVR/chcore.h **** 
  20:../../os/common/ports/AVR/chcore.h **** /**
  21:../../os/common/ports/AVR/chcore.h ****  * @file    chcore.h
  22:../../os/common/ports/AVR/chcore.h ****  * @brief   AVR port macros and structures.
  23:../../os/common/ports/AVR/chcore.h ****  *
  24:../../os/common/ports/AVR/chcore.h ****  * @addtogroup AVR_CORE
  25:../../os/common/ports/AVR/chcore.h ****  * @{
  26:../../os/common/ports/AVR/chcore.h ****  */
  27:../../os/common/ports/AVR/chcore.h **** 
  28:../../os/common/ports/AVR/chcore.h **** #ifndef CHCORE_H
  29:../../os/common/ports/AVR/chcore.h **** #define CHCORE_H
  30:../../os/common/ports/AVR/chcore.h **** 
  31:../../os/common/ports/AVR/chcore.h **** #include <avr/io.h>
  32:../../os/common/ports/AVR/chcore.h **** #include <avr/interrupt.h>
  33:../../os/common/ports/AVR/chcore.h **** 
  34:../../os/common/ports/AVR/chcore.h **** extern bool __avr_in_isr;
  35:../../os/common/ports/AVR/chcore.h **** 
  36:../../os/common/ports/AVR/chcore.h **** /*===========================================================================*/
  37:../../os/common/ports/AVR/chcore.h **** /* Module constants.                                                         */
  38:../../os/common/ports/AVR/chcore.h **** /*===========================================================================*/
  39:../../os/common/ports/AVR/chcore.h **** 
  40:../../os/common/ports/AVR/chcore.h **** /**
  41:../../os/common/ports/AVR/chcore.h ****  * @name    Port Capabilities and Constants
  42:../../os/common/ports/AVR/chcore.h ****  * @{
  43:../../os/common/ports/AVR/chcore.h ****  */
  44:../../os/common/ports/AVR/chcore.h **** /**
  45:../../os/common/ports/AVR/chcore.h ****  * @brief   This port supports a realtime counter.
  46:../../os/common/ports/AVR/chcore.h ****  */
  47:../../os/common/ports/AVR/chcore.h **** #define PORT_SUPPORTS_RT                FALSE
  48:../../os/common/ports/AVR/chcore.h **** 
  49:../../os/common/ports/AVR/chcore.h **** /**
  50:../../os/common/ports/AVR/chcore.h ****  * @brief   Natural alignment constant.
  51:../../os/common/ports/AVR/chcore.h ****  * @note    It is the minimum alignment for pointer-size variables.
  52:../../os/common/ports/AVR/chcore.h ****  */
  53:../../os/common/ports/AVR/chcore.h **** #define PORT_NATURAL_ALIGN              1U
  54:../../os/common/ports/AVR/chcore.h **** 
  55:../../os/common/ports/AVR/chcore.h **** /**
  56:../../os/common/ports/AVR/chcore.h ****  * @brief   Stack alignment constant.
  57:../../os/common/ports/AVR/chcore.h ****  * @note    It is the alignment required for the stack pointer.
  58:../../os/common/ports/AVR/chcore.h ****  */
  59:../../os/common/ports/AVR/chcore.h **** #define PORT_STACK_ALIGN                1U
  60:../../os/common/ports/AVR/chcore.h **** 
  61:../../os/common/ports/AVR/chcore.h **** /**
  62:../../os/common/ports/AVR/chcore.h ****  * @brief   Working Areas alignment constant.
  63:../../os/common/ports/AVR/chcore.h ****  * @note    It is the alignment to be enforced for thread working areas.
  64:../../os/common/ports/AVR/chcore.h ****  */
  65:../../os/common/ports/AVR/chcore.h **** #define PORT_WORKING_AREA_ALIGN         1U
  66:../../os/common/ports/AVR/chcore.h **** /** @} */
  67:../../os/common/ports/AVR/chcore.h **** 
  68:../../os/common/ports/AVR/chcore.h **** /**
  69:../../os/common/ports/AVR/chcore.h ****  * @name    Architecture and Compiler
  70:../../os/common/ports/AVR/chcore.h ****  * @{
  71:../../os/common/ports/AVR/chcore.h ****  */
  72:../../os/common/ports/AVR/chcore.h **** /**
  73:../../os/common/ports/AVR/chcore.h ****  * @brief   Macro defining an AVR architecture.
  74:../../os/common/ports/AVR/chcore.h ****  */
  75:../../os/common/ports/AVR/chcore.h **** #define PORT_ARCHITECTURE_AVR
  76:../../os/common/ports/AVR/chcore.h **** 
  77:../../os/common/ports/AVR/chcore.h **** /**
  78:../../os/common/ports/AVR/chcore.h ****  * @brief   Macro defining the specific AVR architecture.
  79:../../os/common/ports/AVR/chcore.h ****  */
  80:../../os/common/ports/AVR/chcore.h **** #define PORT_ARCHITECTURE_AVR_MEGAAVR
  81:../../os/common/ports/AVR/chcore.h **** 
  82:../../os/common/ports/AVR/chcore.h **** /**
  83:../../os/common/ports/AVR/chcore.h ****  * @brief   Name of the implemented architecture.
  84:../../os/common/ports/AVR/chcore.h ****  */
  85:../../os/common/ports/AVR/chcore.h **** #define PORT_ARCHITECTURE_NAME          "AVR"
  86:../../os/common/ports/AVR/chcore.h **** 
  87:../../os/common/ports/AVR/chcore.h **** /**
  88:../../os/common/ports/AVR/chcore.h ****  * @brief   Name of the architecture variant.
  89:../../os/common/ports/AVR/chcore.h ****  */
  90:../../os/common/ports/AVR/chcore.h **** #define PORT_CORE_VARIANT_NAME          "MegaAVR"
  91:../../os/common/ports/AVR/chcore.h **** 
  92:../../os/common/ports/AVR/chcore.h **** /**
  93:../../os/common/ports/AVR/chcore.h ****  * @brief   Compiler name and version.
  94:../../os/common/ports/AVR/chcore.h ****  */
  95:../../os/common/ports/AVR/chcore.h **** #if defined(__GNUC__) || defined(__DOXYGEN__)
  96:../../os/common/ports/AVR/chcore.h **** #define PORT_COMPILER_NAME              "GCC " __VERSION__
  97:../../os/common/ports/AVR/chcore.h **** 
  98:../../os/common/ports/AVR/chcore.h **** #else
  99:../../os/common/ports/AVR/chcore.h **** #error "unsupported compiler"
 100:../../os/common/ports/AVR/chcore.h **** #endif
 101:../../os/common/ports/AVR/chcore.h **** 
 102:../../os/common/ports/AVR/chcore.h **** /**
 103:../../os/common/ports/AVR/chcore.h ****  * @brief   Port-specific information string.
 104:../../os/common/ports/AVR/chcore.h ****  */
 105:../../os/common/ports/AVR/chcore.h **** #define PORT_INFO                       "None"
 106:../../os/common/ports/AVR/chcore.h **** /** @} */
 107:../../os/common/ports/AVR/chcore.h **** 
 108:../../os/common/ports/AVR/chcore.h **** /*===========================================================================*/
 109:../../os/common/ports/AVR/chcore.h **** /* Module pre-compile time settings.                                         */
 110:../../os/common/ports/AVR/chcore.h **** /*===========================================================================*/
 111:../../os/common/ports/AVR/chcore.h **** 
 112:../../os/common/ports/AVR/chcore.h **** /**
 113:../../os/common/ports/AVR/chcore.h ****  * @brief   Stack size for the system idle thread.
 114:../../os/common/ports/AVR/chcore.h ****  * @details This size depends on the idle thread implementation, usually
 115:../../os/common/ports/AVR/chcore.h ****  *          the idle thread should take no more space than those reserved
 116:../../os/common/ports/AVR/chcore.h ****  *          by @p PORT_INT_REQUIRED_STACK.
 117:../../os/common/ports/AVR/chcore.h ****  */
 118:../../os/common/ports/AVR/chcore.h **** #if !defined(PORT_IDLE_THREAD_STACK_SIZE) || defined(__DOXYGEN__)
 119:../../os/common/ports/AVR/chcore.h **** #define PORT_IDLE_THREAD_STACK_SIZE     8
 120:../../os/common/ports/AVR/chcore.h **** #endif
 121:../../os/common/ports/AVR/chcore.h **** 
 122:../../os/common/ports/AVR/chcore.h **** /**
 123:../../os/common/ports/AVR/chcore.h ****  * @brief   Per-thread stack overhead for interrupts servicing.
 124:../../os/common/ports/AVR/chcore.h ****  * @details This constant is used in the calculation of the correct working
 125:../../os/common/ports/AVR/chcore.h ****  *          area size.
 126:../../os/common/ports/AVR/chcore.h ****  */
 127:../../os/common/ports/AVR/chcore.h **** #if !defined(PORT_INT_REQUIRED_STACK) || defined(__DOXYGEN__)
 128:../../os/common/ports/AVR/chcore.h **** #define PORT_INT_REQUIRED_STACK         32
 129:../../os/common/ports/AVR/chcore.h **** #endif
 130:../../os/common/ports/AVR/chcore.h **** 
 131:../../os/common/ports/AVR/chcore.h **** /**
 132:../../os/common/ports/AVR/chcore.h ****  * @brief   Enables a "wait for interrupt" instruction in the idle loop.
 133:../../os/common/ports/AVR/chcore.h ****  */
 134:../../os/common/ports/AVR/chcore.h **** #if !defined(PORT_AVR_WFI_SLEEP_IDLE) || defined(__DOXYGEN__)
 135:../../os/common/ports/AVR/chcore.h **** #define PORT_AVR_WFI_SLEEP_IDLE      FALSE
 136:../../os/common/ports/AVR/chcore.h **** #endif
 137:../../os/common/ports/AVR/chcore.h **** 
 138:../../os/common/ports/AVR/chcore.h **** /*===========================================================================*/
 139:../../os/common/ports/AVR/chcore.h **** /* Derived constants and error checks.                                       */
 140:../../os/common/ports/AVR/chcore.h **** /*===========================================================================*/
 141:../../os/common/ports/AVR/chcore.h **** 
 142:../../os/common/ports/AVR/chcore.h **** /*===========================================================================*/
 143:../../os/common/ports/AVR/chcore.h **** /* Module data structures and types.                                         */
 144:../../os/common/ports/AVR/chcore.h **** /*===========================================================================*/
 145:../../os/common/ports/AVR/chcore.h **** 
 146:../../os/common/ports/AVR/chcore.h **** /* The following code is not processed when the file is included from an
 147:../../os/common/ports/AVR/chcore.h ****    asm module.*/
 148:../../os/common/ports/AVR/chcore.h **** #if !defined(_FROM_ASM_)
 149:../../os/common/ports/AVR/chcore.h **** 
 150:../../os/common/ports/AVR/chcore.h **** /**
 151:../../os/common/ports/AVR/chcore.h ****  * @brief   Type of stack and memory alignment enforcement.
 152:../../os/common/ports/AVR/chcore.h ****  * @note    In this architecture the stack alignment is enforced to 8 bits.
 153:../../os/common/ports/AVR/chcore.h ****  */
 154:../../os/common/ports/AVR/chcore.h **** typedef uint8_t stkalign_t;
 155:../../os/common/ports/AVR/chcore.h **** 
 156:../../os/common/ports/AVR/chcore.h **** /**
 157:../../os/common/ports/AVR/chcore.h ****  * @brief   Interrupt saved context.
 158:../../os/common/ports/AVR/chcore.h ****  * @details This structure represents the stack frame saved during a
 159:../../os/common/ports/AVR/chcore.h ****  *          preemption-capable interrupt handler.
 160:../../os/common/ports/AVR/chcore.h ****  * @note    R2 and R13 are not saved because those are assumed to be immutable
 161:../../os/common/ports/AVR/chcore.h ****  *          during the system life cycle.
 162:../../os/common/ports/AVR/chcore.h ****  */
 163:../../os/common/ports/AVR/chcore.h **** struct port_extctx {
 164:../../os/common/ports/AVR/chcore.h ****   uint8_t       _next;
 165:../../os/common/ports/AVR/chcore.h ****   uint8_t       r31;
 166:../../os/common/ports/AVR/chcore.h ****   uint8_t       r30;
 167:../../os/common/ports/AVR/chcore.h ****   uint8_t       r27;
 168:../../os/common/ports/AVR/chcore.h ****   uint8_t       r26;
 169:../../os/common/ports/AVR/chcore.h ****   uint8_t       r25;
 170:../../os/common/ports/AVR/chcore.h ****   uint8_t       r24;
 171:../../os/common/ports/AVR/chcore.h ****   uint8_t       r23;
 172:../../os/common/ports/AVR/chcore.h ****   uint8_t       r22;
 173:../../os/common/ports/AVR/chcore.h ****   uint8_t       r21;
 174:../../os/common/ports/AVR/chcore.h ****   uint8_t       r20;
 175:../../os/common/ports/AVR/chcore.h ****   uint8_t       r19;
 176:../../os/common/ports/AVR/chcore.h ****   uint8_t       r18;
 177:../../os/common/ports/AVR/chcore.h ****   uint8_t       sr;
 178:../../os/common/ports/AVR/chcore.h ****   uint8_t       r1;
 179:../../os/common/ports/AVR/chcore.h ****   uint8_t       r0;
 180:../../os/common/ports/AVR/chcore.h **** #if defined(__AVR_3_BYTE_PC__)
 181:../../os/common/ports/AVR/chcore.h ****   uint8_t       pcx;
 182:../../os/common/ports/AVR/chcore.h **** #endif
 183:../../os/common/ports/AVR/chcore.h ****   uint16_t      pc;
 184:../../os/common/ports/AVR/chcore.h **** };
 185:../../os/common/ports/AVR/chcore.h **** 
 186:../../os/common/ports/AVR/chcore.h **** /**
 187:../../os/common/ports/AVR/chcore.h ****  * @brief   System saved context.
 188:../../os/common/ports/AVR/chcore.h ****  * @details This structure represents the inner stack frame during a context
 189:../../os/common/ports/AVR/chcore.h ****  *          switching.
 190:../../os/common/ports/AVR/chcore.h ****  * @note    R2 and R13 are not saved because those are assumed to be immutable
 191:../../os/common/ports/AVR/chcore.h ****  *          during the system life cycle.
 192:../../os/common/ports/AVR/chcore.h ****  * @note    LR is stored in the caller context so it is not present in this
 193:../../os/common/ports/AVR/chcore.h ****  *          structure.
 194:../../os/common/ports/AVR/chcore.h ****  */
 195:../../os/common/ports/AVR/chcore.h **** struct port_intctx {
 196:../../os/common/ports/AVR/chcore.h ****   uint8_t       _next;
 197:../../os/common/ports/AVR/chcore.h ****   uint8_t       r29;
 198:../../os/common/ports/AVR/chcore.h ****   uint8_t       r28;
 199:../../os/common/ports/AVR/chcore.h ****   uint8_t       r17;
 200:../../os/common/ports/AVR/chcore.h ****   uint8_t       r16;
 201:../../os/common/ports/AVR/chcore.h ****   uint8_t       r15;
 202:../../os/common/ports/AVR/chcore.h ****   uint8_t       r14;
 203:../../os/common/ports/AVR/chcore.h ****   uint8_t       r13;
 204:../../os/common/ports/AVR/chcore.h ****   uint8_t       r12;
 205:../../os/common/ports/AVR/chcore.h ****   uint8_t       r11;
 206:../../os/common/ports/AVR/chcore.h ****   uint8_t       r10;
 207:../../os/common/ports/AVR/chcore.h ****   uint8_t       r9;
 208:../../os/common/ports/AVR/chcore.h ****   uint8_t       r8;
 209:../../os/common/ports/AVR/chcore.h ****   uint8_t       r7;
 210:../../os/common/ports/AVR/chcore.h ****   uint8_t       r6;
 211:../../os/common/ports/AVR/chcore.h ****   uint8_t       r5;
 212:../../os/common/ports/AVR/chcore.h ****   uint8_t       r4;
 213:../../os/common/ports/AVR/chcore.h ****   uint8_t       r3;
 214:../../os/common/ports/AVR/chcore.h ****   uint8_t       r2;
 215:../../os/common/ports/AVR/chcore.h **** #if defined(__AVR_3_BYTE_PC__)
 216:../../os/common/ports/AVR/chcore.h ****   uint8_t       pcx;
 217:../../os/common/ports/AVR/chcore.h **** #endif
 218:../../os/common/ports/AVR/chcore.h ****   uint8_t       pcl;
 219:../../os/common/ports/AVR/chcore.h ****   uint8_t       pch;
 220:../../os/common/ports/AVR/chcore.h **** };
 221:../../os/common/ports/AVR/chcore.h **** 
 222:../../os/common/ports/AVR/chcore.h **** /**
 223:../../os/common/ports/AVR/chcore.h ****  * @brief   Platform dependent part of the @p thread_t structure.
 224:../../os/common/ports/AVR/chcore.h ****  * @details This structure usually contains just the saved stack pointer
 225:../../os/common/ports/AVR/chcore.h ****  *          defined as a pointer to a @p port_intctx structure.
 226:../../os/common/ports/AVR/chcore.h ****  */
 227:../../os/common/ports/AVR/chcore.h **** struct port_context {
 228:../../os/common/ports/AVR/chcore.h ****   struct port_intctx *sp;
 229:../../os/common/ports/AVR/chcore.h **** };
 230:../../os/common/ports/AVR/chcore.h **** 
 231:../../os/common/ports/AVR/chcore.h **** #endif /* !defined(_FROM_ASM_) */
 232:../../os/common/ports/AVR/chcore.h **** 
 233:../../os/common/ports/AVR/chcore.h **** /*===========================================================================*/
 234:../../os/common/ports/AVR/chcore.h **** /* Module macros.                                                            */
 235:../../os/common/ports/AVR/chcore.h **** /*===========================================================================*/
 236:../../os/common/ports/AVR/chcore.h **** 
 237:../../os/common/ports/AVR/chcore.h **** /**
 238:../../os/common/ports/AVR/chcore.h ****  * @brief   Platform dependent part of the @p chThdCreateI() API.
 239:../../os/common/ports/AVR/chcore.h ****  * @details This code usually setup the context switching frame represented
 240:../../os/common/ports/AVR/chcore.h ****  *          by an @p port_intctx structure.
 241:../../os/common/ports/AVR/chcore.h ****  */
 242:../../os/common/ports/AVR/chcore.h **** #if defined(__AVR_3_BYTE_PC__) || defined(__DOXYGEN__)
 243:../../os/common/ports/AVR/chcore.h **** #define PORT_SETUP_CONTEXT(tp, wbase, wtop, pf, arg) {                      \
 244:../../os/common/ports/AVR/chcore.h ****   tp->ctx.sp = (struct port_intctx *)((uint8_t *)(wtop) -                   \
 245:../../os/common/ports/AVR/chcore.h ****                                       sizeof(struct port_intctx));          \
 246:../../os/common/ports/AVR/chcore.h ****   tp->ctx.sp->r2  = (uint8_t)(0xff & (uint16_t)pf);                         \
 247:../../os/common/ports/AVR/chcore.h ****   tp->ctx.sp->r3  = (uint8_t)((uint16_t)(pf) >> 8);                         \
 248:../../os/common/ports/AVR/chcore.h ****   tp->ctx.sp->r4  = (uint8_t)(0xff & (uint16_t)arg);                        \
 249:../../os/common/ports/AVR/chcore.h ****   tp->ctx.sp->r5  = (uint8_t)((uint16_t)(arg) >> 8);                        \
 250:../../os/common/ports/AVR/chcore.h ****   tp->ctx.sp->pcx = (uint8_t)0;                                             \
 251:../../os/common/ports/AVR/chcore.h ****   tp->ctx.sp->pcl = (uint16_t)_port_thread_start >> 8;                      \
 252:../../os/common/ports/AVR/chcore.h ****   tp->ctx.sp->pch = (uint8_t)(0xff & (uint16_t)_port_thread_start);         \
 253:../../os/common/ports/AVR/chcore.h **** }
 254:../../os/common/ports/AVR/chcore.h **** #else /* !__AVR_3_BYTE_PC__ */
 255:../../os/common/ports/AVR/chcore.h **** #define PORT_SETUP_CONTEXT(tp, wbase, wtop, pf, arg) {                      \
 256:../../os/common/ports/AVR/chcore.h ****   tp->ctx.sp = (struct port_intctx *)((uint8_t *)(wtop) -                   \
 257:../../os/common/ports/AVR/chcore.h ****                                       sizeof(struct port_intctx));          \
 258:../../os/common/ports/AVR/chcore.h ****   tp->ctx.sp->r2  = (uint8_t)(0xff & (uint16_t)pf);                         \
 259:../../os/common/ports/AVR/chcore.h ****   tp->ctx.sp->r3  = (uint8_t)((uint16_t)(pf) >> 8);                         \
 260:../../os/common/ports/AVR/chcore.h ****   tp->ctx.sp->r4  = (uint8_t)(0xff & (uint16_t)arg);                        \
 261:../../os/common/ports/AVR/chcore.h ****   tp->ctx.sp->r5  = (uint8_t)((uint16_t)(arg) >> 8);                        \
 262:../../os/common/ports/AVR/chcore.h ****   tp->ctx.sp->pcl = (uint16_t)_port_thread_start >> 8;                      \
 263:../../os/common/ports/AVR/chcore.h ****   tp->ctx.sp->pch = (uint8_t)(0xff & (uint16_t)_port_thread_start);         \
 264:../../os/common/ports/AVR/chcore.h **** }
 265:../../os/common/ports/AVR/chcore.h **** #endif /* !__AVR_3_BYTE_PC__ */
 266:../../os/common/ports/AVR/chcore.h **** 
 267:../../os/common/ports/AVR/chcore.h **** /**
 268:../../os/common/ports/AVR/chcore.h ****  * @brief   Computes the thread working area global size.
 269:../../os/common/ports/AVR/chcore.h ****  * @note    There is no need to perform alignments in this macro.
 270:../../os/common/ports/AVR/chcore.h ****  */
 271:../../os/common/ports/AVR/chcore.h **** #define PORT_WA_SIZE(n) ((sizeof(struct port_intctx) - 1) +                \
 272:../../os/common/ports/AVR/chcore.h ****                          (sizeof(struct port_extctx) - 1) +                \
 273:../../os/common/ports/AVR/chcore.h ****                          ((size_t)(n)) + ((size_t)(PORT_INT_REQUIRED_STACK)))
 274:../../os/common/ports/AVR/chcore.h **** 
 275:../../os/common/ports/AVR/chcore.h **** /**
 276:../../os/common/ports/AVR/chcore.h ****  * @brief   Static working area allocation.
 277:../../os/common/ports/AVR/chcore.h ****  * @details This macro is used to allocate a static thread working area
 278:../../os/common/ports/AVR/chcore.h ****  *          aligned as both position and size.
 279:../../os/common/ports/AVR/chcore.h ****  *
 280:../../os/common/ports/AVR/chcore.h ****  * @param[in] s         the name to be assigned to the stack array
 281:../../os/common/ports/AVR/chcore.h ****  * @param[in] n         the stack size to be assigned to the thread
 282:../../os/common/ports/AVR/chcore.h ****  */
 283:../../os/common/ports/AVR/chcore.h **** #define PORT_WORKING_AREA(s, n)                                             \
 284:../../os/common/ports/AVR/chcore.h ****   stkalign_t s[THD_WORKING_AREA_SIZE(n) / sizeof (stkalign_t)]
 285:../../os/common/ports/AVR/chcore.h **** 
 286:../../os/common/ports/AVR/chcore.h **** /**
 287:../../os/common/ports/AVR/chcore.h ****  * @brief   Priority level verification macro.
 288:../../os/common/ports/AVR/chcore.h ****  */
 289:../../os/common/ports/AVR/chcore.h **** #define PORT_IRQ_IS_VALID_PRIORITY(n) false
 290:../../os/common/ports/AVR/chcore.h **** 
 291:../../os/common/ports/AVR/chcore.h **** /**
 292:../../os/common/ports/AVR/chcore.h ****  * @brief   Priority level verification macro.
 293:../../os/common/ports/AVR/chcore.h ****  */
 294:../../os/common/ports/AVR/chcore.h **** #define PORT_IRQ_IS_VALID_KERNEL_PRIORITY(n) false
 295:../../os/common/ports/AVR/chcore.h **** 
 296:../../os/common/ports/AVR/chcore.h **** /**
 297:../../os/common/ports/AVR/chcore.h ****  * @brief   IRQ prologue code.
 298:../../os/common/ports/AVR/chcore.h ****  * @details This macro must be inserted at the start of all IRQ handlers
 299:../../os/common/ports/AVR/chcore.h ****  *          enabled to invoke system APIs.
 300:../../os/common/ports/AVR/chcore.h ****  * @note    This code tricks the compiler to save all the specified registers
 301:../../os/common/ports/AVR/chcore.h ****  *          by "touching" them.
 302:../../os/common/ports/AVR/chcore.h ****  */
 303:../../os/common/ports/AVR/chcore.h **** #define PORT_IRQ_PROLOGUE() {                                               \
 304:../../os/common/ports/AVR/chcore.h ****   asm ("" : : : "r18", "r19", "r20", "r21", "r22", "r23", "r24",            \
 305:../../os/common/ports/AVR/chcore.h ****                 "r25", "r26", "r27", "r30", "r31");                         \
 306:../../os/common/ports/AVR/chcore.h ****   __avr_in_isr = true;                                                      \
 307:../../os/common/ports/AVR/chcore.h **** }
 308:../../os/common/ports/AVR/chcore.h **** 
 309:../../os/common/ports/AVR/chcore.h **** /**
 310:../../os/common/ports/AVR/chcore.h ****  * @brief   IRQ epilogue code.
 311:../../os/common/ports/AVR/chcore.h ****  * @details This macro must be inserted at the end of all IRQ handlers
 312:../../os/common/ports/AVR/chcore.h ****  *          enabled to invoke system APIs.
 313:../../os/common/ports/AVR/chcore.h ****  */
 314:../../os/common/ports/AVR/chcore.h **** #define PORT_IRQ_EPILOGUE() {                                               \
 315:../../os/common/ports/AVR/chcore.h ****   __avr_in_isr = false;                                                     \
 316:../../os/common/ports/AVR/chcore.h ****   __dbg_check_lock();                                                       \
 317:../../os/common/ports/AVR/chcore.h ****   if (chSchIsPreemptionRequired())                                          \
 318:../../os/common/ports/AVR/chcore.h ****     chSchDoPreemption();                                                    \
 319:../../os/common/ports/AVR/chcore.h ****   __dbg_check_unlock();                                                     \
 320:../../os/common/ports/AVR/chcore.h **** }
 321:../../os/common/ports/AVR/chcore.h **** 
 322:../../os/common/ports/AVR/chcore.h **** /**
 323:../../os/common/ports/AVR/chcore.h ****  * @brief   IRQ handler function declaration.
 324:../../os/common/ports/AVR/chcore.h ****  * @note    @p id can be a function name or a vector number depending on the
 325:../../os/common/ports/AVR/chcore.h ****  *          port implementation.
 326:../../os/common/ports/AVR/chcore.h ****  */
 327:../../os/common/ports/AVR/chcore.h **** #define PORT_IRQ_HANDLER(id) ISR(id)
 328:../../os/common/ports/AVR/chcore.h **** 
 329:../../os/common/ports/AVR/chcore.h **** /**
 330:../../os/common/ports/AVR/chcore.h ****  * @brief   Fast IRQ handler function declaration.
 331:../../os/common/ports/AVR/chcore.h ****  * @note    @p id can be a function name or a vector number depending on the
 332:../../os/common/ports/AVR/chcore.h ****  *          port implementation.
 333:../../os/common/ports/AVR/chcore.h ****  */
 334:../../os/common/ports/AVR/chcore.h **** #define PORT_FAST_IRQ_HANDLER(id) ISR(id)
 335:../../os/common/ports/AVR/chcore.h **** 
 336:../../os/common/ports/AVR/chcore.h **** /**
 337:../../os/common/ports/AVR/chcore.h ****  * @brief   Performs a context switch between two threads.
 338:../../os/common/ports/AVR/chcore.h ****  * @details This is the most critical code in any port, this function
 339:../../os/common/ports/AVR/chcore.h ****  *          is responsible for the context switch between 2 threads.
 340:../../os/common/ports/AVR/chcore.h ****  * @note    The implementation of this code affects <b>directly</b> the context
 341:../../os/common/ports/AVR/chcore.h ****  *          switch performance so optimize here as much as you can.
 342:../../os/common/ports/AVR/chcore.h ****  *
 343:../../os/common/ports/AVR/chcore.h ****  * @param[in] ntp       the thread to be switched in
 344:../../os/common/ports/AVR/chcore.h ****  * @param[in] otp       the thread to be switched out
 345:../../os/common/ports/AVR/chcore.h ****  */
 346:../../os/common/ports/AVR/chcore.h **** #define port_switch(ntp, otp) {                                             \
 347:../../os/common/ports/AVR/chcore.h ****   _port_switch(ntp, otp);                                                   \
 348:../../os/common/ports/AVR/chcore.h ****   asm volatile ("" : : : "memory");                                         \
 349:../../os/common/ports/AVR/chcore.h **** }
 350:../../os/common/ports/AVR/chcore.h **** 
 351:../../os/common/ports/AVR/chcore.h **** 
 352:../../os/common/ports/AVR/chcore.h **** /**
 353:../../os/common/ports/AVR/chcore.h ****  * @brief   Port-related initialization code.
 354:../../os/common/ports/AVR/chcore.h ****  * @note    This function is empty in this port.
 355:../../os/common/ports/AVR/chcore.h ****  */
 356:../../os/common/ports/AVR/chcore.h **** #define port_init(oip) {                                                    \
 357:../../os/common/ports/AVR/chcore.h ****   __avr_in_isr = true;                                                      \
 358:../../os/common/ports/AVR/chcore.h **** }
 359:../../os/common/ports/AVR/chcore.h **** 
 360:../../os/common/ports/AVR/chcore.h **** /*===========================================================================*/
 361:../../os/common/ports/AVR/chcore.h **** /* External declarations.                                                    */
 362:../../os/common/ports/AVR/chcore.h **** /*===========================================================================*/
 363:../../os/common/ports/AVR/chcore.h **** 
 364:../../os/common/ports/AVR/chcore.h **** /* The following code is not processed when the file is included from an
 365:../../os/common/ports/AVR/chcore.h ****    asm module.*/
 366:../../os/common/ports/AVR/chcore.h **** #if !defined(_FROM_ASM_)
 367:../../os/common/ports/AVR/chcore.h **** 
 368:../../os/common/ports/AVR/chcore.h **** #ifdef __cplusplus
 369:../../os/common/ports/AVR/chcore.h **** extern "C" {
 370:../../os/common/ports/AVR/chcore.h **** #endif
 371:../../os/common/ports/AVR/chcore.h ****   void _port_switch(thread_t *ntp, thread_t *otp);
 372:../../os/common/ports/AVR/chcore.h ****   void _port_thread_start(void);
 373:../../os/common/ports/AVR/chcore.h **** #ifdef __cplusplus
 374:../../os/common/ports/AVR/chcore.h **** }
 375:../../os/common/ports/AVR/chcore.h **** #endif
 376:../../os/common/ports/AVR/chcore.h **** 
 377:../../os/common/ports/AVR/chcore.h **** #endif /* !defined(_FROM_ASM_) */
 378:../../os/common/ports/AVR/chcore.h **** 
 379:../../os/common/ports/AVR/chcore.h **** /*===========================================================================*/
 380:../../os/common/ports/AVR/chcore.h **** /* Module inline functions.                                                  */
 381:../../os/common/ports/AVR/chcore.h **** /*===========================================================================*/
 382:../../os/common/ports/AVR/chcore.h **** 
 383:../../os/common/ports/AVR/chcore.h **** /* The following code is not processed when the file is included from an
 384:../../os/common/ports/AVR/chcore.h ****    asm module.*/
 385:../../os/common/ports/AVR/chcore.h **** #if !defined(_FROM_ASM_)
 386:../../os/common/ports/AVR/chcore.h **** 
 387:../../os/common/ports/AVR/chcore.h **** /**
 388:../../os/common/ports/AVR/chcore.h ****  * @brief   Returns a word encoding the current interrupts status.
 389:../../os/common/ports/AVR/chcore.h ****  *
 390:../../os/common/ports/AVR/chcore.h ****  * @return              The interrupts status.
 391:../../os/common/ports/AVR/chcore.h ****  */
 392:../../os/common/ports/AVR/chcore.h **** static inline syssts_t port_get_irq_status(void) {
 393:../../os/common/ports/AVR/chcore.h **** 
 394:../../os/common/ports/AVR/chcore.h ****   return SREG;
 395:../../os/common/ports/AVR/chcore.h **** }
 396:../../os/common/ports/AVR/chcore.h **** 
 397:../../os/common/ports/AVR/chcore.h **** /**
 398:../../os/common/ports/AVR/chcore.h ****  * @brief   Checks the interrupt status.
 399:../../os/common/ports/AVR/chcore.h ****  *
 400:../../os/common/ports/AVR/chcore.h ****  * @param[in] sts       the interrupt status word
 401:../../os/common/ports/AVR/chcore.h ****  *
 402:../../os/common/ports/AVR/chcore.h ****  * @return              The interrupt status.
 403:../../os/common/ports/AVR/chcore.h ****  * @retval false        the word specified a disabled interrupts status.
 404:../../os/common/ports/AVR/chcore.h ****  * @retval true         the word specified an enabled interrupts status.
 405:../../os/common/ports/AVR/chcore.h ****  */
 406:../../os/common/ports/AVR/chcore.h **** static inline bool port_irq_enabled(syssts_t sts) {
 407:../../os/common/ports/AVR/chcore.h **** 
 408:../../os/common/ports/AVR/chcore.h ****   return (bool)((sts & 0x80) != 0);
 409:../../os/common/ports/AVR/chcore.h **** }
 410:../../os/common/ports/AVR/chcore.h **** 
 411:../../os/common/ports/AVR/chcore.h **** /**
 412:../../os/common/ports/AVR/chcore.h ****  * @brief   Determines the current execution context.
 413:../../os/common/ports/AVR/chcore.h ****  *
 414:../../os/common/ports/AVR/chcore.h ****  * @return              The execution context.
 415:../../os/common/ports/AVR/chcore.h ****  * @retval false        not running in ISR mode.
 416:../../os/common/ports/AVR/chcore.h ****  * @retval true         running in ISR mode.
 417:../../os/common/ports/AVR/chcore.h ****  */
 418:../../os/common/ports/AVR/chcore.h **** static inline bool port_is_isr_context(void) {
 419:../../os/common/ports/AVR/chcore.h **** 
 420:../../os/common/ports/AVR/chcore.h ****   return __avr_in_isr;
 421:../../os/common/ports/AVR/chcore.h **** }
 422:../../os/common/ports/AVR/chcore.h **** 
 423:../../os/common/ports/AVR/chcore.h **** /**
 424:../../os/common/ports/AVR/chcore.h ****  * @brief   Kernel-lock action.
 425:../../os/common/ports/AVR/chcore.h ****  * @details Usually this function just disables interrupts but may perform more
 426:../../os/common/ports/AVR/chcore.h ****  *          actions.
 427:../../os/common/ports/AVR/chcore.h ****  */
 428:../../os/common/ports/AVR/chcore.h **** static inline void port_lock(void) {
 387               		.loc 3 428 20 view .LVU77
 388               	.LBB54:
 429:../../os/common/ports/AVR/chcore.h **** 
 430:../../os/common/ports/AVR/chcore.h ****   asm volatile ("cli" : : : "memory");
 389               		.loc 3 430 3 view .LVU78
 390               	/* #APP */
 391               	 ;  430 "../../os/common/ports/AVR/chcore.h" 1
 392 0006 F894      		cli
 393               	 ;  0 "" 2
 394               	/* #NOAPP */
 395               	.LBE54:
 396               	.LBE53:
 575:../../os/hal/osal/rt-nil/osal.h **** }
 397               		.loc 2 575 3 discriminator 1 view .LVU79
 575:../../os/hal/osal/rt-nil/osal.h **** }
 398               		.loc 2 575 14 discriminator 1 view .LVU80
 399               	.LBE52:
 191:../../os/hal/src/hal_serial.c ****   osalDbgAssert((sdp->state == SD_STOP) || (sdp->state == SD_READY),
 400               		.loc 1 191 3 view .LVU81
 401               		.loc 1 191 3 view .LVU82
 402               		.loc 1 191 3 discriminator 5 view .LVU83
 192:../../os/hal/src/hal_serial.c ****                 "invalid state");
 193:../../os/hal/src/hal_serial.c **** 
 194:../../os/hal/src/hal_serial.c **** #if defined(SD_LLD_ENHANCED_API)
 195:../../os/hal/src/hal_serial.c ****   msg = sd_lld_start(sdp, config);
 196:../../os/hal/src/hal_serial.c **** #else
 197:../../os/hal/src/hal_serial.c ****   sd_lld_start(sdp, config);
 403               		.loc 1 197 3 view .LVU84
 404 0008 0E94 0000 		call sd_lld_start
 405               	.LVL37:
 198:../../os/hal/src/hal_serial.c ****   msg = HAL_RET_SUCCESS;
 406               		.loc 1 198 3 view .LVU85
 199:../../os/hal/src/hal_serial.c **** #endif
 200:../../os/hal/src/hal_serial.c ****   if (msg == HAL_RET_SUCCESS) {
 407               		.loc 1 200 3 view .LVU86
 201:../../os/hal/src/hal_serial.c ****     sdp->state = SD_READY;
 408               		.loc 1 201 5 view .LVU87
 409               		.loc 1 201 16 is_stmt 0 view .LVU88
 410 000c 82E0      		ldi r24,lo8(2)
 411 000e 8C83      		std Y+4,r24
 202:../../os/hal/src/hal_serial.c ****   }
 203:../../os/hal/src/hal_serial.c ****   else {
 204:../../os/hal/src/hal_serial.c ****     sdp->state = SD_STOP;
 205:../../os/hal/src/hal_serial.c ****   }
 206:../../os/hal/src/hal_serial.c **** 
 207:../../os/hal/src/hal_serial.c ****   osalSysUnlock();
 412               		.loc 1 207 3 is_stmt 1 view .LVU89
 413               	.LBB55:
 414               	.LBI55:
 584:../../os/hal/osal/rt-nil/osal.h **** 
 415               		.loc 2 584 20 view .LVU90
 586:../../os/hal/osal/rt-nil/osal.h **** }
 416               		.loc 2 586 3 view .LVU91
 586:../../os/hal/osal/rt-nil/osal.h **** }
 417               		.loc 2 586 3 view .LVU92
 418               	.LBB56:
 419               	.LBI56:
 431:../../os/common/ports/AVR/chcore.h **** }
 432:../../os/common/ports/AVR/chcore.h **** 
 433:../../os/common/ports/AVR/chcore.h **** /**
 434:../../os/common/ports/AVR/chcore.h ****  * @brief   Kernel-unlock action.
 435:../../os/common/ports/AVR/chcore.h ****  * @details Usually this function just enables interrupts but may perform more
 436:../../os/common/ports/AVR/chcore.h ****  *          actions.
 437:../../os/common/ports/AVR/chcore.h ****  */
 438:../../os/common/ports/AVR/chcore.h **** static inline void port_unlock(void) {
 420               		.loc 3 438 20 view .LVU93
 421               	.LBB57:
 439:../../os/common/ports/AVR/chcore.h **** 
 440:../../os/common/ports/AVR/chcore.h ****   asm volatile ("sei" : : : "memory");
 422               		.loc 3 440 3 view .LVU94
 423               	/* #APP */
 424               	 ;  440 "../../os/common/ports/AVR/chcore.h" 1
 425 0010 7894      		sei
 426               	 ;  0 "" 2
 427               	/* #NOAPP */
 428               	.LBE57:
 429               	.LBE56:
 586:../../os/hal/osal/rt-nil/osal.h **** }
 430               		.loc 2 586 16 discriminator 1 view .LVU95
 431               	.LBE55:
 208:../../os/hal/src/hal_serial.c **** 
 209:../../os/hal/src/hal_serial.c ****   return msg;
 432               		.loc 1 209 3 view .LVU96
 210:../../os/hal/src/hal_serial.c **** }
 433               		.loc 1 210 1 is_stmt 0 view .LVU97
 434 0012 80E0      		ldi r24,0
 435 0014 90E0      		ldi r25,0
 436               	/* epilogue start */
 437 0016 DF91      		pop r29
 438 0018 CF91      		pop r28
 439               	.LVL38:
 440               		.loc 1 210 1 view .LVU98
 441 001a 0895      		ret
 442               		.cfi_endproc
 443               	.LFE157:
 445               		.section	.text.sdStop,"ax",@progbits
 446               	.global	sdStop
 448               	sdStop:
 449               	.LVL39:
 450               	.LFB158:
 211:../../os/hal/src/hal_serial.c **** 
 212:../../os/hal/src/hal_serial.c **** /**
 213:../../os/hal/src/hal_serial.c ****  * @brief   Stops the driver.
 214:../../os/hal/src/hal_serial.c ****  * @details Any thread waiting on the driver's queues will be awakened with
 215:../../os/hal/src/hal_serial.c ****  *          the message @p MSG_RESET.
 216:../../os/hal/src/hal_serial.c ****  *
 217:../../os/hal/src/hal_serial.c ****  * @param[in] sdp       pointer to a @p SerialDriver object
 218:../../os/hal/src/hal_serial.c ****  *
 219:../../os/hal/src/hal_serial.c ****  * @api
 220:../../os/hal/src/hal_serial.c ****  */
 221:../../os/hal/src/hal_serial.c **** void sdStop(SerialDriver *sdp) {
 451               		.loc 1 221 32 is_stmt 1 view -0
 452               		.cfi_startproc
 453               		.loc 1 221 32 is_stmt 0 view .LVU100
 454 0000 CF93      		push r28
 455               	.LCFI8:
 456               		.cfi_def_cfa_offset 3
 457               		.cfi_offset 28, -2
 458 0002 DF93      		push r29
 459               	.LCFI9:
 460               		.cfi_def_cfa_offset 4
 461               		.cfi_offset 29, -3
 462               	/* prologue: function */
 463               	/* frame size = 0 */
 464               	/* stack size = 2 */
 465               	.L__stack_usage = 2
 466 0004 EC01      		movw r28,r24
 222:../../os/hal/src/hal_serial.c **** 
 223:../../os/hal/src/hal_serial.c ****   osalDbgCheck(sdp != NULL);
 467               		.loc 1 223 3 is_stmt 1 view .LVU101
 468               		.loc 1 223 3 view .LVU102
 469               		.loc 1 223 3 discriminator 5 view .LVU103
 224:../../os/hal/src/hal_serial.c **** 
 225:../../os/hal/src/hal_serial.c ****   osalSysLock();
 470               		.loc 1 225 3 view .LVU104
 471               	.LBB58:
 472               	.LBI58:
 573:../../os/hal/osal/rt-nil/osal.h **** 
 473               		.loc 2 573 20 view .LVU105
 575:../../os/hal/osal/rt-nil/osal.h **** }
 474               		.loc 2 575 3 view .LVU106
 475               	.LBB59:
 476               	.LBI59:
 428:../../os/common/ports/AVR/chcore.h **** 
 477               		.loc 3 428 20 view .LVU107
 478               	.LBB60:
 430:../../os/common/ports/AVR/chcore.h **** }
 479               		.loc 3 430 3 view .LVU108
 480               	/* #APP */
 481               	 ;  430 "../../os/common/ports/AVR/chcore.h" 1
 482 0006 F894      		cli
 483               	 ;  0 "" 2
 484               	/* #NOAPP */
 485               	.LBE60:
 486               	.LBE59:
 575:../../os/hal/osal/rt-nil/osal.h **** }
 487               		.loc 2 575 3 discriminator 1 view .LVU109
 575:../../os/hal/osal/rt-nil/osal.h **** }
 488               		.loc 2 575 14 discriminator 1 view .LVU110
 489               	.LBE58:
 226:../../os/hal/src/hal_serial.c **** 
 227:../../os/hal/src/hal_serial.c ****   osalDbgAssert((sdp->state == SD_STOP) || (sdp->state == SD_READY),
 490               		.loc 1 227 3 view .LVU111
 491               		.loc 1 227 3 view .LVU112
 492               		.loc 1 227 3 discriminator 5 view .LVU113
 228:../../os/hal/src/hal_serial.c ****                 "invalid state");
 229:../../os/hal/src/hal_serial.c **** 
 230:../../os/hal/src/hal_serial.c ****   sd_lld_stop(sdp);
 493               		.loc 1 230 3 view .LVU114
 494 0008 0E94 0000 		call sd_lld_stop
 495               	.LVL40:
 231:../../os/hal/src/hal_serial.c ****   sdp->state = SD_STOP;
 496               		.loc 1 231 3 view .LVU115
 497               		.loc 1 231 14 is_stmt 0 view .LVU116
 498 000c 81E0      		ldi r24,lo8(1)
 499 000e 8C83      		std Y+4,r24
 232:../../os/hal/src/hal_serial.c ****   oqResetI(&sdp->oqueue);
 500               		.loc 1 232 3 is_stmt 1 view .LVU117
 501 0010 CE01      		movw r24,r28
 502 0012 4496      		adiw r24,20
 503 0014 0E94 0000 		call oqResetI
 504               	.LVL41:
 233:../../os/hal/src/hal_serial.c ****   iqResetI(&sdp->iqueue);
 505               		.loc 1 233 3 view .LVU118
 506 0018 CE01      		movw r24,r28
 507 001a 0596      		adiw r24,5
 508 001c 0E94 0000 		call iqResetI
 509               	.LVL42:
 234:../../os/hal/src/hal_serial.c ****   osalOsRescheduleS();
 510               		.loc 1 234 3 view .LVU119
 511               	.LBB61:
 512               	.LBI61:
 680:../../os/hal/osal/rt-nil/osal.h **** 
 513               		.loc 2 680 20 view .LVU120
 514               	.LBB62:
 682:../../os/hal/osal/rt-nil/osal.h **** }
 515               		.loc 2 682 3 view .LVU121
 516 0020 0E94 0000 		call chSchRescheduleS
 517               	.LVL43:
 518               	.LBE62:
 519               	.LBE61:
 235:../../os/hal/src/hal_serial.c **** 
 236:../../os/hal/src/hal_serial.c ****   osalSysUnlock();
 520               		.loc 1 236 3 view .LVU122
 521               	.LBB63:
 522               	.LBI63:
 584:../../os/hal/osal/rt-nil/osal.h **** 
 523               		.loc 2 584 20 view .LVU123
 586:../../os/hal/osal/rt-nil/osal.h **** }
 524               		.loc 2 586 3 view .LVU124
 586:../../os/hal/osal/rt-nil/osal.h **** }
 525               		.loc 2 586 3 view .LVU125
 526               	.LBB64:
 527               	.LBI64:
 438:../../os/common/ports/AVR/chcore.h **** 
 528               		.loc 3 438 20 view .LVU126
 529               	.LBB65:
 530               		.loc 3 440 3 view .LVU127
 531               	/* #APP */
 532               	 ;  440 "../../os/common/ports/AVR/chcore.h" 1
 533 0024 7894      		sei
 534               	 ;  0 "" 2
 535               	/* #NOAPP */
 536               	.LBE65:
 537               	.LBE64:
 586:../../os/hal/osal/rt-nil/osal.h **** }
 538               		.loc 2 586 16 discriminator 1 view .LVU128
 539               	/* epilogue start */
 540               	.LBE63:
 237:../../os/hal/src/hal_serial.c **** }
 541               		.loc 1 237 1 is_stmt 0 view .LVU129
 542 0026 DF91      		pop r29
 543 0028 CF91      		pop r28
 544               	.LVL44:
 545               		.loc 1 237 1 view .LVU130
 546 002a 0895      		ret
 547               		.cfi_endproc
 548               	.LFE158:
 550               		.section	.text.sdIncomingDataI,"ax",@progbits
 551               	.global	sdIncomingDataI
 553               	sdIncomingDataI:
 554               	.LVL45:
 555               	.LFB159:
 238:../../os/hal/src/hal_serial.c **** 
 239:../../os/hal/src/hal_serial.c **** /**
 240:../../os/hal/src/hal_serial.c ****  * @brief   Handles incoming data.
 241:../../os/hal/src/hal_serial.c ****  * @details This function must be called from the input interrupt service
 242:../../os/hal/src/hal_serial.c ****  *          routine in order to enqueue incoming data and generate the
 243:../../os/hal/src/hal_serial.c ****  *          related events.
 244:../../os/hal/src/hal_serial.c ****  * @note    The incoming data event is only generated when the input queue
 245:../../os/hal/src/hal_serial.c ****  *          becomes non-empty.
 246:../../os/hal/src/hal_serial.c ****  * @note    In order to gain some performance it is suggested to not use
 247:../../os/hal/src/hal_serial.c ****  *          this function directly but copy this code directly into the
 248:../../os/hal/src/hal_serial.c ****  *          interrupt service routine.
 249:../../os/hal/src/hal_serial.c ****  *
 250:../../os/hal/src/hal_serial.c ****  * @param[in] sdp       pointer to a @p SerialDriver structure
 251:../../os/hal/src/hal_serial.c ****  * @param[in] b         the byte to be written in the driver's Input Queue
 252:../../os/hal/src/hal_serial.c ****  *
 253:../../os/hal/src/hal_serial.c ****  * @iclass
 254:../../os/hal/src/hal_serial.c ****  */
 255:../../os/hal/src/hal_serial.c **** void sdIncomingDataI(SerialDriver *sdp, uint8_t b) {
 556               		.loc 1 255 52 is_stmt 1 view -0
 557               		.cfi_startproc
 558               		.loc 1 255 52 is_stmt 0 view .LVU132
 559 0000 1F93      		push r17
 560               	.LCFI10:
 561               		.cfi_def_cfa_offset 3
 562               		.cfi_offset 17, -2
 563 0002 CF93      		push r28
 564               	.LCFI11:
 565               		.cfi_def_cfa_offset 4
 566               		.cfi_offset 28, -3
 567 0004 DF93      		push r29
 568               	.LCFI12:
 569               		.cfi_def_cfa_offset 5
 570               		.cfi_offset 29, -4
 571               	/* prologue: function */
 572               	/* frame size = 0 */
 573               	/* stack size = 3 */
 574               	.L__stack_usage = 3
 575 0006 EC01      		movw r28,r24
 576 0008 162F      		mov r17,r22
 256:../../os/hal/src/hal_serial.c **** 
 257:../../os/hal/src/hal_serial.c ****   osalDbgCheckClassI();
 577               		.loc 1 257 23 is_stmt 1 view .LVU133
 258:../../os/hal/src/hal_serial.c ****   osalDbgCheck(sdp != NULL);
 578               		.loc 1 258 3 view .LVU134
 579               		.loc 1 258 3 view .LVU135
 580               		.loc 1 258 3 discriminator 5 view .LVU136
 259:../../os/hal/src/hal_serial.c **** 
 260:../../os/hal/src/hal_serial.c ****   if (iqIsEmptyI(&sdp->iqueue))
 581               		.loc 1 260 3 view .LVU137
 582               		.loc 1 260 7 is_stmt 0 view .LVU138
 583 000a 8E81      		ldd r24,Y+6
 584 000c 9F81      		ldd r25,Y+7
 585               	.LVL46:
 586               		.loc 1 260 6 view .LVU139
 587 000e 892B      		or r24,r25
 588 0010 01F0      		breq .L21
 261:../../os/hal/src/hal_serial.c ****     chnAddFlagsI(sdp, CHN_INPUT_AVAILABLE);
 589               		.loc 1 261 43 is_stmt 1 discriminator 1 view .LVU140
 262:../../os/hal/src/hal_serial.c ****   if (iqPutI(&sdp->iqueue, b) < MSG_OK)
 590               		.loc 1 262 3 view .LVU141
 591               		.loc 1 262 7 is_stmt 0 view .LVU142
 592 0012 612F      		mov r22,r17
 593               	.LVL47:
 594               		.loc 1 262 7 view .LVU143
 595 0014 CE01      		movw r24,r28
 596 0016 0596      		adiw r24,5
 597 0018 0E94 0000 		call iqPutI
 598               	.LVL48:
 599               		.loc 1 262 6 discriminator 1 view .LVU144
 600 001c 97FD      		sbrc r25,7
 601 001e 00C0      		rjmp .L22
 602               	.L18:
 603               	/* epilogue start */
 263:../../os/hal/src/hal_serial.c ****     chnAddFlagsI(sdp, SD_QUEUE_FULL_ERROR);
 264:../../os/hal/src/hal_serial.c **** }
 604               		.loc 1 264 1 view .LVU145
 605 0020 DF91      		pop r29
 606 0022 CF91      		pop r28
 607               	.LVL49:
 608               		.loc 1 264 1 view .LVU146
 609 0024 1F91      		pop r17
 610               	.LVL50:
 611               		.loc 1 264 1 view .LVU147
 612 0026 0895      		ret
 613               	.LVL51:
 614               	.L21:
 261:../../os/hal/src/hal_serial.c ****   if (iqPutI(&sdp->iqueue, b) < MSG_OK)
 615               		.loc 1 261 5 is_stmt 1 view .LVU148
 616               	.LBB66:
 617               	.LBI66:
 935:../../os/hal/osal/rt-nil/osal.h **** }
 936:../../os/hal/osal/rt-nil/osal.h **** #else
 937:../../os/hal/osal/rt-nil/osal.h **** static inline void osalEventObjectInit(event_source_t *esp) {
 938:../../os/hal/osal/rt-nil/osal.h **** 
 939:../../os/hal/osal/rt-nil/osal.h ****   osalDbgCheck(esp != NULL);
 940:../../os/hal/osal/rt-nil/osal.h **** 
 941:../../os/hal/osal/rt-nil/osal.h ****   esp->flags = (eventflags_t)0;
 942:../../os/hal/osal/rt-nil/osal.h ****   esp->cb    = NULL;
 943:../../os/hal/osal/rt-nil/osal.h ****   esp->param = NULL;
 944:../../os/hal/osal/rt-nil/osal.h **** }
 945:../../os/hal/osal/rt-nil/osal.h **** #endif
 946:../../os/hal/osal/rt-nil/osal.h **** 
 947:../../os/hal/osal/rt-nil/osal.h **** #if (CH_CFG_USE_EVENTS == TRUE) || defined(__DOXYGEN__)
 948:../../os/hal/osal/rt-nil/osal.h **** /**
 949:../../os/hal/osal/rt-nil/osal.h ****  * @brief   Add flags to an event source object.
 950:../../os/hal/osal/rt-nil/osal.h ****  *
 951:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] esp       pointer to the event flags object
 952:../../os/hal/osal/rt-nil/osal.h ****  * @param[in] flags     flags to be ORed to the flags mask
 953:../../os/hal/osal/rt-nil/osal.h ****  *
 954:../../os/hal/osal/rt-nil/osal.h ****  * @iclass
 955:../../os/hal/osal/rt-nil/osal.h ****  */
 956:../../os/hal/osal/rt-nil/osal.h **** static inline void osalEventBroadcastFlagsI(event_source_t *esp,
 618               		.loc 2 956 20 view .LVU149
 619               	.LBB67:
 957:../../os/hal/osal/rt-nil/osal.h ****                                             eventflags_t flags) {
 958:../../os/hal/osal/rt-nil/osal.h **** 
 959:../../os/hal/osal/rt-nil/osal.h ****   chEvtBroadcastFlagsI(esp, flags);
 620               		.loc 2 959 3 view .LVU150
 621 0028 64E0      		ldi r22,lo8(4)
 622 002a CE01      		movw r24,r28
 623 002c 0296      		adiw r24,2
 624               	.LVL52:
 625               		.loc 2 959 3 is_stmt 0 view .LVU151
 626 002e 0E94 0000 		call chEvtBroadcastFlagsI
 627               	.LVL53:
 628               		.loc 2 959 3 view .LVU152
 629               	.LBE67:
 630               	.LBE66:
 261:../../os/hal/src/hal_serial.c ****   if (iqPutI(&sdp->iqueue, b) < MSG_OK)
 631               		.loc 1 261 43 is_stmt 1 discriminator 1 view .LVU153
 262:../../os/hal/src/hal_serial.c ****     chnAddFlagsI(sdp, SD_QUEUE_FULL_ERROR);
 632               		.loc 1 262 3 view .LVU154
 262:../../os/hal/src/hal_serial.c ****     chnAddFlagsI(sdp, SD_QUEUE_FULL_ERROR);
 633               		.loc 1 262 7 is_stmt 0 view .LVU155
 634 0032 612F      		mov r22,r17
 635 0034 CE01      		movw r24,r28
 636 0036 0596      		adiw r24,5
 637 0038 0E94 0000 		call iqPutI
 638               	.LVL54:
 262:../../os/hal/src/hal_serial.c ****     chnAddFlagsI(sdp, SD_QUEUE_FULL_ERROR);
 639               		.loc 1 262 6 discriminator 1 view .LVU156
 640 003c 97FF      		sbrs r25,7
 641 003e 00C0      		rjmp .L18
 642               	.L22:
 263:../../os/hal/src/hal_serial.c **** }
 643               		.loc 1 263 5 is_stmt 1 view .LVU157
 644               	.LVL55:
 645               	.LBB68:
 646               	.LBI68:
 956:../../os/hal/osal/rt-nil/osal.h ****                                             eventflags_t flags) {
 647               		.loc 2 956 20 view .LVU158
 648               	.LBB69:
 649               		.loc 2 959 3 view .LVU159
 650 0040 60E0      		ldi r22,0
 651 0042 CE01      		movw r24,r28
 652 0044 0296      		adiw r24,2
 653               	.LVL56:
 654               	/* epilogue start */
 655               		.loc 2 959 3 is_stmt 0 view .LVU160
 656               	.LBE69:
 657               	.LBE68:
 658               		.loc 1 264 1 view .LVU161
 659 0046 DF91      		pop r29
 660 0048 CF91      		pop r28
 661               	.LVL57:
 662               		.loc 1 264 1 view .LVU162
 663 004a 1F91      		pop r17
 664               	.LVL58:
 665               	.LBB71:
 666               	.LBB70:
 667               		.loc 2 959 3 view .LVU163
 668 004c 0C94 0000 		jmp chEvtBroadcastFlagsI
 669               	.LVL59:
 670               		.loc 2 959 3 view .LVU164
 671               	.LBE70:
 672               	.LBE71:
 673               		.cfi_endproc
 674               	.LFE159:
 676               		.section	.text.sdRequestDataI,"ax",@progbits
 677               	.global	sdRequestDataI
 679               	sdRequestDataI:
 680               	.LVL60:
 681               	.LFB160:
 265:../../os/hal/src/hal_serial.c **** 
 266:../../os/hal/src/hal_serial.c **** /**
 267:../../os/hal/src/hal_serial.c ****  * @brief   Handles outgoing data.
 268:../../os/hal/src/hal_serial.c ****  * @details Must be called from the output interrupt service routine in order
 269:../../os/hal/src/hal_serial.c ****  *          to get the next byte to be transmitted.
 270:../../os/hal/src/hal_serial.c ****  * @note    In order to gain some performance it is suggested to not use
 271:../../os/hal/src/hal_serial.c ****  *          this function directly but copy this code directly into the
 272:../../os/hal/src/hal_serial.c ****  *          interrupt service routine.
 273:../../os/hal/src/hal_serial.c ****  *
 274:../../os/hal/src/hal_serial.c ****  * @param[in] sdp       pointer to a @p SerialDriver structure
 275:../../os/hal/src/hal_serial.c ****  * @return              The byte value read from the driver's output queue.
 276:../../os/hal/src/hal_serial.c ****  * @retval MSG_TIMEOUT  if the queue is empty (the lower driver usually
 277:../../os/hal/src/hal_serial.c ****  *                      disables the interrupt source when this happens).
 278:../../os/hal/src/hal_serial.c ****  *
 279:../../os/hal/src/hal_serial.c ****  * @iclass
 280:../../os/hal/src/hal_serial.c ****  */
 281:../../os/hal/src/hal_serial.c **** msg_t sdRequestDataI(SerialDriver *sdp) {
 682               		.loc 1 281 41 is_stmt 1 view -0
 683               		.cfi_startproc
 684               		.loc 1 281 41 is_stmt 0 view .LVU166
 685 0000 0F93      		push r16
 686               	.LCFI13:
 687               		.cfi_def_cfa_offset 3
 688               		.cfi_offset 16, -2
 689 0002 1F93      		push r17
 690               	.LCFI14:
 691               		.cfi_def_cfa_offset 4
 692               		.cfi_offset 17, -3
 693 0004 CF93      		push r28
 694               	.LCFI15:
 695               		.cfi_def_cfa_offset 5
 696               		.cfi_offset 28, -4
 697 0006 DF93      		push r29
 698               	.LCFI16:
 699               		.cfi_def_cfa_offset 6
 700               		.cfi_offset 29, -5
 701               	/* prologue: function */
 702               	/* frame size = 0 */
 703               	/* stack size = 4 */
 704               	.L__stack_usage = 4
 705 0008 8C01      		movw r16,r24
 282:../../os/hal/src/hal_serial.c ****   msg_t  b;
 706               		.loc 1 282 3 is_stmt 1 view .LVU167
 283:../../os/hal/src/hal_serial.c **** 
 284:../../os/hal/src/hal_serial.c ****   osalDbgCheckClassI();
 707               		.loc 1 284 23 view .LVU168
 285:../../os/hal/src/hal_serial.c ****   osalDbgCheck(sdp != NULL);
 708               		.loc 1 285 3 view .LVU169
 709               		.loc 1 285 3 view .LVU170
 710               		.loc 1 285 3 discriminator 5 view .LVU171
 286:../../os/hal/src/hal_serial.c **** 
 287:../../os/hal/src/hal_serial.c ****   b = oqGetI(&sdp->oqueue);
 711               		.loc 1 287 3 view .LVU172
 712               		.loc 1 287 7 is_stmt 0 view .LVU173
 713 000a 4496      		adiw r24,20
 714               	.LVL61:
 715               		.loc 1 287 7 view .LVU174
 716 000c 0E94 0000 		call oqGetI
 717               	.LVL62:
 718 0010 EC01      		movw r28,r24
 719               	.LVL63:
 288:../../os/hal/src/hal_serial.c ****   if (b < MSG_OK)
 720               		.loc 1 288 3 is_stmt 1 view .LVU175
 721               		.loc 1 288 6 is_stmt 0 view .LVU176
 722 0012 97FD      		sbrc r25,7
 723 0014 00C0      		rjmp .L25
 289:../../os/hal/src/hal_serial.c ****     chnAddFlagsI(sdp, CHN_OUTPUT_EMPTY);
 290:../../os/hal/src/hal_serial.c ****   return b;
 291:../../os/hal/src/hal_serial.c **** }
 724               		.loc 1 291 1 view .LVU177
 725 0016 CE01      		movw r24,r28
 726               	/* epilogue start */
 727               		.loc 1 291 1 view .LVU178
 728 0018 DF91      		pop r29
 729 001a CF91      		pop r28
 730 001c 1F91      		pop r17
 731 001e 0F91      		pop r16
 732               	.LVL64:
 733               		.loc 1 291 1 view .LVU179
 734 0020 0895      		ret
 735               	.LVL65:
 736               	.L25:
 289:../../os/hal/src/hal_serial.c ****     chnAddFlagsI(sdp, CHN_OUTPUT_EMPTY);
 737               		.loc 1 289 5 is_stmt 1 view .LVU180
 738               	.LBB72:
 739               	.LBI72:
 956:../../os/hal/osal/rt-nil/osal.h ****                                             eventflags_t flags) {
 740               		.loc 2 956 20 view .LVU181
 741               	.LBB73:
 742               		.loc 2 959 3 view .LVU182
 743 0022 68E0      		ldi r22,lo8(8)
 744 0024 C801      		movw r24,r16
 745               	.LVL66:
 746               		.loc 2 959 3 is_stmt 0 view .LVU183
 747 0026 0296      		adiw r24,2
 748               	.LVL67:
 749               		.loc 2 959 3 view .LVU184
 750 0028 0E94 0000 		call chEvtBroadcastFlagsI
 751               	.LVL68:
 752               		.loc 2 959 3 view .LVU185
 753               	.LBE73:
 754               	.LBE72:
 289:../../os/hal/src/hal_serial.c ****     chnAddFlagsI(sdp, CHN_OUTPUT_EMPTY);
 755               		.loc 1 289 40 is_stmt 1 discriminator 1 view .LVU186
 290:../../os/hal/src/hal_serial.c **** }
 756               		.loc 1 290 3 view .LVU187
 757               		.loc 1 291 1 is_stmt 0 view .LVU188
 758 002c CE01      		movw r24,r28
 759               	/* epilogue start */
 760 002e DF91      		pop r29
 761 0030 CF91      		pop r28
 762               	.LVL69:
 763               		.loc 1 291 1 view .LVU189
 764 0032 1F91      		pop r17
 765 0034 0F91      		pop r16
 766               	.LVL70:
 767               		.loc 1 291 1 view .LVU190
 768 0036 0895      		ret
 769               		.cfi_endproc
 770               	.LFE160:
 772               		.section	.text.sdPutWouldBlock,"ax",@progbits
 773               	.global	sdPutWouldBlock
 775               	sdPutWouldBlock:
 776               	.LVL71:
 777               	.LFB161:
 292:../../os/hal/src/hal_serial.c **** 
 293:../../os/hal/src/hal_serial.c **** /**
 294:../../os/hal/src/hal_serial.c ****  * @brief   Direct output check on a @p SerialDriver.
 295:../../os/hal/src/hal_serial.c ****  * @note    This function bypasses the indirect access to the channel and
 296:../../os/hal/src/hal_serial.c ****  *          checks directly the output queue. This is faster but cannot
 297:../../os/hal/src/hal_serial.c ****  *          be used to check different channels implementations.
 298:../../os/hal/src/hal_serial.c ****  *
 299:../../os/hal/src/hal_serial.c ****  * @param[in] sdp       pointer to a @p SerialDriver structure
 300:../../os/hal/src/hal_serial.c ****  * @return              The queue status.
 301:../../os/hal/src/hal_serial.c ****  * @retval false        if the next write operation would not block.
 302:../../os/hal/src/hal_serial.c ****  * @retval true         if the next write operation would block.
 303:../../os/hal/src/hal_serial.c ****  *
 304:../../os/hal/src/hal_serial.c ****  * @deprecated
 305:../../os/hal/src/hal_serial.c ****  *
 306:../../os/hal/src/hal_serial.c ****  * @api
 307:../../os/hal/src/hal_serial.c ****  */
 308:../../os/hal/src/hal_serial.c **** bool sdPutWouldBlock(SerialDriver *sdp) {
 778               		.loc 1 308 41 is_stmt 1 view -0
 779               		.cfi_startproc
 780               	/* prologue: function */
 781               	/* frame size = 0 */
 782               	/* stack size = 0 */
 783               	.L__stack_usage = 0
 784               		.loc 1 308 41 is_stmt 0 view .LVU192
 785 0000 FC01      		movw r30,r24
 309:../../os/hal/src/hal_serial.c ****   bool b;
 786               		.loc 1 309 3 is_stmt 1 view .LVU193
 310:../../os/hal/src/hal_serial.c **** 
 311:../../os/hal/src/hal_serial.c ****   osalSysLock();
 787               		.loc 1 311 3 view .LVU194
 788               	.LBB74:
 789               	.LBI74:
 573:../../os/hal/osal/rt-nil/osal.h **** 
 790               		.loc 2 573 20 view .LVU195
 575:../../os/hal/osal/rt-nil/osal.h **** }
 791               		.loc 2 575 3 view .LVU196
 792               	.LBB75:
 793               	.LBI75:
 428:../../os/common/ports/AVR/chcore.h **** 
 794               		.loc 3 428 20 view .LVU197
 795               	.LBB76:
 430:../../os/common/ports/AVR/chcore.h **** }
 796               		.loc 3 430 3 view .LVU198
 797               	/* #APP */
 798               	 ;  430 "../../os/common/ports/AVR/chcore.h" 1
 799 0002 F894      		cli
 800               	 ;  0 "" 2
 801               	/* #NOAPP */
 802               	.LBE76:
 803               	.LBE75:
 575:../../os/hal/osal/rt-nil/osal.h **** }
 804               		.loc 2 575 3 discriminator 1 view .LVU199
 575:../../os/hal/osal/rt-nil/osal.h **** }
 805               		.loc 2 575 14 discriminator 1 view .LVU200
 806               	.LBE74:
 312:../../os/hal/src/hal_serial.c ****   b = oqIsFullI(&sdp->oqueue);
 807               		.loc 1 312 3 view .LVU201
 808               		.loc 1 312 7 is_stmt 0 view .LVU202
 809 0004 2589      		ldd r18,Z+21
 810 0006 3689      		ldd r19,Z+22
 811               	.LVL72:
 313:../../os/hal/src/hal_serial.c ****   osalSysUnlock();
 812               		.loc 1 313 3 is_stmt 1 view .LVU203
 813               	.LBB77:
 814               	.LBI77:
 584:../../os/hal/osal/rt-nil/osal.h **** 
 815               		.loc 2 584 20 view .LVU204
 586:../../os/hal/osal/rt-nil/osal.h **** }
 816               		.loc 2 586 3 view .LVU205
 586:../../os/hal/osal/rt-nil/osal.h **** }
 817               		.loc 2 586 3 view .LVU206
 818               	.LBB78:
 819               	.LBI78:
 438:../../os/common/ports/AVR/chcore.h **** 
 820               		.loc 3 438 20 view .LVU207
 821               	.LBB79:
 822               		.loc 3 440 3 view .LVU208
 823               	/* #APP */
 824               	 ;  440 "../../os/common/ports/AVR/chcore.h" 1
 825 0008 7894      		sei
 826               	 ;  0 "" 2
 827               	/* #NOAPP */
 828               	.LBE79:
 829               	.LBE78:
 586:../../os/hal/osal/rt-nil/osal.h **** }
 830               		.loc 2 586 16 discriminator 1 view .LVU209
 831               	.LBE77:
 314:../../os/hal/src/hal_serial.c **** 
 315:../../os/hal/src/hal_serial.c ****   return b;
 832               		.loc 1 315 3 view .LVU210
 312:../../os/hal/src/hal_serial.c ****   osalSysUnlock();
 833               		.loc 1 312 5 is_stmt 0 view .LVU211
 834 000a 81E0      		ldi r24,lo8(1)
 835               	.LVL73:
 312:../../os/hal/src/hal_serial.c ****   osalSysUnlock();
 836               		.loc 1 312 5 view .LVU212
 837 000c 232B      		or r18,r19
 838 000e 01F0      		breq .L27
 839 0010 80E0      		ldi r24,0
 840               	.L27:
 841               	/* epilogue start */
 316:../../os/hal/src/hal_serial.c **** }
 842               		.loc 1 316 1 view .LVU213
 843 0012 0895      		ret
 844               		.cfi_endproc
 845               	.LFE161:
 847               		.section	.text.sdGetWouldBlock,"ax",@progbits
 848               	.global	sdGetWouldBlock
 850               	sdGetWouldBlock:
 851               	.LVL74:
 852               	.LFB162:
 317:../../os/hal/src/hal_serial.c **** 
 318:../../os/hal/src/hal_serial.c **** /**
 319:../../os/hal/src/hal_serial.c ****  * @brief   Direct input check on a @p SerialDriver.
 320:../../os/hal/src/hal_serial.c ****  * @note    This function bypasses the indirect access to the channel and
 321:../../os/hal/src/hal_serial.c ****  *          checks directly the input queue. This is faster but cannot
 322:../../os/hal/src/hal_serial.c ****  *          be used to check different channels implementations.
 323:../../os/hal/src/hal_serial.c ****  *
 324:../../os/hal/src/hal_serial.c ****  * @param[in] sdp       pointer to a @p SerialDriver structure
 325:../../os/hal/src/hal_serial.c ****  * @return              The queue status.
 326:../../os/hal/src/hal_serial.c ****  * @retval false        if the next write operation would not block.
 327:../../os/hal/src/hal_serial.c ****  * @retval true         if the next write operation would block.
 328:../../os/hal/src/hal_serial.c ****  *
 329:../../os/hal/src/hal_serial.c ****  * @deprecated
 330:../../os/hal/src/hal_serial.c ****  *
 331:../../os/hal/src/hal_serial.c ****  * @api
 332:../../os/hal/src/hal_serial.c ****  */
 333:../../os/hal/src/hal_serial.c **** bool sdGetWouldBlock(SerialDriver *sdp) {
 853               		.loc 1 333 41 is_stmt 1 view -0
 854               		.cfi_startproc
 855               	/* prologue: function */
 856               	/* frame size = 0 */
 857               	/* stack size = 0 */
 858               	.L__stack_usage = 0
 859               		.loc 1 333 41 is_stmt 0 view .LVU215
 860 0000 FC01      		movw r30,r24
 334:../../os/hal/src/hal_serial.c ****   bool b;
 861               		.loc 1 334 3 is_stmt 1 view .LVU216
 335:../../os/hal/src/hal_serial.c **** 
 336:../../os/hal/src/hal_serial.c ****   osalSysLock();
 862               		.loc 1 336 3 view .LVU217
 863               	.LBB80:
 864               	.LBI80:
 573:../../os/hal/osal/rt-nil/osal.h **** 
 865               		.loc 2 573 20 view .LVU218
 575:../../os/hal/osal/rt-nil/osal.h **** }
 866               		.loc 2 575 3 view .LVU219
 867               	.LBB81:
 868               	.LBI81:
 428:../../os/common/ports/AVR/chcore.h **** 
 869               		.loc 3 428 20 view .LVU220
 870               	.LBB82:
 430:../../os/common/ports/AVR/chcore.h **** }
 871               		.loc 3 430 3 view .LVU221
 872               	/* #APP */
 873               	 ;  430 "../../os/common/ports/AVR/chcore.h" 1
 874 0002 F894      		cli
 875               	 ;  0 "" 2
 876               	/* #NOAPP */
 877               	.LBE82:
 878               	.LBE81:
 575:../../os/hal/osal/rt-nil/osal.h **** }
 879               		.loc 2 575 3 discriminator 1 view .LVU222
 575:../../os/hal/osal/rt-nil/osal.h **** }
 880               		.loc 2 575 14 discriminator 1 view .LVU223
 881               	.LBE80:
 337:../../os/hal/src/hal_serial.c ****   b = iqIsEmptyI(&sdp->iqueue);
 882               		.loc 1 337 3 view .LVU224
 883               		.loc 1 337 7 is_stmt 0 view .LVU225
 884 0004 2681      		ldd r18,Z+6
 885 0006 3781      		ldd r19,Z+7
 886               	.LVL75:
 338:../../os/hal/src/hal_serial.c ****   osalSysUnlock();
 887               		.loc 1 338 3 is_stmt 1 view .LVU226
 888               	.LBB83:
 889               	.LBI83:
 584:../../os/hal/osal/rt-nil/osal.h **** 
 890               		.loc 2 584 20 view .LVU227
 586:../../os/hal/osal/rt-nil/osal.h **** }
 891               		.loc 2 586 3 view .LVU228
 586:../../os/hal/osal/rt-nil/osal.h **** }
 892               		.loc 2 586 3 view .LVU229
 893               	.LBB84:
 894               	.LBI84:
 438:../../os/common/ports/AVR/chcore.h **** 
 895               		.loc 3 438 20 view .LVU230
 896               	.LBB85:
 897               		.loc 3 440 3 view .LVU231
 898               	/* #APP */
 899               	 ;  440 "../../os/common/ports/AVR/chcore.h" 1
 900 0008 7894      		sei
 901               	 ;  0 "" 2
 902               	/* #NOAPP */
 903               	.LBE85:
 904               	.LBE84:
 586:../../os/hal/osal/rt-nil/osal.h **** }
 905               		.loc 2 586 16 discriminator 1 view .LVU232
 906               	.LBE83:
 339:../../os/hal/src/hal_serial.c **** 
 340:../../os/hal/src/hal_serial.c ****   return b;
 907               		.loc 1 340 3 view .LVU233
 337:../../os/hal/src/hal_serial.c ****   osalSysUnlock();
 908               		.loc 1 337 5 is_stmt 0 view .LVU234
 909 000a 81E0      		ldi r24,lo8(1)
 910               	.LVL76:
 337:../../os/hal/src/hal_serial.c ****   osalSysUnlock();
 911               		.loc 1 337 5 view .LVU235
 912 000c 232B      		or r18,r19
 913 000e 01F0      		breq .L32
 914 0010 80E0      		ldi r24,0
 915               	.L32:
 916               	/* epilogue start */
 341:../../os/hal/src/hal_serial.c **** }
 917               		.loc 1 341 1 view .LVU236
 918 0012 0895      		ret
 919               		.cfi_endproc
 920               	.LFE162:
 922               		.section	.text.sdControl,"ax",@progbits
 923               	.global	sdControl
 925               	sdControl:
 926               	.LVL77:
 927               	.LFB163:
 342:../../os/hal/src/hal_serial.c **** 
 343:../../os/hal/src/hal_serial.c **** /**
 344:../../os/hal/src/hal_serial.c ****  * @brief   Control operation on a serial port.
 345:../../os/hal/src/hal_serial.c ****  *
 346:../../os/hal/src/hal_serial.c ****  * @param[in] sdp       pointer to a @p SerialDriver object
 347:../../os/hal/src/hal_serial.c ****  * @param[in] operation control operation code
 348:../../os/hal/src/hal_serial.c ****  * @param[in,out] arg   operation argument
 349:../../os/hal/src/hal_serial.c ****  *
 350:../../os/hal/src/hal_serial.c ****  * @return              The control operation status.
 351:../../os/hal/src/hal_serial.c ****  * @retval MSG_OK       in case of success.
 352:../../os/hal/src/hal_serial.c ****  * @retval MSG_TIMEOUT  in case of operation timeout.
 353:../../os/hal/src/hal_serial.c ****  * @retval MSG_RESET    in case of operation reset.
 354:../../os/hal/src/hal_serial.c ****  *
 355:../../os/hal/src/hal_serial.c ****  * @api
 356:../../os/hal/src/hal_serial.c ****  */
 357:../../os/hal/src/hal_serial.c **** msg_t sdControl(SerialDriver *sdp, unsigned int operation, void *arg) {
 928               		.loc 1 357 71 is_stmt 1 view -0
 929               		.cfi_startproc
 930               	/* prologue: function */
 931               	/* frame size = 0 */
 932               	/* stack size = 0 */
 933               	.L__stack_usage = 0
 358:../../os/hal/src/hal_serial.c **** 
 359:../../os/hal/src/hal_serial.c ****   return _ctl((void *)sdp, operation, arg);
 934               		.loc 1 359 3 view .LVU238
 935               	.LBB86:
 936               	.LBI86:
  94:../../os/hal/src/hal_serial.c ****   SerialDriver *sdp = (SerialDriver *)ip;
 937               		.loc 1 94 14 view .LVU239
 938               	.LBB87:
  95:../../os/hal/src/hal_serial.c **** 
 939               		.loc 1 95 3 view .LVU240
  97:../../os/hal/src/hal_serial.c **** 
 940               		.loc 1 97 3 view .LVU241
  97:../../os/hal/src/hal_serial.c **** 
 941               		.loc 1 97 3 view .LVU242
  97:../../os/hal/src/hal_serial.c **** 
 942               		.loc 1 97 3 discriminator 5 view .LVU243
  99:../../os/hal/src/hal_serial.c ****   case CHN_CTL_NOP:
 943               		.loc 1 99 3 view .LVU244
 944 0000 6130      		cpi r22,1
 945 0002 7105      		cpc r23,__zero_reg__
 946 0004 01F4      		brne .L39
 113:../../os/hal/src/hal_serial.c **** }
 947               		.loc 1 113 10 is_stmt 0 view .LVU245
 948 0006 80E0      		ldi r24,0
 949 0008 90E0      		ldi r25,0
 950               	.LVL78:
 951               	/* epilogue start */
 113:../../os/hal/src/hal_serial.c **** }
 952               		.loc 1 113 10 view .LVU246
 953               	.LBE87:
 954               	.LBE86:
 360:../../os/hal/src/hal_serial.c **** }
 955               		.loc 1 360 1 view .LVU247
 956 000a 0895      		ret
 957               	.LVL79:
 958               	.L39:
 959               	.LBB89:
 960               	.LBB88:
 104:../../os/hal/src/hal_serial.c ****   default:
 961               		.loc 1 104 12 view .LVU248
 962 000c 8CEE      		ldi r24,lo8(-20)
 963 000e 9FEF      		ldi r25,lo8(-1)
 964               	.LVL80:
 104:../../os/hal/src/hal_serial.c ****   default:
 965               		.loc 1 104 12 view .LVU249
 966 0010 0895      		ret
 967               	.LBE88:
 968               	.LBE89:
 969               		.cfi_endproc
 970               	.LFE163:
 972               		.section	.rodata.vmt,"a"
 975               	vmt:
 976 0000 0000      		.word	0
 977 0002 0000      		.word	gs(_write)
 978 0004 0000      		.word	gs(_read)
 979 0006 0000      		.word	gs(_put)
 980 0008 0000      		.word	gs(_get)
 981 000a 0000      		.word	gs(_putt)
 982 000c 0000      		.word	gs(_gett)
 983 000e 0000      		.word	gs(_writet)
 984 0010 0000      		.word	gs(_readt)
 985 0012 0000      		.word	gs(_ctl)
 986               		.text
 987               	.Letext0:
 988               		.file 4 "/usr/lib/gcc/avr/14.1.0/include/stddef.h"
 989               		.file 5 "/usr/avr/include/stdint.h"
 990               		.file 6 "../../os/common/ports/AVR/compilers/GCC/chtypes.h"
 991               		.file 7 "../../os/nil/include/ch.h"
 992               		.file 8 "../../os/nil/include/chevt.h"
 993               		.file 9 "../../os/hal/include/hal_queues.h"
 994               		.file 10 "../../os/hal/include/hal_serial.h"
 995               		.file 11 "../../os/hal/ports/AVR/MEGA/LLD/USARTv1/hal_serial_lld.h"
DEFINED SYMBOLS
                            *ABS*:00000000 hal_serial.c
     /tmp/ccByxKXq.s:2      *ABS*:0000003e __SP_H__
     /tmp/ccByxKXq.s:3      *ABS*:0000003d __SP_L__
     /tmp/ccByxKXq.s:4      *ABS*:0000003f __SREG__
     /tmp/ccByxKXq.s:5      *ABS*:00000000 __tmp_reg__
     /tmp/ccByxKXq.s:6      *ABS*:00000001 __zero_reg__
     /tmp/ccByxKXq.s:13     .text._readt:00000000 _readt
     /tmp/ccByxKXq.s:16     .text._readt:00000000 .Loc.0
     /tmp/ccByxKXq.s:17     .text._readt:00000000 L0
     /tmp/ccByxKXq.s:22     .text._readt:00000000 .Loc.1
     /tmp/ccByxKXq.s:23     .text._readt:00000000 .Loc.2
     /tmp/ccByxKXq.s:26     .text._readt:00000002 .Loc.3
     /tmp/ccByxKXq.s:29     .text._readt:00000006 .Loc.4
     /tmp/ccByxKXq.s:30     .text._readt:00000006 L0
     /tmp/ccByxKXq.s:35     .text._read:00000000 _read
     /tmp/ccByxKXq.s:38     .text._read:00000000 .Loc.5
     /tmp/ccByxKXq.s:39     .text._read:00000000 L0
     /tmp/ccByxKXq.s:44     .text._read:00000000 .Loc.6
     /tmp/ccByxKXq.s:45     .text._read:00000000 .Loc.7
     /tmp/ccByxKXq.s:50     .text._read:00000006 .Loc.8
     /tmp/ccByxKXq.s:53     .text._read:0000000a .Loc.9
     /tmp/ccByxKXq.s:54     .text._read:0000000a L0
     /tmp/ccByxKXq.s:59     .text._writet:00000000 _writet
     /tmp/ccByxKXq.s:62     .text._writet:00000000 .Loc.10
     /tmp/ccByxKXq.s:63     .text._writet:00000000 L0
     /tmp/ccByxKXq.s:68     .text._writet:00000000 .Loc.11
     /tmp/ccByxKXq.s:69     .text._writet:00000000 .Loc.12
     /tmp/ccByxKXq.s:72     .text._writet:00000002 .Loc.13
     /tmp/ccByxKXq.s:75     .text._writet:00000006 .Loc.14
     /tmp/ccByxKXq.s:76     .text._writet:00000006 L0
     /tmp/ccByxKXq.s:81     .text._write:00000000 _write
     /tmp/ccByxKXq.s:84     .text._write:00000000 .Loc.15
     /tmp/ccByxKXq.s:85     .text._write:00000000 L0
     /tmp/ccByxKXq.s:90     .text._write:00000000 .Loc.16
     /tmp/ccByxKXq.s:91     .text._write:00000000 .Loc.17
     /tmp/ccByxKXq.s:96     .text._write:00000006 .Loc.18
     /tmp/ccByxKXq.s:99     .text._write:0000000a .Loc.19
     /tmp/ccByxKXq.s:100    .text._write:0000000a L0
     /tmp/ccByxKXq.s:105    .text._gett:00000000 _gett
     /tmp/ccByxKXq.s:108    .text._gett:00000000 .Loc.20
     /tmp/ccByxKXq.s:109    .text._gett:00000000 L0
     /tmp/ccByxKXq.s:114    .text._gett:00000000 .Loc.21
     /tmp/ccByxKXq.s:115    .text._gett:00000000 .Loc.22
     /tmp/ccByxKXq.s:118    .text._gett:00000002 .Loc.23
     /tmp/ccByxKXq.s:121    .text._gett:00000006 .Loc.24
     /tmp/ccByxKXq.s:122    .text._gett:00000006 L0
     /tmp/ccByxKXq.s:127    .text._get:00000000 _get
     /tmp/ccByxKXq.s:130    .text._get:00000000 .Loc.25
     /tmp/ccByxKXq.s:131    .text._get:00000000 L0
     /tmp/ccByxKXq.s:136    .text._get:00000000 .Loc.26
     /tmp/ccByxKXq.s:137    .text._get:00000000 .Loc.27
     /tmp/ccByxKXq.s:142    .text._get:00000006 .Loc.28
     /tmp/ccByxKXq.s:145    .text._get:0000000a .Loc.29
     /tmp/ccByxKXq.s:146    .text._get:0000000a L0
     /tmp/ccByxKXq.s:151    .text._putt:00000000 _putt
     /tmp/ccByxKXq.s:154    .text._putt:00000000 .Loc.30
     /tmp/ccByxKXq.s:155    .text._putt:00000000 L0
     /tmp/ccByxKXq.s:160    .text._putt:00000000 .Loc.31
     /tmp/ccByxKXq.s:161    .text._putt:00000000 .Loc.32
     /tmp/ccByxKXq.s:164    .text._putt:00000002 .Loc.33
     /tmp/ccByxKXq.s:167    .text._putt:00000006 .Loc.34
     /tmp/ccByxKXq.s:168    .text._putt:00000006 L0
     /tmp/ccByxKXq.s:173    .text._put:00000000 _put
     /tmp/ccByxKXq.s:176    .text._put:00000000 .Loc.35
     /tmp/ccByxKXq.s:177    .text._put:00000000 L0
     /tmp/ccByxKXq.s:182    .text._put:00000000 .Loc.36
     /tmp/ccByxKXq.s:183    .text._put:00000000 .Loc.37
     /tmp/ccByxKXq.s:188    .text._put:00000006 .Loc.38
     /tmp/ccByxKXq.s:191    .text._put:0000000a .Loc.39
     /tmp/ccByxKXq.s:192    .text._put:0000000a L0
     /tmp/ccByxKXq.s:197    .text._ctl:00000000 _ctl
     /tmp/ccByxKXq.s:199    .text._ctl:00000000 L0
     /tmp/ccByxKXq.s:200    .text._ctl:00000000 .Loc.40
     /tmp/ccByxKXq.s:216    .text._ctl:00000012 L0
     /tmp/ccByxKXq.s:222    .text.sdInit:00000000 sdInit
     /tmp/ccByxKXq.s:224    .text.sdInit:00000000 .Loc.41
     /tmp/ccByxKXq.s:225    .text.sdInit:00000000 L0
     /tmp/ccByxKXq.s:230    .text.sdInit:00000000 .Loc.42
     /tmp/ccByxKXq.s:233    .text.sdInit:00000004 L0
     /tmp/ccByxKXq.s:239    .text.sdObjectInit:00000000 sdObjectInit
     /tmp/ccByxKXq.s:242    .text.sdObjectInit:00000000 .Loc.43
     /tmp/ccByxKXq.s:243    .text.sdObjectInit:00000000 L0
     /tmp/ccByxKXq.s:244    .text.sdObjectInit:00000000 .Loc.44
     /tmp/ccByxKXq.s:276    .text.sdObjectInit:00000012 .Loc.45
     /tmp/ccByxKXq.s:277    .text.sdObjectInit:00000012 .Loc.46
     /tmp/ccByxKXq.s:975    .rodata.vmt:00000000 vmt
     /tmp/ccByxKXq.s:282    .text.sdObjectInit:00000018 .Loc.47
     /tmp/ccByxKXq.s:285    .text.sdObjectInit:0000001c .Loc.48
     /tmp/ccByxKXq.s:290    .text.sdObjectInit:0000001c .Loc.49
     /tmp/ccByxKXq.s:292    .text.sdObjectInit:0000001c .Loc.50
     /tmp/ccByxKXq.s:293    .text.sdObjectInit:0000001c .Loc.51
     /tmp/ccByxKXq.s:296    .text.sdObjectInit:00000020 .Loc.52
     /tmp/ccByxKXq.s:298    .text.sdObjectInit:00000020 .Loc.53
     /tmp/ccByxKXq.s:301    .text.sdObjectInit:00000020 .Loc.54
     /tmp/ccByxKXq.s:302    .text.sdObjectInit:00000020 .Loc.55
     /tmp/ccByxKXq.s:305    .text.sdObjectInit:00000024 .Loc.56
     /tmp/ccByxKXq.s:306    .text.sdObjectInit:00000024 .Loc.57
     /tmp/ccByxKXq.s:309    .text.sdObjectInit:00000026 .Loc.58
     /tmp/ccByxKXq.s:312    .text.sdObjectInit:0000002a .Loc.59
     /tmp/ccByxKXq.s:317    .text.sdObjectInit:00000030 .Loc.60
     /tmp/ccByxKXq.s:322    .text.sdObjectInit:00000038 .Loc.61
     /tmp/ccByxKXq.s:323    .text.sdObjectInit:00000038 .Loc.62
     /tmp/ccByxKXq.s:327    .text.sdObjectInit:0000003e .Loc.63
     /tmp/ccByxKXq.s:336    .text.sdObjectInit:0000004c .Loc.64
     /tmp/ccByxKXq.s:340    .text.sdObjectInit:00000050 .Loc.65
     /tmp/ccByxKXq.s:344    .text.sdObjectInit:00000054 .Loc.66
     /tmp/ccByxKXq.s:348    .text.sdObjectInit:00000058 .Loc.67
     /tmp/ccByxKXq.s:350    .text.sdObjectInit:0000005a L0
     /tmp/ccByxKXq.s:356    .text.sdStart:00000000 sdStart
     /tmp/ccByxKXq.s:359    .text.sdStart:00000000 .Loc.68
     /tmp/ccByxKXq.s:360    .text.sdStart:00000000 L0
     /tmp/ccByxKXq.s:361    .text.sdStart:00000000 .Loc.69
     /tmp/ccByxKXq.s:375    .text.sdStart:00000006 .Loc.70
     /tmp/ccByxKXq.s:376    .text.sdStart:00000006 .Loc.71
     /tmp/ccByxKXq.s:377    .text.sdStart:00000006 .Loc.72
     /tmp/ccByxKXq.s:378    .text.sdStart:00000006 .Loc.73
     /tmp/ccByxKXq.s:379    .text.sdStart:00000006 .Loc.74
     /tmp/ccByxKXq.s:382    .text.sdStart:00000006 .Loc.75
     /tmp/ccByxKXq.s:383    .text.sdStart:00000006 .Loc.76
     /tmp/ccByxKXq.s:387    .text.sdStart:00000006 .Loc.77
     /tmp/ccByxKXq.s:389    .text.sdStart:00000006 .Loc.78
     /tmp/ccByxKXq.s:397    .text.sdStart:00000008 .Loc.79
     /tmp/ccByxKXq.s:398    .text.sdStart:00000008 .Loc.80
     /tmp/ccByxKXq.s:400    .text.sdStart:00000008 .Loc.81
     /tmp/ccByxKXq.s:401    .text.sdStart:00000008 .Loc.82
     /tmp/ccByxKXq.s:402    .text.sdStart:00000008 .Loc.83
     /tmp/ccByxKXq.s:403    .text.sdStart:00000008 .Loc.84
     /tmp/ccByxKXq.s:406    .text.sdStart:0000000c .Loc.85
     /tmp/ccByxKXq.s:407    .text.sdStart:0000000c .Loc.86
     /tmp/ccByxKXq.s:408    .text.sdStart:0000000c .Loc.87
     /tmp/ccByxKXq.s:409    .text.sdStart:0000000c .Loc.88
     /tmp/ccByxKXq.s:412    .text.sdStart:00000010 .Loc.89
     /tmp/ccByxKXq.s:415    .text.sdStart:00000010 .Loc.90
     /tmp/ccByxKXq.s:416    .text.sdStart:00000010 .Loc.91
     /tmp/ccByxKXq.s:417    .text.sdStart:00000010 .Loc.92
     /tmp/ccByxKXq.s:420    .text.sdStart:00000010 .Loc.93
     /tmp/ccByxKXq.s:422    .text.sdStart:00000010 .Loc.94
     /tmp/ccByxKXq.s:430    .text.sdStart:00000012 .Loc.95
     /tmp/ccByxKXq.s:432    .text.sdStart:00000012 .Loc.96
     /tmp/ccByxKXq.s:433    .text.sdStart:00000012 .Loc.97
     /tmp/ccByxKXq.s:440    .text.sdStart:0000001a .Loc.98
     /tmp/ccByxKXq.s:442    .text.sdStart:0000001c L0
     /tmp/ccByxKXq.s:448    .text.sdStop:00000000 sdStop
     /tmp/ccByxKXq.s:451    .text.sdStop:00000000 .Loc.99
     /tmp/ccByxKXq.s:452    .text.sdStop:00000000 L0
     /tmp/ccByxKXq.s:453    .text.sdStop:00000000 .Loc.100
     /tmp/ccByxKXq.s:467    .text.sdStop:00000006 .Loc.101
     /tmp/ccByxKXq.s:468    .text.sdStop:00000006 .Loc.102
     /tmp/ccByxKXq.s:469    .text.sdStop:00000006 .Loc.103
     /tmp/ccByxKXq.s:470    .text.sdStop:00000006 .Loc.104
     /tmp/ccByxKXq.s:473    .text.sdStop:00000006 .Loc.105
     /tmp/ccByxKXq.s:474    .text.sdStop:00000006 .Loc.106
     /tmp/ccByxKXq.s:477    .text.sdStop:00000006 .Loc.107
     /tmp/ccByxKXq.s:479    .text.sdStop:00000006 .Loc.108
     /tmp/ccByxKXq.s:487    .text.sdStop:00000008 .Loc.109
     /tmp/ccByxKXq.s:488    .text.sdStop:00000008 .Loc.110
     /tmp/ccByxKXq.s:490    .text.sdStop:00000008 .Loc.111
     /tmp/ccByxKXq.s:491    .text.sdStop:00000008 .Loc.112
     /tmp/ccByxKXq.s:492    .text.sdStop:00000008 .Loc.113
     /tmp/ccByxKXq.s:493    .text.sdStop:00000008 .Loc.114
     /tmp/ccByxKXq.s:496    .text.sdStop:0000000c .Loc.115
     /tmp/ccByxKXq.s:497    .text.sdStop:0000000c .Loc.116
     /tmp/ccByxKXq.s:500    .text.sdStop:00000010 .Loc.117
     /tmp/ccByxKXq.s:505    .text.sdStop:00000018 .Loc.118
     /tmp/ccByxKXq.s:510    .text.sdStop:00000020 .Loc.119
     /tmp/ccByxKXq.s:513    .text.sdStop:00000020 .Loc.120
     /tmp/ccByxKXq.s:515    .text.sdStop:00000020 .Loc.121
     /tmp/ccByxKXq.s:520    .text.sdStop:00000024 .Loc.122
     /tmp/ccByxKXq.s:523    .text.sdStop:00000024 .Loc.123
     /tmp/ccByxKXq.s:524    .text.sdStop:00000024 .Loc.124
     /tmp/ccByxKXq.s:525    .text.sdStop:00000024 .Loc.125
     /tmp/ccByxKXq.s:528    .text.sdStop:00000024 .Loc.126
     /tmp/ccByxKXq.s:530    .text.sdStop:00000024 .Loc.127
     /tmp/ccByxKXq.s:538    .text.sdStop:00000026 .Loc.128
     /tmp/ccByxKXq.s:541    .text.sdStop:00000026 .Loc.129
     /tmp/ccByxKXq.s:545    .text.sdStop:0000002a .Loc.130
     /tmp/ccByxKXq.s:547    .text.sdStop:0000002c L0
     /tmp/ccByxKXq.s:553    .text.sdIncomingDataI:00000000 sdIncomingDataI
     /tmp/ccByxKXq.s:556    .text.sdIncomingDataI:00000000 .Loc.131
     /tmp/ccByxKXq.s:557    .text.sdIncomingDataI:00000000 L0
     /tmp/ccByxKXq.s:558    .text.sdIncomingDataI:00000000 .Loc.132
     /tmp/ccByxKXq.s:577    .text.sdIncomingDataI:0000000a .Loc.133
     /tmp/ccByxKXq.s:578    .text.sdIncomingDataI:0000000a .Loc.134
     /tmp/ccByxKXq.s:579    .text.sdIncomingDataI:0000000a .Loc.135
     /tmp/ccByxKXq.s:580    .text.sdIncomingDataI:0000000a .Loc.136
     /tmp/ccByxKXq.s:581    .text.sdIncomingDataI:0000000a .Loc.137
     /tmp/ccByxKXq.s:582    .text.sdIncomingDataI:0000000a .Loc.138
     /tmp/ccByxKXq.s:586    .text.sdIncomingDataI:0000000e .Loc.139
     /tmp/ccByxKXq.s:589    .text.sdIncomingDataI:00000012 .Loc.140
     /tmp/ccByxKXq.s:590    .text.sdIncomingDataI:00000012 .Loc.141
     /tmp/ccByxKXq.s:591    .text.sdIncomingDataI:00000012 .Loc.142
     /tmp/ccByxKXq.s:594    .text.sdIncomingDataI:00000014 .Loc.143
     /tmp/ccByxKXq.s:599    .text.sdIncomingDataI:0000001c .Loc.144
     /tmp/ccByxKXq.s:604    .text.sdIncomingDataI:00000020 .Loc.145
     /tmp/ccByxKXq.s:608    .text.sdIncomingDataI:00000024 .Loc.146
     /tmp/ccByxKXq.s:611    .text.sdIncomingDataI:00000026 .Loc.147
     /tmp/ccByxKXq.s:615    .text.sdIncomingDataI:00000028 .Loc.148
     /tmp/ccByxKXq.s:618    .text.sdIncomingDataI:00000028 .Loc.149
     /tmp/ccByxKXq.s:620    .text.sdIncomingDataI:00000028 .Loc.150
     /tmp/ccByxKXq.s:625    .text.sdIncomingDataI:0000002e .Loc.151
     /tmp/ccByxKXq.s:628    .text.sdIncomingDataI:00000032 .Loc.152
     /tmp/ccByxKXq.s:631    .text.sdIncomingDataI:00000032 .Loc.153
     /tmp/ccByxKXq.s:632    .text.sdIncomingDataI:00000032 .Loc.154
     /tmp/ccByxKXq.s:633    .text.sdIncomingDataI:00000032 .Loc.155
     /tmp/ccByxKXq.s:639    .text.sdIncomingDataI:0000003c .Loc.156
     /tmp/ccByxKXq.s:643    .text.sdIncomingDataI:00000040 .Loc.157
     /tmp/ccByxKXq.s:647    .text.sdIncomingDataI:00000040 .Loc.158
     /tmp/ccByxKXq.s:649    .text.sdIncomingDataI:00000040 .Loc.159
     /tmp/ccByxKXq.s:655    .text.sdIncomingDataI:00000046 .Loc.160
     /tmp/ccByxKXq.s:658    .text.sdIncomingDataI:00000046 .Loc.161
     /tmp/ccByxKXq.s:662    .text.sdIncomingDataI:0000004a .Loc.162
     /tmp/ccByxKXq.s:667    .text.sdIncomingDataI:0000004c .Loc.163
     /tmp/ccByxKXq.s:670    .text.sdIncomingDataI:00000050 .Loc.164
     /tmp/ccByxKXq.s:673    .text.sdIncomingDataI:00000050 L0
     /tmp/ccByxKXq.s:679    .text.sdRequestDataI:00000000 sdRequestDataI
     /tmp/ccByxKXq.s:682    .text.sdRequestDataI:00000000 .Loc.165
     /tmp/ccByxKXq.s:683    .text.sdRequestDataI:00000000 L0
     /tmp/ccByxKXq.s:684    .text.sdRequestDataI:00000000 .Loc.166
     /tmp/ccByxKXq.s:706    .text.sdRequestDataI:0000000a .Loc.167
     /tmp/ccByxKXq.s:707    .text.sdRequestDataI:0000000a .Loc.168
     /tmp/ccByxKXq.s:708    .text.sdRequestDataI:0000000a .Loc.169
     /tmp/ccByxKXq.s:709    .text.sdRequestDataI:0000000a .Loc.170
     /tmp/ccByxKXq.s:710    .text.sdRequestDataI:0000000a .Loc.171
     /tmp/ccByxKXq.s:711    .text.sdRequestDataI:0000000a .Loc.172
     /tmp/ccByxKXq.s:712    .text.sdRequestDataI:0000000a .Loc.173
     /tmp/ccByxKXq.s:715    .text.sdRequestDataI:0000000c .Loc.174
     /tmp/ccByxKXq.s:720    .text.sdRequestDataI:00000012 .Loc.175
     /tmp/ccByxKXq.s:721    .text.sdRequestDataI:00000012 .Loc.176
     /tmp/ccByxKXq.s:724    .text.sdRequestDataI:00000016 .Loc.177
     /tmp/ccByxKXq.s:727    .text.sdRequestDataI:00000018 .Loc.178
     /tmp/ccByxKXq.s:733    .text.sdRequestDataI:00000020 .Loc.179
     /tmp/ccByxKXq.s:737    .text.sdRequestDataI:00000022 .Loc.180
     /tmp/ccByxKXq.s:740    .text.sdRequestDataI:00000022 .Loc.181
     /tmp/ccByxKXq.s:742    .text.sdRequestDataI:00000022 .Loc.182
     /tmp/ccByxKXq.s:746    .text.sdRequestDataI:00000026 .Loc.183
     /tmp/ccByxKXq.s:749    .text.sdRequestDataI:00000028 .Loc.184
     /tmp/ccByxKXq.s:752    .text.sdRequestDataI:0000002c .Loc.185
     /tmp/ccByxKXq.s:755    .text.sdRequestDataI:0000002c .Loc.186
     /tmp/ccByxKXq.s:756    .text.sdRequestDataI:0000002c .Loc.187
     /tmp/ccByxKXq.s:757    .text.sdRequestDataI:0000002c .Loc.188
     /tmp/ccByxKXq.s:763    .text.sdRequestDataI:00000032 .Loc.189
     /tmp/ccByxKXq.s:767    .text.sdRequestDataI:00000036 .Loc.190
     /tmp/ccByxKXq.s:769    .text.sdRequestDataI:00000038 L0
     /tmp/ccByxKXq.s:775    .text.sdPutWouldBlock:00000000 sdPutWouldBlock
     /tmp/ccByxKXq.s:778    .text.sdPutWouldBlock:00000000 .Loc.191
     /tmp/ccByxKXq.s:779    .text.sdPutWouldBlock:00000000 L0
     /tmp/ccByxKXq.s:784    .text.sdPutWouldBlock:00000000 .Loc.192
     /tmp/ccByxKXq.s:786    .text.sdPutWouldBlock:00000002 .Loc.193
     /tmp/ccByxKXq.s:787    .text.sdPutWouldBlock:00000002 .Loc.194
     /tmp/ccByxKXq.s:790    .text.sdPutWouldBlock:00000002 .Loc.195
     /tmp/ccByxKXq.s:791    .text.sdPutWouldBlock:00000002 .Loc.196
     /tmp/ccByxKXq.s:794    .text.sdPutWouldBlock:00000002 .Loc.197
     /tmp/ccByxKXq.s:796    .text.sdPutWouldBlock:00000002 .Loc.198
     /tmp/ccByxKXq.s:804    .text.sdPutWouldBlock:00000004 .Loc.199
     /tmp/ccByxKXq.s:805    .text.sdPutWouldBlock:00000004 .Loc.200
     /tmp/ccByxKXq.s:807    .text.sdPutWouldBlock:00000004 .Loc.201
     /tmp/ccByxKXq.s:808    .text.sdPutWouldBlock:00000004 .Loc.202
     /tmp/ccByxKXq.s:812    .text.sdPutWouldBlock:00000008 .Loc.203
     /tmp/ccByxKXq.s:815    .text.sdPutWouldBlock:00000008 .Loc.204
     /tmp/ccByxKXq.s:816    .text.sdPutWouldBlock:00000008 .Loc.205
     /tmp/ccByxKXq.s:817    .text.sdPutWouldBlock:00000008 .Loc.206
     /tmp/ccByxKXq.s:820    .text.sdPutWouldBlock:00000008 .Loc.207
     /tmp/ccByxKXq.s:822    .text.sdPutWouldBlock:00000008 .Loc.208
     /tmp/ccByxKXq.s:830    .text.sdPutWouldBlock:0000000a .Loc.209
     /tmp/ccByxKXq.s:832    .text.sdPutWouldBlock:0000000a .Loc.210
     /tmp/ccByxKXq.s:833    .text.sdPutWouldBlock:0000000a .Loc.211
     /tmp/ccByxKXq.s:836    .text.sdPutWouldBlock:0000000c .Loc.212
     /tmp/ccByxKXq.s:842    .text.sdPutWouldBlock:00000012 .Loc.213
     /tmp/ccByxKXq.s:844    .text.sdPutWouldBlock:00000014 L0
     /tmp/ccByxKXq.s:850    .text.sdGetWouldBlock:00000000 sdGetWouldBlock
     /tmp/ccByxKXq.s:853    .text.sdGetWouldBlock:00000000 .Loc.214
     /tmp/ccByxKXq.s:854    .text.sdGetWouldBlock:00000000 L0
     /tmp/ccByxKXq.s:859    .text.sdGetWouldBlock:00000000 .Loc.215
     /tmp/ccByxKXq.s:861    .text.sdGetWouldBlock:00000002 .Loc.216
     /tmp/ccByxKXq.s:862    .text.sdGetWouldBlock:00000002 .Loc.217
     /tmp/ccByxKXq.s:865    .text.sdGetWouldBlock:00000002 .Loc.218
     /tmp/ccByxKXq.s:866    .text.sdGetWouldBlock:00000002 .Loc.219
     /tmp/ccByxKXq.s:869    .text.sdGetWouldBlock:00000002 .Loc.220
     /tmp/ccByxKXq.s:871    .text.sdGetWouldBlock:00000002 .Loc.221
     /tmp/ccByxKXq.s:879    .text.sdGetWouldBlock:00000004 .Loc.222
     /tmp/ccByxKXq.s:880    .text.sdGetWouldBlock:00000004 .Loc.223
     /tmp/ccByxKXq.s:882    .text.sdGetWouldBlock:00000004 .Loc.224
     /tmp/ccByxKXq.s:883    .text.sdGetWouldBlock:00000004 .Loc.225
     /tmp/ccByxKXq.s:887    .text.sdGetWouldBlock:00000008 .Loc.226
     /tmp/ccByxKXq.s:890    .text.sdGetWouldBlock:00000008 .Loc.227
     /tmp/ccByxKXq.s:891    .text.sdGetWouldBlock:00000008 .Loc.228
     /tmp/ccByxKXq.s:892    .text.sdGetWouldBlock:00000008 .Loc.229
     /tmp/ccByxKXq.s:895    .text.sdGetWouldBlock:00000008 .Loc.230
     /tmp/ccByxKXq.s:897    .text.sdGetWouldBlock:00000008 .Loc.231
     /tmp/ccByxKXq.s:905    .text.sdGetWouldBlock:0000000a .Loc.232
     /tmp/ccByxKXq.s:907    .text.sdGetWouldBlock:0000000a .Loc.233
     /tmp/ccByxKXq.s:908    .text.sdGetWouldBlock:0000000a .Loc.234
     /tmp/ccByxKXq.s:911    .text.sdGetWouldBlock:0000000c .Loc.235
     /tmp/ccByxKXq.s:917    .text.sdGetWouldBlock:00000012 .Loc.236
     /tmp/ccByxKXq.s:919    .text.sdGetWouldBlock:00000014 L0
     /tmp/ccByxKXq.s:925    .text.sdControl:00000000 sdControl
     /tmp/ccByxKXq.s:928    .text.sdControl:00000000 .Loc.237
     /tmp/ccByxKXq.s:929    .text.sdControl:00000000 L0
     /tmp/ccByxKXq.s:934    .text.sdControl:00000000 .Loc.238
     /tmp/ccByxKXq.s:937    .text.sdControl:00000000 .Loc.239
     /tmp/ccByxKXq.s:939    .text.sdControl:00000000 .Loc.240
     /tmp/ccByxKXq.s:940    .text.sdControl:00000000 .Loc.241
     /tmp/ccByxKXq.s:941    .text.sdControl:00000000 .Loc.242
     /tmp/ccByxKXq.s:942    .text.sdControl:00000000 .Loc.243
     /tmp/ccByxKXq.s:943    .text.sdControl:00000000 .Loc.244
     /tmp/ccByxKXq.s:947    .text.sdControl:00000006 .Loc.245
     /tmp/ccByxKXq.s:952    .text.sdControl:0000000a .Loc.246
     /tmp/ccByxKXq.s:955    .text.sdControl:0000000a .Loc.247
     /tmp/ccByxKXq.s:961    .text.sdControl:0000000c .Loc.248
     /tmp/ccByxKXq.s:965    .text.sdControl:00000010 .Loc.249
     /tmp/ccByxKXq.s:969    .text.sdControl:00000012 L0
     /tmp/ccByxKXq.s:33     .text._readt:00000006 L0
     /tmp/ccByxKXq.s:57     .text._read:0000000a L0
     /tmp/ccByxKXq.s:79     .text._writet:00000006 L0
     /tmp/ccByxKXq.s:103    .text._write:0000000a L0
     /tmp/ccByxKXq.s:125    .text._gett:00000006 L0
     /tmp/ccByxKXq.s:149    .text._get:0000000a L0
     /tmp/ccByxKXq.s:171    .text._putt:00000006 L0
     /tmp/ccByxKXq.s:195    .text._put:0000000a L0
     /tmp/ccByxKXq.s:219    .text._ctl:00000012 L0
     /tmp/ccByxKXq.s:236    .text.sdInit:00000004 L0
     /tmp/ccByxKXq.s:353    .text.sdObjectInit:0000005a L0
     /tmp/ccByxKXq.s:445    .text.sdStart:0000001c L0
     /tmp/ccByxKXq.s:550    .text.sdStop:0000002c L0
     /tmp/ccByxKXq.s:676    .text.sdIncomingDataI:00000050 L0
     /tmp/ccByxKXq.s:772    .text.sdRequestDataI:00000038 L0
     /tmp/ccByxKXq.s:847    .text.sdPutWouldBlock:00000014 L0
     /tmp/ccByxKXq.s:922    .text.sdGetWouldBlock:00000014 L0
     /tmp/ccByxKXq.s:972    .text.sdControl:00000012 L0
                     .debug_frame:00000000 L0
     /tmp/ccByxKXq.s:212    .text._ctl:0000000c .L13
     /tmp/ccByxKXq.s:614    .text.sdIncomingDataI:00000028 .L21
     /tmp/ccByxKXq.s:642    .text.sdIncomingDataI:00000040 .L22
     /tmp/ccByxKXq.s:602    .text.sdIncomingDataI:00000020 .L18
     /tmp/ccByxKXq.s:736    .text.sdRequestDataI:00000022 .L25
     /tmp/ccByxKXq.s:840    .text.sdPutWouldBlock:00000012 .L27
     /tmp/ccByxKXq.s:915    .text.sdGetWouldBlock:00000012 .L32
     /tmp/ccByxKXq.s:958    .text.sdControl:0000000c .L39
     /tmp/ccByxKXq.s:4262   .debug_abbrev:00000000 .Ldebug_abbrev0
     /tmp/ccByxKXq.s:7186   .debug_ranges:00000000 .Ldebug_ranges0
     /tmp/ccByxKXq.s:7238   .debug_line:00000000 .Ldebug_line0
     /tmp/ccByxKXq.s:927    .text.sdControl:00000000 .LFB163
     /tmp/ccByxKXq.s:970    .text.sdControl:00000012 .LFE163
     /tmp/ccByxKXq.s:5382   .debug_loc:00000008 .LLST47
     /tmp/ccByxKXq.s:5373   .debug_loc:00000000 .LVUS47
     /tmp/ccByxKXq.s:936    .text.sdControl:00000000 .LBI86
     /tmp/ccByxKXq.s:5436   .debug_loc:0000005e .LLST48
     /tmp/ccByxKXq.s:5429   .debug_loc:00000058 .LVUS48
     /tmp/ccByxKXq.s:5475   .debug_loc:0000009e .LLST49
     /tmp/ccByxKXq.s:5470   .debug_loc:0000009a .LVUS49
     /tmp/ccByxKXq.s:5501   .debug_loc:000000ca .LLST50
     /tmp/ccByxKXq.s:5496   .debug_loc:000000c6 .LVUS50
     /tmp/ccByxKXq.s:5531   .debug_loc:000000fa .LLST51
     /tmp/ccByxKXq.s:5522   .debug_loc:000000f2 .LVUS51
     /tmp/ccByxKXq.s:852    .text.sdGetWouldBlock:00000000 .LFB162
     /tmp/ccByxKXq.s:920    .text.sdGetWouldBlock:00000014 .LFE162
     /tmp/ccByxKXq.s:5583   .debug_loc:0000014e .LLST45
     /tmp/ccByxKXq.s:5578   .debug_loc:0000014a .LVUS45
     /tmp/ccByxKXq.s:5607   .debug_loc:00000178 .LLST46
     /tmp/ccByxKXq.s:5604   .debug_loc:00000176 .LVUS46
     /tmp/ccByxKXq.s:864    .text.sdGetWouldBlock:00000002 .LBI80
     /tmp/ccByxKXq.s:863    .text.sdGetWouldBlock:00000002 .LBB80
     /tmp/ccByxKXq.s:881    .text.sdGetWouldBlock:00000004 .LBE80
     /tmp/ccByxKXq.s:868    .text.sdGetWouldBlock:00000002 .LBI81
     /tmp/ccByxKXq.s:867    .text.sdGetWouldBlock:00000002 .LBB81
     /tmp/ccByxKXq.s:878    .text.sdGetWouldBlock:00000004 .LBE81
     /tmp/ccByxKXq.s:889    .text.sdGetWouldBlock:00000008 .LBI83
     /tmp/ccByxKXq.s:888    .text.sdGetWouldBlock:00000008 .LBB83
     /tmp/ccByxKXq.s:906    .text.sdGetWouldBlock:0000000a .LBE83
     /tmp/ccByxKXq.s:894    .text.sdGetWouldBlock:00000008 .LBI84
     /tmp/ccByxKXq.s:893    .text.sdGetWouldBlock:00000008 .LBB84
     /tmp/ccByxKXq.s:904    .text.sdGetWouldBlock:0000000a .LBE84
     /tmp/ccByxKXq.s:777    .text.sdPutWouldBlock:00000000 .LFB161
     /tmp/ccByxKXq.s:845    .text.sdPutWouldBlock:00000014 .LFE161
     /tmp/ccByxKXq.s:5625   .debug_loc:00000195 .LLST43
     /tmp/ccByxKXq.s:5620   .debug_loc:00000191 .LVUS43
     /tmp/ccByxKXq.s:5649   .debug_loc:000001bf .LLST44
     /tmp/ccByxKXq.s:5646   .debug_loc:000001bd .LVUS44
     /tmp/ccByxKXq.s:789    .text.sdPutWouldBlock:00000002 .LBI74
     /tmp/ccByxKXq.s:788    .text.sdPutWouldBlock:00000002 .LBB74
     /tmp/ccByxKXq.s:806    .text.sdPutWouldBlock:00000004 .LBE74
     /tmp/ccByxKXq.s:793    .text.sdPutWouldBlock:00000002 .LBI75
     /tmp/ccByxKXq.s:792    .text.sdPutWouldBlock:00000002 .LBB75
     /tmp/ccByxKXq.s:803    .text.sdPutWouldBlock:00000004 .LBE75
     /tmp/ccByxKXq.s:814    .text.sdPutWouldBlock:00000008 .LBI77
     /tmp/ccByxKXq.s:813    .text.sdPutWouldBlock:00000008 .LBB77
     /tmp/ccByxKXq.s:831    .text.sdPutWouldBlock:0000000a .LBE77
     /tmp/ccByxKXq.s:819    .text.sdPutWouldBlock:00000008 .LBI78
     /tmp/ccByxKXq.s:818    .text.sdPutWouldBlock:00000008 .LBB78
     /tmp/ccByxKXq.s:829    .text.sdPutWouldBlock:0000000a .LBE78
     /tmp/ccByxKXq.s:681    .text.sdRequestDataI:00000000 .LFB160
     /tmp/ccByxKXq.s:770    .text.sdRequestDataI:00000038 .LFE160
     /tmp/ccByxKXq.s:5662   .debug_loc:000001d8 .LLST38
     /tmp/ccByxKXq.s:5706   .debug_loc:0000022b .LLST39
     /tmp/ccByxKXq.s:5695   .debug_loc:00000221 .LVUS39
     /tmp/ccByxKXq.s:5769   .debug_loc:00000291 .LLST40
     /tmp/ccByxKXq.s:5762   .debug_loc:0000028b .LVUS40
     /tmp/ccByxKXq.s:739    .text.sdRequestDataI:00000022 .LBI72
     /tmp/ccByxKXq.s:738    .text.sdRequestDataI:00000022 .LBB72
     /tmp/ccByxKXq.s:754    .text.sdRequestDataI:0000002c .LBE72
     /tmp/ccByxKXq.s:5806   .debug_loc:000002cf .LLST41
     /tmp/ccByxKXq.s:5799   .debug_loc:000002c9 .LVUS41
     /tmp/ccByxKXq.s:5833   .debug_loc:00000303 .LLST42
     /tmp/ccByxKXq.s:5830   .debug_loc:00000301 .LVUS42
     /tmp/ccByxKXq.s:751    .text.sdRequestDataI:0000002c .LVL68
     /tmp/ccByxKXq.s:717    .text.sdRequestDataI:00000010 .LVL62
     /tmp/ccByxKXq.s:555    .text.sdIncomingDataI:00000000 .LFB159
     /tmp/ccByxKXq.s:674    .text.sdIncomingDataI:00000050 .LFE159
     /tmp/ccByxKXq.s:5841   .debug_loc:00000317 .LLST32
     /tmp/ccByxKXq.s:5881   .debug_loc:0000035f .LLST33
     /tmp/ccByxKXq.s:5868   .debug_loc:00000353 .LVUS33
     /tmp/ccByxKXq.s:5954   .debug_loc:000003d6 .LLST34
     /tmp/ccByxKXq.s:5943   .debug_loc:000003cc .LVUS34
     /tmp/ccByxKXq.s:617    .text.sdIncomingDataI:00000028 .LBI66
     /tmp/ccByxKXq.s:616    .text.sdIncomingDataI:00000028 .LBB66
     /tmp/ccByxKXq.s:630    .text.sdIncomingDataI:00000032 .LBE66
     /tmp/ccByxKXq.s:6002   .debug_loc:0000042d .LLST35
     /tmp/ccByxKXq.s:5995   .debug_loc:00000427 .LVUS35
     /tmp/ccByxKXq.s:6029   .debug_loc:00000461 .LLST36
     /tmp/ccByxKXq.s:6026   .debug_loc:0000045f .LVUS36
     /tmp/ccByxKXq.s:627    .text.sdIncomingDataI:00000032 .LVL53
     /tmp/ccByxKXq.s:646    .text.sdIncomingDataI:00000040 .LBI68
     /tmp/ccByxKXq.s:6044   .debug_loc:0000047b .LLST37
     /tmp/ccByxKXq.s:6037   .debug_loc:00000475 .LVUS37
     /tmp/ccByxKXq.s:669    .text.sdIncomingDataI:00000050 .LVL59
     /tmp/ccByxKXq.s:598    .text.sdIncomingDataI:0000001c .LVL48
     /tmp/ccByxKXq.s:638    .text.sdIncomingDataI:0000003c .LVL54
     /tmp/ccByxKXq.s:450    .text.sdStop:00000000 .LFB158
     /tmp/ccByxKXq.s:548    .text.sdStop:0000002c .LFE158
     /tmp/ccByxKXq.s:6077   .debug_loc:000004b6 .LLST30
     /tmp/ccByxKXq.s:6105   .debug_loc:000004eb .LLST31
     /tmp/ccByxKXq.s:6098   .debug_loc:000004e5 .LVUS31
     /tmp/ccByxKXq.s:472    .text.sdStop:00000006 .LBI58
     /tmp/ccByxKXq.s:471    .text.sdStop:00000006 .LBB58
     /tmp/ccByxKXq.s:489    .text.sdStop:00000008 .LBE58
     /tmp/ccByxKXq.s:476    .text.sdStop:00000006 .LBI59
     /tmp/ccByxKXq.s:475    .text.sdStop:00000006 .LBB59
     /tmp/ccByxKXq.s:486    .text.sdStop:00000008 .LBE59
     /tmp/ccByxKXq.s:512    .text.sdStop:00000020 .LBI61
     /tmp/ccByxKXq.s:511    .text.sdStop:00000020 .LBB61
     /tmp/ccByxKXq.s:519    .text.sdStop:00000024 .LBE61
     /tmp/ccByxKXq.s:517    .text.sdStop:00000024 .LVL43
     /tmp/ccByxKXq.s:522    .text.sdStop:00000024 .LBI63
     /tmp/ccByxKXq.s:521    .text.sdStop:00000024 .LBB63
     /tmp/ccByxKXq.s:540    .text.sdStop:00000026 .LBE63
     /tmp/ccByxKXq.s:527    .text.sdStop:00000024 .LBI64
     /tmp/ccByxKXq.s:526    .text.sdStop:00000024 .LBB64
     /tmp/ccByxKXq.s:537    .text.sdStop:00000026 .LBE64
     /tmp/ccByxKXq.s:495    .text.sdStop:0000000c .LVL40
     /tmp/ccByxKXq.s:504    .text.sdStop:00000018 .LVL41
     /tmp/ccByxKXq.s:509    .text.sdStop:00000020 .LVL42
     /tmp/ccByxKXq.s:358    .text.sdStart:00000000 .LFB157
     /tmp/ccByxKXq.s:443    .text.sdStart:0000001c .LFE157
     /tmp/ccByxKXq.s:6139   .debug_loc:00000527 .LLST27
     /tmp/ccByxKXq.s:6167   .debug_loc:0000055c .LLST28
     /tmp/ccByxKXq.s:6160   .debug_loc:00000556 .LVUS28
     /tmp/ccByxKXq.s:6206   .debug_loc:0000059c .LLST29
     /tmp/ccByxKXq.s:6201   .debug_loc:00000598 .LVUS29
     /tmp/ccByxKXq.s:381    .text.sdStart:00000006 .LBI52
     /tmp/ccByxKXq.s:380    .text.sdStart:00000006 .LBB52
     /tmp/ccByxKXq.s:399    .text.sdStart:00000008 .LBE52
     /tmp/ccByxKXq.s:385    .text.sdStart:00000006 .LBI53
     /tmp/ccByxKXq.s:384    .text.sdStart:00000006 .LBB53
     /tmp/ccByxKXq.s:396    .text.sdStart:00000008 .LBE53
     /tmp/ccByxKXq.s:414    .text.sdStart:00000010 .LBI55
     /tmp/ccByxKXq.s:413    .text.sdStart:00000010 .LBB55
     /tmp/ccByxKXq.s:431    .text.sdStart:00000012 .LBE55
     /tmp/ccByxKXq.s:419    .text.sdStart:00000010 .LBI56
     /tmp/ccByxKXq.s:418    .text.sdStart:00000010 .LBB56
     /tmp/ccByxKXq.s:429    .text.sdStart:00000012 .LBE56
     /tmp/ccByxKXq.s:405    .text.sdStart:0000000c .LVL37
     /tmp/ccByxKXq.s:241    .text.sdObjectInit:00000000 .LFB156
     /tmp/ccByxKXq.s:351    .text.sdObjectInit:0000005a .LFE156
     /tmp/ccByxKXq.s:6231   .debug_loc:000005c8 .LLST22
     /tmp/ccByxKXq.s:6285   .debug_loc:00000633 .LLST23
     /tmp/ccByxKXq.s:6276   .debug_loc:0000062b .LVUS23
     /tmp/ccByxKXq.s:6335   .debug_loc:00000685 .LLST24
     /tmp/ccByxKXq.s:6328   .debug_loc:0000067f .LVUS24
     /tmp/ccByxKXq.s:6376   .debug_loc:000006c7 .LLST25
     /tmp/ccByxKXq.s:6369   .debug_loc:000006c1 .LVUS25
     /tmp/ccByxKXq.s:288    .text.sdObjectInit:0000001c .LBI50
     /tmp/ccByxKXq.s:287    .text.sdObjectInit:0000001c .LBB50
     /tmp/ccByxKXq.s:300    .text.sdObjectInit:00000020 .LBE50
     /tmp/ccByxKXq.s:6413   .debug_loc:00000705 .LLST26
     /tmp/ccByxKXq.s:6410   .debug_loc:00000703 .LVUS26
     /tmp/ccByxKXq.s:321    .text.sdObjectInit:00000038 .LVL31
     /tmp/ccByxKXq.s:334    .text.sdObjectInit:0000004c .LVL32
     /tmp/ccByxKXq.s:223    .text.sdInit:00000000 .LFB155
     /tmp/ccByxKXq.s:234    .text.sdInit:00000004 .LFE155
     /tmp/ccByxKXq.s:232    .text.sdInit:00000004 .LVL24
     /tmp/ccByxKXq.s:15     .text._readt:00000000 .LFB153
     /tmp/ccByxKXq.s:31     .text._readt:00000006 .LFE153
     /tmp/ccByxKXq.s:6432   .debug_loc:00000723 .LLST0
     /tmp/ccByxKXq.s:6425   .debug_loc:0000071d .LVUS0
     /tmp/ccByxKXq.s:6468   .debug_loc:00000760 .LLST1
     /tmp/ccByxKXq.s:6463   .debug_loc:0000075c .LVUS1
     /tmp/ccByxKXq.s:6498   .debug_loc:00000790 .LLST2
     /tmp/ccByxKXq.s:6493   .debug_loc:0000078c .LVUS2
     /tmp/ccByxKXq.s:6528   .debug_loc:000007c0 .LLST3
     /tmp/ccByxKXq.s:6523   .debug_loc:000007bc .LVUS3
     /tmp/ccByxKXq.s:28     .text._readt:00000006 .LVL2
     /tmp/ccByxKXq.s:61     .text._writet:00000000 .LFB152
     /tmp/ccByxKXq.s:77     .text._writet:00000006 .LFE152
     /tmp/ccByxKXq.s:6560   .debug_loc:000007f2 .LLST7
     /tmp/ccByxKXq.s:6553   .debug_loc:000007ec .LVUS7
     /tmp/ccByxKXq.s:6596   .debug_loc:0000082f .LLST8
     /tmp/ccByxKXq.s:6591   .debug_loc:0000082b .LVUS8
     /tmp/ccByxKXq.s:6626   .debug_loc:0000085f .LLST9
     /tmp/ccByxKXq.s:6621   .debug_loc:0000085b .LVUS9
     /tmp/ccByxKXq.s:6656   .debug_loc:0000088f .LLST10
     /tmp/ccByxKXq.s:6651   .debug_loc:0000088b .LVUS10
     /tmp/ccByxKXq.s:74     .text._writet:00000006 .LVL8
     /tmp/ccByxKXq.s:107    .text._gett:00000000 .LFB151
     /tmp/ccByxKXq.s:123    .text._gett:00000006 .LFE151
     /tmp/ccByxKXq.s:6688   .debug_loc:000008c1 .LLST14
     /tmp/ccByxKXq.s:6681   .debug_loc:000008bb .LVUS14
     /tmp/ccByxKXq.s:6724   .debug_loc:000008fe .LLST15
     /tmp/ccByxKXq.s:6719   .debug_loc:000008fa .LVUS15
     /tmp/ccByxKXq.s:120    .text._gett:00000006 .LVL14
     /tmp/ccByxKXq.s:153    .text._putt:00000000 .LFB150
     /tmp/ccByxKXq.s:169    .text._putt:00000006 .LFE150
     /tmp/ccByxKXq.s:6756   .debug_loc:00000930 .LLST17
     /tmp/ccByxKXq.s:6749   .debug_loc:0000092a .LVUS17
     /tmp/ccByxKXq.s:6792   .debug_loc:0000096d .LLST18
     /tmp/ccByxKXq.s:6787   .debug_loc:00000969 .LVUS18
     /tmp/ccByxKXq.s:6817   .debug_loc:00000998 .LLST19
     /tmp/ccByxKXq.s:6812   .debug_loc:00000994 .LVUS19
     /tmp/ccByxKXq.s:166    .text._putt:00000006 .LVL20
     /tmp/ccByxKXq.s:129    .text._get:00000000 .LFB149
     /tmp/ccByxKXq.s:147    .text._get:0000000a .LFE149
     /tmp/ccByxKXq.s:6849   .debug_loc:000009ca .LLST16
     /tmp/ccByxKXq.s:6842   .debug_loc:000009c4 .LVUS16
     /tmp/ccByxKXq.s:144    .text._get:0000000a .LVL17
     /tmp/ccByxKXq.s:175    .text._put:00000000 .LFB148
     /tmp/ccByxKXq.s:193    .text._put:0000000a .LFE148
     /tmp/ccByxKXq.s:6887   .debug_loc:00000a09 .LLST20
     /tmp/ccByxKXq.s:6880   .debug_loc:00000a03 .LVUS20
     /tmp/ccByxKXq.s:6923   .debug_loc:00000a46 .LLST21
     /tmp/ccByxKXq.s:6918   .debug_loc:00000a42 .LVUS21
     /tmp/ccByxKXq.s:190    .text._put:0000000a .LVL23
     /tmp/ccByxKXq.s:37     .text._read:00000000 .LFB147
     /tmp/ccByxKXq.s:55     .text._read:0000000a .LFE147
     /tmp/ccByxKXq.s:6950   .debug_loc:00000a73 .LLST4
     /tmp/ccByxKXq.s:6943   .debug_loc:00000a6d .LVUS4
     /tmp/ccByxKXq.s:6986   .debug_loc:00000ab0 .LLST5
     /tmp/ccByxKXq.s:6981   .debug_loc:00000aac .LVUS5
     /tmp/ccByxKXq.s:7016   .debug_loc:00000ae0 .LLST6
     /tmp/ccByxKXq.s:7011   .debug_loc:00000adc .LVUS6
     /tmp/ccByxKXq.s:52     .text._read:0000000a .LVL5
     /tmp/ccByxKXq.s:83     .text._write:00000000 .LFB146
     /tmp/ccByxKXq.s:101    .text._write:0000000a .LFE146
     /tmp/ccByxKXq.s:7048   .debug_loc:00000b12 .LLST11
     /tmp/ccByxKXq.s:7041   .debug_loc:00000b0c .LVUS11
     /tmp/ccByxKXq.s:7084   .debug_loc:00000b4f .LLST12
     /tmp/ccByxKXq.s:7079   .debug_loc:00000b4b .LVUS12
     /tmp/ccByxKXq.s:7114   .debug_loc:00000b7f .LLST13
     /tmp/ccByxKXq.s:7109   .debug_loc:00000b7b .LVUS13
     /tmp/ccByxKXq.s:98     .text._write:0000000a .LVL11
     /tmp/ccByxKXq.s:926    .text.sdControl:00000000 .LVL77
     /tmp/ccByxKXq.s:950    .text.sdControl:0000000a .LVL78
     /tmp/ccByxKXq.s:957    .text.sdControl:0000000c .LVL79
     /tmp/ccByxKXq.s:964    .text.sdControl:00000010 .LVL80
     /tmp/ccByxKXq.s:851    .text.sdGetWouldBlock:00000000 .LVL74
     /tmp/ccByxKXq.s:910    .text.sdGetWouldBlock:0000000c .LVL76
     /tmp/ccByxKXq.s:886    .text.sdGetWouldBlock:00000008 .LVL75
     /tmp/ccByxKXq.s:776    .text.sdPutWouldBlock:00000000 .LVL71
     /tmp/ccByxKXq.s:835    .text.sdPutWouldBlock:0000000c .LVL73
     /tmp/ccByxKXq.s:811    .text.sdPutWouldBlock:00000008 .LVL72
     /tmp/ccByxKXq.s:686    .text.sdRequestDataI:00000002 .LCFI13
     /tmp/ccByxKXq.s:690    .text.sdRequestDataI:00000004 .LCFI14
     /tmp/ccByxKXq.s:694    .text.sdRequestDataI:00000006 .LCFI15
     /tmp/ccByxKXq.s:698    .text.sdRequestDataI:00000008 .LCFI16
     /tmp/ccByxKXq.s:680    .text.sdRequestDataI:00000000 .LVL60
     /tmp/ccByxKXq.s:714    .text.sdRequestDataI:0000000c .LVL61
     /tmp/ccByxKXq.s:732    .text.sdRequestDataI:00000020 .LVL64
     /tmp/ccByxKXq.s:735    .text.sdRequestDataI:00000022 .LVL65
     /tmp/ccByxKXq.s:766    .text.sdRequestDataI:00000036 .LVL70
     /tmp/ccByxKXq.s:719    .text.sdRequestDataI:00000012 .LVL63
     /tmp/ccByxKXq.s:745    .text.sdRequestDataI:00000026 .LVL66
     /tmp/ccByxKXq.s:762    .text.sdRequestDataI:00000032 .LVL69
     /tmp/ccByxKXq.s:748    .text.sdRequestDataI:00000028 .LVL67
     /tmp/ccByxKXq.s:560    .text.sdIncomingDataI:00000002 .LCFI10
     /tmp/ccByxKXq.s:564    .text.sdIncomingDataI:00000004 .LCFI11
     /tmp/ccByxKXq.s:568    .text.sdIncomingDataI:00000006 .LCFI12
     /tmp/ccByxKXq.s:554    .text.sdIncomingDataI:00000000 .LVL45
     /tmp/ccByxKXq.s:585    .text.sdIncomingDataI:0000000e .LVL46
     /tmp/ccByxKXq.s:607    .text.sdIncomingDataI:00000024 .LVL49
     /tmp/ccByxKXq.s:613    .text.sdIncomingDataI:00000028 .LVL51
     /tmp/ccByxKXq.s:661    .text.sdIncomingDataI:0000004a .LVL57
     /tmp/ccByxKXq.s:593    .text.sdIncomingDataI:00000014 .LVL47
     /tmp/ccByxKXq.s:610    .text.sdIncomingDataI:00000026 .LVL50
     /tmp/ccByxKXq.s:664    .text.sdIncomingDataI:0000004c .LVL58
     /tmp/ccByxKXq.s:624    .text.sdIncomingDataI:0000002e .LVL52
     /tmp/ccByxKXq.s:644    .text.sdIncomingDataI:00000040 .LVL55
     /tmp/ccByxKXq.s:653    .text.sdIncomingDataI:00000046 .LVL56
     /tmp/ccByxKXq.s:455    .text.sdStop:00000002 .LCFI8
     /tmp/ccByxKXq.s:459    .text.sdStop:00000004 .LCFI9
     /tmp/ccByxKXq.s:449    .text.sdStop:00000000 .LVL39
     /tmp/ccByxKXq.s:544    .text.sdStop:0000002a .LVL44
     /tmp/ccByxKXq.s:363    .text.sdStart:00000002 .LCFI6
     /tmp/ccByxKXq.s:367    .text.sdStart:00000004 .LCFI7
     /tmp/ccByxKXq.s:357    .text.sdStart:00000000 .LVL36
     /tmp/ccByxKXq.s:439    .text.sdStart:0000001a .LVL38
     /tmp/ccByxKXq.s:246    .text.sdObjectInit:00000002 .LCFI0
     /tmp/ccByxKXq.s:250    .text.sdObjectInit:00000004 .LCFI1
     /tmp/ccByxKXq.s:254    .text.sdObjectInit:00000006 .LCFI2
     /tmp/ccByxKXq.s:258    .text.sdObjectInit:00000008 .LCFI3
     /tmp/ccByxKXq.s:262    .text.sdObjectInit:0000000a .LCFI4
     /tmp/ccByxKXq.s:266    .text.sdObjectInit:0000000c .LCFI5
     /tmp/ccByxKXq.s:240    .text.sdObjectInit:00000000 .LVL25
     /tmp/ccByxKXq.s:281    .text.sdObjectInit:00000018 .LVL26
     /tmp/ccByxKXq.s:339    .text.sdObjectInit:00000050 .LVL33
     /tmp/ccByxKXq.s:343    .text.sdObjectInit:00000054 .LVL34
     /tmp/ccByxKXq.s:308    .text.sdObjectInit:00000026 .LVL29
     /tmp/ccByxKXq.s:316    .text.sdObjectInit:00000030 .LVL30
     /tmp/ccByxKXq.s:347    .text.sdObjectInit:00000058 .LVL35
     /tmp/ccByxKXq.s:286    .text.sdObjectInit:0000001c .LVL27
     /tmp/ccByxKXq.s:297    .text.sdObjectInit:00000020 .LVL28
     /tmp/ccByxKXq.s:14     .text._readt:00000000 .LVL0
     /tmp/ccByxKXq.s:25     .text._readt:00000002 .LVL1
     /tmp/ccByxKXq.s:60     .text._writet:00000000 .LVL6
     /tmp/ccByxKXq.s:71     .text._writet:00000002 .LVL7
     /tmp/ccByxKXq.s:106    .text._gett:00000000 .LVL12
     /tmp/ccByxKXq.s:117    .text._gett:00000002 .LVL13
     /tmp/ccByxKXq.s:152    .text._putt:00000000 .LVL18
     /tmp/ccByxKXq.s:163    .text._putt:00000002 .LVL19
     /tmp/ccByxKXq.s:128    .text._get:00000000 .LVL15
     /tmp/ccByxKXq.s:141    .text._get:00000006 .LVL16
     /tmp/ccByxKXq.s:174    .text._put:00000000 .LVL21
     /tmp/ccByxKXq.s:187    .text._put:00000006 .LVL22
     /tmp/ccByxKXq.s:36     .text._read:00000000 .LVL3
     /tmp/ccByxKXq.s:49     .text._read:00000006 .LVL4
     /tmp/ccByxKXq.s:82     .text._write:00000000 .LVL9
     /tmp/ccByxKXq.s:95     .text._write:00000006 .LVL10
     /tmp/ccByxKXq.s:997    .debug_info:00000000 .Ldebug_info0
     /tmp/ccByxKXq.s:198    .text._ctl:00000000 .LFB165
     /tmp/ccByxKXq.s:217    .text._ctl:00000012 .LFE165
     /tmp/ccByxKXq.s:645    .text.sdIncomingDataI:00000040 .LBB68
     /tmp/ccByxKXq.s:657    .text.sdIncomingDataI:00000046 .LBE68
     /tmp/ccByxKXq.s:665    .text.sdIncomingDataI:0000004c .LBB71
     /tmp/ccByxKXq.s:672    .text.sdIncomingDataI:00000050 .LBE71
     /tmp/ccByxKXq.s:935    .text.sdControl:00000000 .LBB86
     /tmp/ccByxKXq.s:954    .text.sdControl:0000000a .LBE86
     /tmp/ccByxKXq.s:959    .text.sdControl:0000000c .LBB89
     /tmp/ccByxKXq.s:968    .text.sdControl:00000012 .LBE89

UNDEFINED SYMBOLS
iqReadTimeout
oqWriteTimeout
iqGetTimeout
oqPutTimeout
sd_lld_init
iqObjectInit
oqObjectInit
sd_lld_start
sd_lld_stop
oqResetI
iqResetI
chSchRescheduleS
iqPutI
chEvtBroadcastFlagsI
oqGetI
__do_copy_data
